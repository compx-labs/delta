{
    "hints": {
        "createApplication(address,uint64)void": {
            "call_config": {
                "no_op": "CREATE"
            }
        },
        "initApplication(uint64,uint64,uint64,uint64,uint64,uint64,pay)void": {
            "call_config": {
                "no_op": "CALL"
            }
        },
        "fundRewards(axfer,uint64)void": {
            "call_config": {
                "no_op": "CALL"
            }
        },
        "fundMoreRewards(axfer,uint64)void": {
            "call_config": {
                "no_op": "CALL"
            }
        },
        "removeRewards()void": {
            "call_config": {
                "no_op": "CALL"
            }
        },
        "setContractActive()void": {
            "call_config": {
                "no_op": "CALL"
            }
        },
        "setContractInactive()void": {
            "call_config": {
                "no_op": "CALL"
            }
        },
        "updateAdminAddress(address)void": {
            "call_config": {
                "no_op": "CALL"
            }
        },
        "updateSuperAdminAddress(address)void": {
            "call_config": {
                "no_op": "CALL"
            }
        },
        "withdrawPlatformFees(address)void": {
            "call_config": {
                "no_op": "CALL"
            }
        },
        "emergencyWithdrawAsset(uint64,uint64,address)void": {
            "call_config": {
                "no_op": "CALL"
            }
        },
        "stake(axfer,uint64,pay)void": {
            "call_config": {
                "no_op": "CALL"
            }
        },
        "claimRewards()void": {
            "call_config": {
                "no_op": "CALL"
            }
        },
        "unstake(uint64)void": {
            "call_config": {
                "no_op": "CALL"
            }
        },
        "deleteApplication()void": {
            "call_config": {
                "delete_application": "CALL"
            }
        },
        "gas()void": {
            "call_config": {
                "no_op": "CALL"
            }
        }
    },
    "source": {
        "approval": "I3ByYWdtYSB2ZXJzaW9uIDExCiNwcmFnbWEgdHlwZXRyYWNrIGZhbHNlCgovLyBAYWxnb3JhbmRmb3VuZGF0aW9uL2FsZ29yYW5kLXR5cGVzY3JpcHQvYXJjNC9pbmRleC5kLnRzOjpDb250cmFjdC5hcHByb3ZhbFByb2dyYW0oKSAtPiB1aW50NjQ6Cm1haW46CiAgICBpbnRjYmxvY2sgMCAxIDggNCAxMDAwMDAwMDAwMDAwMDAwIDEwMDAwIDIyNTAwCiAgICBieXRlY2Jsb2NrIDB4MDAwMDAwMDAwMDAwMDAwMCAicmV3YXJkc19wYWlkIiAicGxhdGZvcm1fZmVlc19hY2NydWVkIiAidG90YWxfc3Rha2VkIiAic3QiICJhZG1pbl9hZGRyZXNzIiAicmV3YXJkX2Fzc2V0X2lkIiAiYWNjcnVlZF9yZXdhcmRzIiAiY29udHJhY3Rfc3RhdGUiICJyZXdhcmRfcGVyX3Rva2VuIiAibnVtX3N0YWtlcnMiICJsYXN0X3VwZGF0ZV90aW1lIiAicmV3YXJkc19leGhhdXN0ZWQiICJ0b3RhbF9yZXdhcmRzIiAic3VwZXJfYWRtaW5fYWRkcmVzcyIgInBsYXRmb3JtX2ZlZV9icHMiICJzdGFrZWRfYXNzZXRfaWQiIDB4MDAwMDAwMDAwMDAwMDAwMSAibWFzdGVyX3JlcG9fYXBwIiAiaW5pdGlhbGl6ZWQiICJyZXdhcmRfcmF0ZSIgInN0YXJ0X3RpbWUiICJhcHJfYnBzIiAweDE1MWY3Yzc1CiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6MjQtMjUKICAgIC8vIEBjb250cmFjdCh7IG5hbWU6ICJzdGFraW5nIiwgYXZtVmVyc2lvbjogMTEgfSkKICAgIC8vIGV4cG9ydCBjbGFzcyBTdGFraW5nIGV4dGVuZHMgQ29udHJhY3QgewogICAgcHVzaGJ5dGVzIDB4MjQ4N2MzMmMgLy8gbWV0aG9kICJkZWxldGVBcHBsaWNhdGlvbigpdm9pZCIKICAgIHR4bmEgQXBwbGljYXRpb25BcmdzIDAKICAgIG1hdGNoIG1haW5fZGVsZXRlQXBwbGljYXRpb25fcm91dGVAMgoKbWFpbl9zd2l0Y2hfY2FzZV9uZXh0QDM6CiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6MjQtMjUKICAgIC8vIEBjb250cmFjdCh7IG5hbWU6ICJzdGFraW5nIiwgYXZtVmVyc2lvbjogMTEgfSkKICAgIC8vIGV4cG9ydCBjbGFzcyBTdGFraW5nIGV4dGVuZHMgQ29udHJhY3QgewogICAgdHhuIE9uQ29tcGxldGlvbgogICAgIQogICAgYXNzZXJ0IC8vIE9uQ29tcGxldGlvbiBtdXN0IGJlIE5vT3AKICAgIHR4biBBcHBsaWNhdGlvbklECiAgICBieiBtYWluX2NyZWF0ZV9Ob09wQDIwCiAgICBwdXNoYnl0ZXNzIDB4NzczNmE0NTEgMHg4MjY0Yzk4ZSAweDcxYmZmZjExIDB4NTYxMzQ0MTEgMHhjM2JkN2VkNCAweGRhMjcwMDRhIDB4YTNmZWE0MGYgMHg2NTkwNDY3YSAweDkwN2RmM2Y2IDB4Mjk0ZDM3ZTkgMHg3YTllZTE4OSAweGE1YWU2YmQxIDB4ODEzY2U4OWEgMHgzMTcyY2E5ZCAvLyBtZXRob2QgImluaXRBcHBsaWNhdGlvbih1aW50NjQsdWludDY0LHVpbnQ2NCx1aW50NjQsdWludDY0LHVpbnQ2NCxwYXkpdm9pZCIsIG1ldGhvZCAiZnVuZFJld2FyZHMoYXhmZXIsdWludDY0KXZvaWQiLCBtZXRob2QgImZ1bmRNb3JlUmV3YXJkcyhheGZlcix1aW50NjQpdm9pZCIsIG1ldGhvZCAicmVtb3ZlUmV3YXJkcygpdm9pZCIsIG1ldGhvZCAic2V0Q29udHJhY3RBY3RpdmUoKXZvaWQiLCBtZXRob2QgInNldENvbnRyYWN0SW5hY3RpdmUoKXZvaWQiLCBtZXRob2QgInVwZGF0ZUFkbWluQWRkcmVzcyhhZGRyZXNzKXZvaWQiLCBtZXRob2QgInVwZGF0ZVN1cGVyQWRtaW5BZGRyZXNzKGFkZHJlc3Mpdm9pZCIsIG1ldGhvZCAid2l0aGRyYXdQbGF0Zm9ybUZlZXMoYWRkcmVzcyl2b2lkIiwgbWV0aG9kICJlbWVyZ2VuY3lXaXRoZHJhd0Fzc2V0KHVpbnQ2NCx1aW50NjQsYWRkcmVzcyl2b2lkIiwgbWV0aG9kICJzdGFrZShheGZlcix1aW50NjQscGF5KXZvaWQiLCBtZXRob2QgImNsYWltUmV3YXJkcygpdm9pZCIsIG1ldGhvZCAidW5zdGFrZSh1aW50NjQpdm9pZCIsIG1ldGhvZCAiZ2FzKCl2b2lkIgogICAgdHhuYSBBcHBsaWNhdGlvbkFyZ3MgMAogICAgbWF0Y2ggaW5pdEFwcGxpY2F0aW9uIGZ1bmRSZXdhcmRzIGZ1bmRNb3JlUmV3YXJkcyByZW1vdmVSZXdhcmRzIHNldENvbnRyYWN0QWN0aXZlIHNldENvbnRyYWN0SW5hY3RpdmUgdXBkYXRlQWRtaW5BZGRyZXNzIHVwZGF0ZVN1cGVyQWRtaW5BZGRyZXNzIHdpdGhkcmF3UGxhdGZvcm1GZWVzIGVtZXJnZW5jeVdpdGhkcmF3QXNzZXQgc3Rha2UgY2xhaW1SZXdhcmRzIHVuc3Rha2UgbWFpbl9nYXNfcm91dGVAMTgKICAgIGVycgoKbWFpbl9nYXNfcm91dGVAMTg6CiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6NTgwCiAgICAvLyBAYWJpbWV0aG9kKHsgYWxsb3dBY3Rpb25zOiAiTm9PcCIgfSkKICAgIGludGNfMSAvLyAxCiAgICByZXR1cm4KCm1haW5fY3JlYXRlX05vT3BAMjA6CiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6MjQtMjUKICAgIC8vIEBjb250cmFjdCh7IG5hbWU6ICJzdGFraW5nIiwgYXZtVmVyc2lvbjogMTEgfSkKICAgIC8vIGV4cG9ydCBjbGFzcyBTdGFraW5nIGV4dGVuZHMgQ29udHJhY3QgewogICAgcHVzaGJ5dGVzIDB4Y2QxOWYxYTYgLy8gbWV0aG9kICJjcmVhdGVBcHBsaWNhdGlvbihhZGRyZXNzLHVpbnQ2NCl2b2lkIgogICAgdHhuYSBBcHBsaWNhdGlvbkFyZ3MgMAogICAgbWF0Y2ggY3JlYXRlQXBwbGljYXRpb24KICAgIGVycgoKbWFpbl9kZWxldGVBcHBsaWNhdGlvbl9yb3V0ZUAyOgogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjU0NQogICAgLy8gQGFiaW1ldGhvZCh7IGFsbG93QWN0aW9uczogIkRlbGV0ZUFwcGxpY2F0aW9uIiB9KQogICAgdHhuIE9uQ29tcGxldGlvbgogICAgcHVzaGludCA1IC8vIERlbGV0ZUFwcGxpY2F0aW9uCiAgICA9PQogICAgdHhuIEFwcGxpY2F0aW9uSUQKICAgICYmCiAgICBhc3NlcnQgLy8gT25Db21wbGV0aW9uIG11c3QgYmUgRGVsZXRlQXBwbGljYXRpb24gJiYgY2FuIG9ubHkgY2FsbCB3aGVuIG5vdCBjcmVhdGluZwogICAgYiBkZWxldGVBcHBsaWNhdGlvbgoKCi8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czo6U3Rha2luZy5jcmVhdGVBcHBsaWNhdGlvbltyb3V0aW5nXSgpIC0+IHZvaWQ6CmNyZWF0ZUFwcGxpY2F0aW9uOgogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjU0CiAgICAvLyBAYWJpbWV0aG9kKHsgYWxsb3dBY3Rpb25zOiAiTm9PcCIsIG9uQ3JlYXRlOiAicmVxdWlyZSIgfSkKICAgIHR4bmEgQXBwbGljYXRpb25BcmdzIDEKICAgIGR1cAogICAgbGVuCiAgICBwdXNoaW50IDMyIC8vIDMyCiAgICA9PQogICAgYXNzZXJ0IC8vIGludmFsaWQgbnVtYmVyIG9mIGJ5dGVzIGZvciBhcmM0LnN0YXRpY19hcnJheTxhcmM0LnVpbnQ4LCAzMj4KICAgIHR4bmEgQXBwbGljYXRpb25BcmdzIDIKICAgIGR1cAogICAgbGVuCiAgICBpbnRjXzIgLy8gOAogICAgPT0KICAgIGFzc2VydCAvLyBpbnZhbGlkIG51bWJlciBvZiBieXRlcyBmb3IgYXJjNC51aW50NjQKICAgIGJ0b2kKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czo0NQogICAgLy8gYWRtaW5fYWRkcmVzcyA9IEdsb2JhbFN0YXRlPEFjY291bnQ+KCk7CiAgICBieXRlYyA1IC8vICJhZG1pbl9hZGRyZXNzIgogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjU2CiAgICAvLyB0aGlzLmFkbWluX2FkZHJlc3MudmFsdWUgPSBhZG1pbkFkZHJlc3MubmF0aXZlOwogICAgdW5jb3ZlciAyCiAgICBhcHBfZ2xvYmFsX3B1dAogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjQ4CiAgICAvLyBjb250cmFjdF92ZXJzaW9uID0gR2xvYmFsU3RhdGU8VWludDY0PigpOwogICAgcHVzaGJ5dGVzcyAiY29udHJhY3RfdmVyc2lvbiIgMHgwMDAwMDAwMDAwMDAwZmEwIC8vICJjb250cmFjdF92ZXJzaW9uIiwgMHgwMDAwMDAwMDAwMDAwZmEwCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6NTcKICAgIC8vIHRoaXMuY29udHJhY3RfdmVyc2lvbi52YWx1ZSA9IG5ldyBVaW50NjQoVkVSU0lPTik7CiAgICBhcHBfZ2xvYmFsX3B1dAogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjQ5CiAgICAvLyBjb250cmFjdF9zdGF0ZSA9IEdsb2JhbFN0YXRlPFVpbnQ2ND4oKTsgLy8gMCA9IGluYWN0aXZlLCAxID0gYWN0aXZlCiAgICBieXRlYyA4IC8vICJjb250cmFjdF9zdGF0ZSIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czo1OAogICAgLy8gdGhpcy5jb250cmFjdF9zdGF0ZS52YWx1ZSA9IG5ldyBVaW50NjQoMCk7CiAgICBieXRlY18wIC8vIDB4MDAwMDAwMDAwMDAwMDAwMAogICAgYXBwX2dsb2JhbF9wdXQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czo1MAogICAgLy8gbWFzdGVyX3JlcG9fYXBwID0gR2xvYmFsU3RhdGU8QXBwbGljYXRpb24+KCk7CiAgICBieXRlYyAxOCAvLyAibWFzdGVyX3JlcG9fYXBwIgogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjU5CiAgICAvLyB0aGlzLm1hc3Rlcl9yZXBvX2FwcC52YWx1ZSA9IG1hc3RlclJlcG9BcHA7CiAgICBzd2FwCiAgICBhcHBfZ2xvYmFsX3B1dAogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjUxCiAgICAvLyBwbGF0Zm9ybV9mZWVfYnBzID0gR2xvYmFsU3RhdGU8VWludDY0PigpOwogICAgYnl0ZWMgMTUgLy8gInBsYXRmb3JtX2ZlZV9icHMiCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6NjAKICAgIC8vIHRoaXMucGxhdGZvcm1fZmVlX2Jwcy52YWx1ZSA9IG5ldyBVaW50NjQoMCk7CiAgICBieXRlY18wIC8vIDB4MDAwMDAwMDAwMDAwMDAwMAogICAgYXBwX2dsb2JhbF9wdXQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czo1MgogICAgLy8gcGxhdGZvcm1fZmVlc19hY2NydWVkID0gR2xvYmFsU3RhdGU8VWludDY0PigpOwogICAgYnl0ZWNfMiAvLyAicGxhdGZvcm1fZmVlc19hY2NydWVkIgogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjYxCiAgICAvLyB0aGlzLnBsYXRmb3JtX2ZlZXNfYWNjcnVlZC52YWx1ZSA9IG5ldyBVaW50NjQoMCk7CiAgICBieXRlY18wIC8vIDB4MDAwMDAwMDAwMDAwMDAwMAogICAgYXBwX2dsb2JhbF9wdXQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czo0MgogICAgLy8gcmV3YXJkc19wYWlkID0gR2xvYmFsU3RhdGU8VWludDY0PigpOwogICAgYnl0ZWNfMSAvLyAicmV3YXJkc19wYWlkIgogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjYyCiAgICAvLyB0aGlzLnJld2FyZHNfcGFpZC52YWx1ZSA9IG5ldyBVaW50NjQoMCk7CiAgICBieXRlY18wIC8vIDB4MDAwMDAwMDAwMDAwMDAwMAogICAgYXBwX2dsb2JhbF9wdXQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czo0MwogICAgLy8gaW5pdGlhbGl6ZWQgPSBHbG9iYWxTdGF0ZTxVaW50NjQ+KCk7CiAgICBieXRlYyAxOSAvLyAiaW5pdGlhbGl6ZWQiCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6NjMKICAgIC8vIHRoaXMuaW5pdGlhbGl6ZWQudmFsdWUgPSBuZXcgVWludDY0KDApOwogICAgYnl0ZWNfMCAvLyAweDAwMDAwMDAwMDAwMDAwMDAKICAgIGFwcF9nbG9iYWxfcHV0CiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6MzEKICAgIC8vIHRvdGFsX3N0YWtlZCA9IEdsb2JhbFN0YXRlPFVpbnQ2ND4oKTsKICAgIGJ5dGVjXzMgLy8gInRvdGFsX3N0YWtlZCIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czo2NAogICAgLy8gdGhpcy50b3RhbF9zdGFrZWQudmFsdWUgPSBuZXcgVWludDY0KDApOwogICAgYnl0ZWNfMCAvLyAweDAwMDAwMDAwMDAwMDAwMDAKICAgIGFwcF9nbG9iYWxfcHV0CiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6NDcKICAgIC8vIG51bV9zdGFrZXJzID0gR2xvYmFsU3RhdGU8VWludDY0PigpOwogICAgYnl0ZWMgMTAgLy8gIm51bV9zdGFrZXJzIgogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjY1CiAgICAvLyB0aGlzLm51bV9zdGFrZXJzLnZhbHVlID0gbmV3IFVpbnQ2NCgwKTsKICAgIGJ5dGVjXzAgLy8gMHgwMDAwMDAwMDAwMDAwMDAwCiAgICBhcHBfZ2xvYmFsX3B1dAogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjU0CiAgICAvLyBAYWJpbWV0aG9kKHsgYWxsb3dBY3Rpb25zOiAiTm9PcCIsIG9uQ3JlYXRlOiAicmVxdWlyZSIgfSkKICAgIGludGNfMSAvLyAxCiAgICByZXR1cm4KCgovLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6OlN0YWtpbmcuaW5pdEFwcGxpY2F0aW9uW3JvdXRpbmddKCkgLT4gdm9pZDoKaW5pdEFwcGxpY2F0aW9uOgogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjY4CiAgICAvLyBAYWJpbWV0aG9kKHsgYWxsb3dBY3Rpb25zOiAiTm9PcCIgfSkKICAgIHR4bmEgQXBwbGljYXRpb25BcmdzIDEKICAgIGR1cG4gMgogICAgbGVuCiAgICBpbnRjXzIgLy8gOAogICAgPT0KICAgIGFzc2VydCAvLyBpbnZhbGlkIG51bWJlciBvZiBieXRlcyBmb3IgYXJjNC51aW50NjQKICAgIGJ0b2kKICAgIHR4bmEgQXBwbGljYXRpb25BcmdzIDIKICAgIGR1cG4gMgogICAgbGVuCiAgICBpbnRjXzIgLy8gOAogICAgPT0KICAgIGFzc2VydCAvLyBpbnZhbGlkIG51bWJlciBvZiBieXRlcyBmb3IgYXJjNC51aW50NjQKICAgIGJ0b2kKICAgIHR4bmEgQXBwbGljYXRpb25BcmdzIDMKICAgIGR1cG4gMgogICAgbGVuCiAgICBpbnRjXzIgLy8gOAogICAgPT0KICAgIGFzc2VydCAvLyBpbnZhbGlkIG51bWJlciBvZiBieXRlcyBmb3IgYXJjNC51aW50NjQKICAgIGJ0b2kKICAgIHR4bmEgQXBwbGljYXRpb25BcmdzIDQKICAgIGR1cAogICAgY292ZXIgMgogICAgZHVwCiAgICBsZW4KICAgIGludGNfMiAvLyA4CiAgICA9PQogICAgYXNzZXJ0IC8vIGludmFsaWQgbnVtYmVyIG9mIGJ5dGVzIGZvciBhcmM0LnVpbnQ2NAogICAgYnRvaQogICAgdHhuYSBBcHBsaWNhdGlvbkFyZ3MgNQogICAgZHVwCiAgICBsZW4KICAgIGludGNfMiAvLyA4CiAgICA9PQogICAgYXNzZXJ0IC8vIGludmFsaWQgbnVtYmVyIG9mIGJ5dGVzIGZvciBhcmM0LnVpbnQ2NAogICAgYnRvaQogICAgZHVwCiAgICBjb3ZlciAzCiAgICB0eG5hIEFwcGxpY2F0aW9uQXJncyA2CiAgICBkdXAKICAgIGxlbgogICAgaW50Y18yIC8vIDgKICAgID09CiAgICBhc3NlcnQgLy8gaW52YWxpZCBudW1iZXIgb2YgYnl0ZXMgZm9yIGFyYzQudWludDY0CiAgICBidG9pCiAgICBkdXAKICAgIGNvdmVyIDQKICAgIHR4biBHcm91cEluZGV4CiAgICBpbnRjXzEgLy8gMQogICAgLQogICAgZHVwCiAgICBjb3ZlciA1CiAgICBndHhucyBUeXBlRW51bQogICAgaW50Y18xIC8vIHBheQogICAgPT0KICAgIGFzc2VydCAvLyB0cmFuc2FjdGlvbiB0eXBlIGlzIHBheQogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjc4CiAgICAvLyBhc3NlcnQob3AuVHhuLnNlbmRlciA9PT0gdGhpcy5hZG1pbl9hZGRyZXNzLnZhbHVlLCAiT25seSBhZG1pbiBjYW4gaW5pdCBhcHBsaWNhdGlvbiIpOwogICAgdHhuIFNlbmRlcgogICAgaW50Y18wIC8vIDAKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czo0NQogICAgLy8gYWRtaW5fYWRkcmVzcyA9IEdsb2JhbFN0YXRlPEFjY291bnQ+KCk7CiAgICBieXRlYyA1IC8vICJhZG1pbl9hZGRyZXNzIgogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjc4CiAgICAvLyBhc3NlcnQob3AuVHhuLnNlbmRlciA9PT0gdGhpcy5hZG1pbl9hZGRyZXNzLnZhbHVlLCAiT25seSBhZG1pbiBjYW4gaW5pdCBhcHBsaWNhdGlvbiIpOwogICAgYXBwX2dsb2JhbF9nZXRfZXgKICAgIGFzc2VydCAvLyBjaGVjayBHbG9iYWxTdGF0ZSBleGlzdHMKICAgID09CiAgICBhc3NlcnQgLy8gT25seSBhZG1pbiBjYW4gaW5pdCBhcHBsaWNhdGlvbgogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjc5CiAgICAvLyBhc3NlcnQodGhpcy5pbml0aWFsaXplZC52YWx1ZS5hc1VpbnQ2NCgpID09PSAwLCAiQWxyZWFkeSBpbml0aWFsaXplZCIpOwogICAgaW50Y18wIC8vIDAKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czo0MwogICAgLy8gaW5pdGlhbGl6ZWQgPSBHbG9iYWxTdGF0ZTxVaW50NjQ+KCk7CiAgICBieXRlYyAxOSAvLyAiaW5pdGlhbGl6ZWQiCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6NzkKICAgIC8vIGFzc2VydCh0aGlzLmluaXRpYWxpemVkLnZhbHVlLmFzVWludDY0KCkgPT09IDAsICJBbHJlYWR5IGluaXRpYWxpemVkIik7CiAgICBhcHBfZ2xvYmFsX2dldF9leAogICAgYXNzZXJ0IC8vIGNoZWNrIEdsb2JhbFN0YXRlIGV4aXN0cwogICAgYnRvaQogICAgIQogICAgYXNzZXJ0IC8vIEFscmVhZHkgaW5pdGlhbGl6ZWQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czo4MAogICAgLy8gYXNzZXJ0KHRoaXMuY29udHJhY3Rfc3RhdGUudmFsdWUuYXNVaW50NjQoKSA9PT0gMCwgIlBvb2wgbXVzdCBiZSBpbmFjdGl2ZSIpOwogICAgaW50Y18wIC8vIDAKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czo0OQogICAgLy8gY29udHJhY3Rfc3RhdGUgPSBHbG9iYWxTdGF0ZTxVaW50NjQ+KCk7IC8vIDAgPSBpbmFjdGl2ZSwgMSA9IGFjdGl2ZQogICAgYnl0ZWMgOCAvLyAiY29udHJhY3Rfc3RhdGUiCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6ODAKICAgIC8vIGFzc2VydCh0aGlzLmNvbnRyYWN0X3N0YXRlLnZhbHVlLmFzVWludDY0KCkgPT09IDAsICJQb29sIG11c3QgYmUgaW5hY3RpdmUiKTsKICAgIGFwcF9nbG9iYWxfZ2V0X2V4CiAgICBhc3NlcnQgLy8gY2hlY2sgR2xvYmFsU3RhdGUgZXhpc3RzCiAgICBidG9pCiAgICAhCiAgICBhc3NlcnQgLy8gUG9vbCBtdXN0IGJlIGluYWN0aXZlCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6ODEKICAgIC8vIGFzc2VydCh0aGlzLnRvdGFsX3N0YWtlZC52YWx1ZS5hc1VpbnQ2NCgpID09PSAwLCAiU3Rha2VkIGFzc2V0cyBzdGlsbCBleGlzdCIpOwogICAgaW50Y18wIC8vIDAKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czozMQogICAgLy8gdG90YWxfc3Rha2VkID0gR2xvYmFsU3RhdGU8VWludDY0PigpOwogICAgYnl0ZWNfMyAvLyAidG90YWxfc3Rha2VkIgogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjgxCiAgICAvLyBhc3NlcnQodGhpcy50b3RhbF9zdGFrZWQudmFsdWUuYXNVaW50NjQoKSA9PT0gMCwgIlN0YWtlZCBhc3NldHMgc3RpbGwgZXhpc3QiKTsKICAgIGFwcF9nbG9iYWxfZ2V0X2V4CiAgICBhc3NlcnQgLy8gY2hlY2sgR2xvYmFsU3RhdGUgZXhpc3RzCiAgICBidG9pCiAgICAhCiAgICBhc3NlcnQgLy8gU3Rha2VkIGFzc2V0cyBzdGlsbCBleGlzdAogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjgyCiAgICAvLyBhc3NlcnQodGhpcy5udW1fc3Rha2Vycy52YWx1ZS5hc1VpbnQ2NCgpID09PSAwLCAiU3Rha2VycyBleGlzdCIpOwogICAgaW50Y18wIC8vIDAKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czo0NwogICAgLy8gbnVtX3N0YWtlcnMgPSBHbG9iYWxTdGF0ZTxVaW50NjQ+KCk7CiAgICBieXRlYyAxMCAvLyAibnVtX3N0YWtlcnMiCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6ODIKICAgIC8vIGFzc2VydCh0aGlzLm51bV9zdGFrZXJzLnZhbHVlLmFzVWludDY0KCkgPT09IDAsICJTdGFrZXJzIGV4aXN0Iik7CiAgICBhcHBfZ2xvYmFsX2dldF9leAogICAgYXNzZXJ0IC8vIGNoZWNrIEdsb2JhbFN0YXRlIGV4aXN0cwogICAgYnRvaQogICAgIQogICAgYXNzZXJ0IC8vIFN0YWtlcnMgZXhpc3QKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czo4MwogICAgLy8gYXNzZXJ0KHJld2FyZEFtb3VudCA+IDAsICJJbnZhbGlkIHJld2FyZCBhbW91bnQiKTsKICAgIHVuY292ZXIgMwogICAgYXNzZXJ0IC8vIEludmFsaWQgcmV3YXJkIGFtb3VudAogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjg0CiAgICAvLyBhc3NlcnQoZHVyYXRpb24gPiAwLCAiSW52YWxpZCBkdXJhdGlvbiIpOwogICAgYXNzZXJ0IC8vIEludmFsaWQgZHVyYXRpb24KICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czo4NQogICAgLy8gYXNzZXJ0KGFwckJwcyA+IDAsICJJbnZhbGlkIEFQUiIpOwogICAgc3dhcAogICAgYXNzZXJ0IC8vIEludmFsaWQgQVBSCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6ODcKICAgIC8vIGNvbnN0IHN0YXJ0OiB1aW50NjQgPSBzdGFydFRpbWUgPT09IDAgPyBHbG9iYWwubGF0ZXN0VGltZXN0YW1wIDogc3RhcnRUaW1lOwogICAgYm56IGluaXRBcHBsaWNhdGlvbl90ZXJuYXJ5X2ZhbHNlQDMKICAgIGdsb2JhbCBMYXRlc3RUaW1lc3RhbXAKCmluaXRBcHBsaWNhdGlvbl90ZXJuYXJ5X21lcmdlQDQ6CiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6ODgKICAgIC8vIGNvbnN0IGVuZDogdWludDY0ID0gc3RhcnQgKyBkdXJhdGlvbjsKICAgIGR1cAogICAgZGlnIDMKICAgICsKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czo4OQogICAgLy8gYXNzZXJ0KGVuZCA+IHN0YXJ0LCAiSW52YWxpZCB0aW1lIHJhbmdlIik7CiAgICBkaWcgMQogICAgPgogICAgYXNzZXJ0IC8vIEludmFsaWQgdGltZSByYW5nZQogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjI4CiAgICAvLyBzdGFrZWRfYXNzZXRfaWQgPSBHbG9iYWxTdGF0ZTxVaW50NjQ+KCk7CiAgICBieXRlYyAxNiAvLyAic3Rha2VkX2Fzc2V0X2lkIgogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjkxCiAgICAvLyB0aGlzLnN0YWtlZF9hc3NldF9pZC52YWx1ZSA9IG5ldyBVaW50NjQoc3Rha2VkQXNzZXRJZCk7CiAgICBkaWcgMTAKICAgIGFwcF9nbG9iYWxfcHV0CiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6MjkKICAgIC8vIHJld2FyZF9hc3NldF9pZCA9IEdsb2JhbFN0YXRlPFVpbnQ2ND4oKTsKICAgIGJ5dGVjIDYgLy8gInJld2FyZF9hc3NldF9pZCIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czo5MgogICAgLy8gdGhpcy5yZXdhcmRfYXNzZXRfaWQudmFsdWUgPSBuZXcgVWludDY0KHJld2FyZEFzc2V0SWQpOwogICAgZGlnIDgKICAgIGFwcF9nbG9iYWxfcHV0CiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6MzgKICAgIC8vIHRvdGFsX3Jld2FyZHMgPSBHbG9iYWxTdGF0ZTxVaW50NjQ+KCk7CiAgICBieXRlYyAxMyAvLyAidG90YWxfcmV3YXJkcyIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czo5MwogICAgLy8gdGhpcy50b3RhbF9yZXdhcmRzLnZhbHVlID0gbmV3IFVpbnQ2NChyZXdhcmRBbW91bnQpOwogICAgZGlnIDYKICAgIGFwcF9nbG9iYWxfcHV0CiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6MzQKICAgIC8vIHJld2FyZF9yYXRlID0gR2xvYmFsU3RhdGU8VWludDY0PigpOwogICAgYnl0ZWMgMjAgLy8gInJld2FyZF9yYXRlIgogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjk0CiAgICAvLyB0aGlzLnJld2FyZF9yYXRlLnZhbHVlID0gbmV3IFVpbnQ2NCgwKTsKICAgIGJ5dGVjXzAgLy8gMHgwMDAwMDAwMDAwMDAwMDAwCiAgICBhcHBfZ2xvYmFsX3B1dAogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjk1CiAgICAvLyB0aGlzLnN0YXJ0X3RpbWUudmFsdWUgPSBuZXcgVWludDY0KHN0YXJ0KTsKICAgIGl0b2IKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czozNQogICAgLy8gc3RhcnRfdGltZSA9IEdsb2JhbFN0YXRlPFVpbnQ2ND4oKTsKICAgIGJ5dGVjIDIxIC8vICJzdGFydF90aW1lIgogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjk1CiAgICAvLyB0aGlzLnN0YXJ0X3RpbWUudmFsdWUgPSBuZXcgVWludDY0KHN0YXJ0KTsKICAgIGRpZyAxCiAgICBhcHBfZ2xvYmFsX3B1dAogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjM2CiAgICAvLyBsYXN0X3VwZGF0ZV90aW1lID0gR2xvYmFsU3RhdGU8VWludDY0PigpOwogICAgYnl0ZWMgMTEgLy8gImxhc3RfdXBkYXRlX3RpbWUiCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6OTYKICAgIC8vIHRoaXMubGFzdF91cGRhdGVfdGltZS52YWx1ZSA9IG5ldyBVaW50NjQoc3RhcnQpOwogICAgc3dhcAogICAgYXBwX2dsb2JhbF9wdXQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czozMgogICAgLy8gcmV3YXJkX3Blcl90b2tlbiA9IEdsb2JhbFN0YXRlPFVpbnQ2ND4oKTsKICAgIGJ5dGVjIDkgLy8gInJld2FyZF9wZXJfdG9rZW4iCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6OTcKICAgIC8vIHRoaXMucmV3YXJkX3Blcl90b2tlbi52YWx1ZSA9IG5ldyBVaW50NjQoMCk7CiAgICBieXRlY18wIC8vIDB4MDAwMDAwMDAwMDAwMDAwMAogICAgYXBwX2dsb2JhbF9wdXQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czozOQogICAgLy8gYWNjcnVlZF9yZXdhcmRzID0gR2xvYmFsU3RhdGU8VWludDY0PigpOwogICAgYnl0ZWMgNyAvLyAiYWNjcnVlZF9yZXdhcmRzIgogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjk4CiAgICAvLyB0aGlzLmFjY3J1ZWRfcmV3YXJkcy52YWx1ZSA9IG5ldyBVaW50NjQoMCk7CiAgICBieXRlY18wIC8vIDB4MDAwMDAwMDAwMDAwMDAwMAogICAgYXBwX2dsb2JhbF9wdXQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czo0MAogICAgLy8gYXByX2JwcyA9IEdsb2JhbFN0YXRlPFVpbnQ2ND4oKTsKICAgIGJ5dGVjIDIyIC8vICJhcHJfYnBzIgogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjk5CiAgICAvLyB0aGlzLmFwcl9icHMudmFsdWUgPSBuZXcgVWludDY0KGFwckJwcyk7CiAgICBkaWcgNAogICAgYXBwX2dsb2JhbF9wdXQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czo1MgogICAgLy8gcGxhdGZvcm1fZmVlc19hY2NydWVkID0gR2xvYmFsU3RhdGU8VWludDY0PigpOwogICAgYnl0ZWNfMiAvLyAicGxhdGZvcm1fZmVlc19hY2NydWVkIgogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjEwMAogICAgLy8gdGhpcy5wbGF0Zm9ybV9mZWVzX2FjY3J1ZWQudmFsdWUgPSBuZXcgVWludDY0KDApOwogICAgYnl0ZWNfMCAvLyAweDAwMDAwMDAwMDAwMDAwMDAKICAgIGFwcF9nbG9iYWxfcHV0CiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6NDEKICAgIC8vIHJld2FyZHNfZXhoYXVzdGVkID0gR2xvYmFsU3RhdGU8VWludDY0PigpOwogICAgYnl0ZWMgMTIgLy8gInJld2FyZHNfZXhoYXVzdGVkIgogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjEwMQogICAgLy8gdGhpcy5yZXdhcmRzX2V4aGF1c3RlZC52YWx1ZSA9IG5ldyBVaW50NjQoMCk7CiAgICBieXRlY18wIC8vIDB4MDAwMDAwMDAwMDAwMDAwMAogICAgYXBwX2dsb2JhbF9wdXQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czo0MgogICAgLy8gcmV3YXJkc19wYWlkID0gR2xvYmFsU3RhdGU8VWludDY0PigpOwogICAgYnl0ZWNfMSAvLyAicmV3YXJkc19wYWlkIgogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjEwMgogICAgLy8gdGhpcy5yZXdhcmRzX3BhaWQudmFsdWUgPSBuZXcgVWludDY0KDApOwogICAgYnl0ZWNfMCAvLyAweDAwMDAwMDAwMDAwMDAwMDAKICAgIGFwcF9nbG9iYWxfcHV0CiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6NDMKICAgIC8vIGluaXRpYWxpemVkID0gR2xvYmFsU3RhdGU8VWludDY0PigpOwogICAgYnl0ZWMgMTkgLy8gImluaXRpYWxpemVkIgogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjEwMwogICAgLy8gdGhpcy5pbml0aWFsaXplZC52YWx1ZSA9IG5ldyBVaW50NjQoMSk7CiAgICBieXRlYyAxNyAvLyAweDAwMDAwMDAwMDAwMDAwMDEKICAgIGFwcF9nbG9iYWxfcHV0CiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6MTA1LTEwOAogICAgLy8gYXNzZXJ0TWF0Y2goaW5pdGlhbEJhbGFuY2VUeG4sIHsKICAgIC8vICAgcmVjZWl2ZXI6IEdsb2JhbC5jdXJyZW50QXBwbGljYXRpb25BZGRyZXNzLAogICAgLy8gICBhbW91bnQ6IElOSVRJQUxfUEFZX0FNT1VOVCwKICAgIC8vIH0pOwogICAgZHVwbiAyCiAgICBndHhucyBSZWNlaXZlcgogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjEwNgogICAgLy8gcmVjZWl2ZXI6IEdsb2JhbC5jdXJyZW50QXBwbGljYXRpb25BZGRyZXNzLAogICAgZ2xvYmFsIEN1cnJlbnRBcHBsaWNhdGlvbkFkZHJlc3MKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czoxMDUtMTA4CiAgICAvLyBhc3NlcnRNYXRjaChpbml0aWFsQmFsYW5jZVR4biwgewogICAgLy8gICByZWNlaXZlcjogR2xvYmFsLmN1cnJlbnRBcHBsaWNhdGlvbkFkZHJlc3MsCiAgICAvLyAgIGFtb3VudDogSU5JVElBTF9QQVlfQU1PVU5ULAogICAgLy8gfSk7CiAgICA9PQogICAgc3dhcAogICAgZ3R4bnMgQW1vdW50CiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6MTA3CiAgICAvLyBhbW91bnQ6IElOSVRJQUxfUEFZX0FNT1VOVCwKICAgIHB1c2hpbnQgNDAwMDAwIC8vIDQwMDAwMAogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjEwNS0xMDgKICAgIC8vIGFzc2VydE1hdGNoKGluaXRpYWxCYWxhbmNlVHhuLCB7CiAgICAvLyAgIHJlY2VpdmVyOiBHbG9iYWwuY3VycmVudEFwcGxpY2F0aW9uQWRkcmVzcywKICAgIC8vICAgYW1vdW50OiBJTklUSUFMX1BBWV9BTU9VTlQsCiAgICAvLyB9KTsKICAgID09CiAgICAmJgogICAgYXNzZXJ0IC8vIGFzc2VydCB0YXJnZXQgaXMgbWF0Y2ggZm9yIGNvbmRpdGlvbnMKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czoxMTAtMTE3CiAgICAvLyBpdHhuCiAgICAvLyAgIC5hc3NldFRyYW5zZmVyKHsKICAgIC8vICAgICB4ZmVyQXNzZXQ6IHN0YWtlZEFzc2V0SWQsCiAgICAvLyAgICAgYXNzZXRSZWNlaXZlcjogR2xvYmFsLmN1cnJlbnRBcHBsaWNhdGlvbkFkZHJlc3MsCiAgICAvLyAgICAgYXNzZXRBbW91bnQ6IDAsCiAgICAvLyAgICAgZmVlOiAwLAogICAgLy8gICB9KQogICAgLy8gICAuc3VibWl0KCk7CiAgICBpdHhuX2JlZ2luCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6MTEzCiAgICAvLyBhc3NldFJlY2VpdmVyOiBHbG9iYWwuY3VycmVudEFwcGxpY2F0aW9uQWRkcmVzcywKICAgIGdsb2JhbCBDdXJyZW50QXBwbGljYXRpb25BZGRyZXNzCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6MTE0CiAgICAvLyBhc3NldEFtb3VudDogMCwKICAgIGludGNfMCAvLyAwCiAgICBpdHhuX2ZpZWxkIEFzc2V0QW1vdW50CiAgICBpdHhuX2ZpZWxkIEFzc2V0UmVjZWl2ZXIKICAgIGRpZyA3CiAgICBkdXAKICAgIGl0eG5fZmllbGQgWGZlckFzc2V0CiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6MTEwLTExNgogICAgLy8gaXR4bgogICAgLy8gICAuYXNzZXRUcmFuc2Zlcih7CiAgICAvLyAgICAgeGZlckFzc2V0OiBzdGFrZWRBc3NldElkLAogICAgLy8gICAgIGFzc2V0UmVjZWl2ZXI6IEdsb2JhbC5jdXJyZW50QXBwbGljYXRpb25BZGRyZXNzLAogICAgLy8gICAgIGFzc2V0QW1vdW50OiAwLAogICAgLy8gICAgIGZlZTogMCwKICAgIC8vICAgfSkKICAgIGludGNfMyAvLyA0CiAgICBpdHhuX2ZpZWxkIFR5cGVFbnVtCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6MTE1CiAgICAvLyBmZWU6IDAsCiAgICBpbnRjXzAgLy8gMAogICAgaXR4bl9maWVsZCBGZWUKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czoxMTAtMTE3CiAgICAvLyBpdHhuCiAgICAvLyAgIC5hc3NldFRyYW5zZmVyKHsKICAgIC8vICAgICB4ZmVyQXNzZXQ6IHN0YWtlZEFzc2V0SWQsCiAgICAvLyAgICAgYXNzZXRSZWNlaXZlcjogR2xvYmFsLmN1cnJlbnRBcHBsaWNhdGlvbkFkZHJlc3MsCiAgICAvLyAgICAgYXNzZXRBbW91bnQ6IDAsCiAgICAvLyAgICAgZmVlOiAwLAogICAgLy8gICB9KQogICAgLy8gICAuc3VibWl0KCk7CiAgICBpdHhuX3N1Ym1pdAogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjExOQogICAgLy8gaWYgKHJld2FyZEFzc2V0SWQgIT09IHN0YWtlZEFzc2V0SWQpIHsKICAgIGRpZyA2CiAgICAhPQogICAgYnogaW5pdEFwcGxpY2F0aW9uX2FmdGVyX2lmX2Vsc2VAOAogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjEyMC0xMjcKICAgIC8vIGl0eG4KICAgIC8vICAgLmFzc2V0VHJhbnNmZXIoewogICAgLy8gICAgIHhmZXJBc3NldDogcmV3YXJkQXNzZXRJZCwKICAgIC8vICAgICBhc3NldFJlY2VpdmVyOiBHbG9iYWwuY3VycmVudEFwcGxpY2F0aW9uQWRkcmVzcywKICAgIC8vICAgICBhc3NldEFtb3VudDogMCwKICAgIC8vICAgICBmZWU6IDAsCiAgICAvLyAgIH0pCiAgICAvLyAgIC5zdWJtaXQoKTsKICAgIGl0eG5fYmVnaW4KICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czoxMjMKICAgIC8vIGFzc2V0UmVjZWl2ZXI6IEdsb2JhbC5jdXJyZW50QXBwbGljYXRpb25BZGRyZXNzLAogICAgZ2xvYmFsIEN1cnJlbnRBcHBsaWNhdGlvbkFkZHJlc3MKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czoxMjQKICAgIC8vIGFzc2V0QW1vdW50OiAwLAogICAgaW50Y18wIC8vIDAKICAgIGl0eG5fZmllbGQgQXNzZXRBbW91bnQKICAgIGl0eG5fZmllbGQgQXNzZXRSZWNlaXZlcgogICAgZGlnIDUKICAgIGl0eG5fZmllbGQgWGZlckFzc2V0CiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6MTIwLTEyNgogICAgLy8gaXR4bgogICAgLy8gICAuYXNzZXRUcmFuc2Zlcih7CiAgICAvLyAgICAgeGZlckFzc2V0OiByZXdhcmRBc3NldElkLAogICAgLy8gICAgIGFzc2V0UmVjZWl2ZXI6IEdsb2JhbC5jdXJyZW50QXBwbGljYXRpb25BZGRyZXNzLAogICAgLy8gICAgIGFzc2V0QW1vdW50OiAwLAogICAgLy8gICAgIGZlZTogMCwKICAgIC8vICAgfSkKICAgIGludGNfMyAvLyA0CiAgICBpdHhuX2ZpZWxkIFR5cGVFbnVtCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6MTI1CiAgICAvLyBmZWU6IDAsCiAgICBpbnRjXzAgLy8gMAogICAgaXR4bl9maWVsZCBGZWUKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czoxMjAtMTI3CiAgICAvLyBpdHhuCiAgICAvLyAgIC5hc3NldFRyYW5zZmVyKHsKICAgIC8vICAgICB4ZmVyQXNzZXQ6IHJld2FyZEFzc2V0SWQsCiAgICAvLyAgICAgYXNzZXRSZWNlaXZlcjogR2xvYmFsLmN1cnJlbnRBcHBsaWNhdGlvbkFkZHJlc3MsCiAgICAvLyAgICAgYXNzZXRBbW91bnQ6IDAsCiAgICAvLyAgICAgZmVlOiAwLAogICAgLy8gICB9KQogICAgLy8gICAuc3VibWl0KCk7CiAgICBpdHhuX3N1Ym1pdAoKaW5pdEFwcGxpY2F0aW9uX2FmdGVyX2lmX2Vsc2VAODoKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czo2OAogICAgLy8gQGFiaW1ldGhvZCh7IGFsbG93QWN0aW9uczogIk5vT3AiIH0pCiAgICBpbnRjXzEgLy8gMQogICAgcmV0dXJuCgppbml0QXBwbGljYXRpb25fdGVybmFyeV9mYWxzZUAzOgogICAgZGlnIDIKICAgIGIgaW5pdEFwcGxpY2F0aW9uX3Rlcm5hcnlfbWVyZ2VANAoKCi8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czo6U3Rha2luZy5mdW5kUmV3YXJkc1tyb3V0aW5nXSgpIC0+IHZvaWQ6CmZ1bmRSZXdhcmRzOgogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjEzMQogICAgLy8gQGFiaW1ldGhvZCh7IGFsbG93QWN0aW9uczogIk5vT3AiIH0pCiAgICB0eG4gR3JvdXBJbmRleAogICAgaW50Y18xIC8vIDEKICAgIC0KICAgIGR1cAogICAgZ3R4bnMgVHlwZUVudW0KICAgIGludGNfMyAvLyBheGZlcgogICAgPT0KICAgIGFzc2VydCAvLyB0cmFuc2FjdGlvbiB0eXBlIGlzIGF4ZmVyCiAgICB0eG5hIEFwcGxpY2F0aW9uQXJncyAxCiAgICBkdXAKICAgIGxlbgogICAgaW50Y18yIC8vIDgKICAgID09CiAgICBhc3NlcnQgLy8gaW52YWxpZCBudW1iZXIgb2YgYnl0ZXMgZm9yIGFyYzQudWludDY0CiAgICBidG9pCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6MTMzCiAgICAvLyBhc3NlcnQob3AuVHhuLnNlbmRlciA9PT0gdGhpcy5hZG1pbl9hZGRyZXNzLnZhbHVlLCAiT25seSBhZG1pbiBjYW4gZnVuZCByZXdhcmRzIik7CiAgICB0eG4gU2VuZGVyCiAgICBpbnRjXzAgLy8gMAogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjQ1CiAgICAvLyBhZG1pbl9hZGRyZXNzID0gR2xvYmFsU3RhdGU8QWNjb3VudD4oKTsKICAgIGJ5dGVjIDUgLy8gImFkbWluX2FkZHJlc3MiCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6MTMzCiAgICAvLyBhc3NlcnQob3AuVHhuLnNlbmRlciA9PT0gdGhpcy5hZG1pbl9hZGRyZXNzLnZhbHVlLCAiT25seSBhZG1pbiBjYW4gZnVuZCByZXdhcmRzIik7CiAgICBhcHBfZ2xvYmFsX2dldF9leAogICAgYXNzZXJ0IC8vIGNoZWNrIEdsb2JhbFN0YXRlIGV4aXN0cwogICAgc3dhcAogICAgZGlnIDEKICAgID09CiAgICBhc3NlcnQgLy8gT25seSBhZG1pbiBjYW4gZnVuZCByZXdhcmRzCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6MTM0CiAgICAvLyBhc3NlcnQodGhpcy5jb250cmFjdF9zdGF0ZS52YWx1ZSA9PT0gbmV3IFVpbnQ2NCgwKSwgIlBvb2wgbXVzdCBiZSBpbmFjdGl2ZSIpOwogICAgaW50Y18wIC8vIDAKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czo0OQogICAgLy8gY29udHJhY3Rfc3RhdGUgPSBHbG9iYWxTdGF0ZTxVaW50NjQ+KCk7IC8vIDAgPSBpbmFjdGl2ZSwgMSA9IGFjdGl2ZQogICAgYnl0ZWMgOCAvLyAiY29udHJhY3Rfc3RhdGUiCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6MTM0CiAgICAvLyBhc3NlcnQodGhpcy5jb250cmFjdF9zdGF0ZS52YWx1ZSA9PT0gbmV3IFVpbnQ2NCgwKSwgIlBvb2wgbXVzdCBiZSBpbmFjdGl2ZSIpOwogICAgYXBwX2dsb2JhbF9nZXRfZXgKICAgIGFzc2VydCAvLyBjaGVjayBHbG9iYWxTdGF0ZSBleGlzdHMKICAgIGJ5dGVjXzAgLy8gMHgwMDAwMDAwMDAwMDAwMDAwCiAgICA9PQogICAgYXNzZXJ0IC8vIFBvb2wgbXVzdCBiZSBpbmFjdGl2ZQogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjEzNQogICAgLy8gYXNzZXJ0KHRoaXMuYWNjcnVlZF9yZXdhcmRzLnZhbHVlLmFzVWludDY0KCkgPT09IDAsICJSZXdhcmRzIGFscmVhZHkgc3RhcnRlZCIpOwogICAgaW50Y18wIC8vIDAKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czozOQogICAgLy8gYWNjcnVlZF9yZXdhcmRzID0gR2xvYmFsU3RhdGU8VWludDY0PigpOwogICAgYnl0ZWMgNyAvLyAiYWNjcnVlZF9yZXdhcmRzIgogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjEzNQogICAgLy8gYXNzZXJ0KHRoaXMuYWNjcnVlZF9yZXdhcmRzLnZhbHVlLmFzVWludDY0KCkgPT09IDAsICJSZXdhcmRzIGFscmVhZHkgc3RhcnRlZCIpOwogICAgYXBwX2dsb2JhbF9nZXRfZXgKICAgIGFzc2VydCAvLyBjaGVjayBHbG9iYWxTdGF0ZSBleGlzdHMKICAgIGJ0b2kKICAgICEKICAgIGFzc2VydCAvLyBSZXdhcmRzIGFscmVhZHkgc3RhcnRlZAogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjEzNgogICAgLy8gYXNzZXJ0KHJld2FyZEFtb3VudCA9PT0gdGhpcy50b3RhbF9yZXdhcmRzLnZhbHVlLmFzVWludDY0KCksICJSZXdhcmQgYW1vdW50IG1pc21hdGNoIik7CiAgICBpbnRjXzAgLy8gMAogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjM4CiAgICAvLyB0b3RhbF9yZXdhcmRzID0gR2xvYmFsU3RhdGU8VWludDY0PigpOwogICAgYnl0ZWMgMTMgLy8gInRvdGFsX3Jld2FyZHMiCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6MTM2CiAgICAvLyBhc3NlcnQocmV3YXJkQW1vdW50ID09PSB0aGlzLnRvdGFsX3Jld2FyZHMudmFsdWUuYXNVaW50NjQoKSwgIlJld2FyZCBhbW91bnQgbWlzbWF0Y2giKTsKICAgIGFwcF9nbG9iYWxfZ2V0X2V4CiAgICBhc3NlcnQgLy8gY2hlY2sgR2xvYmFsU3RhdGUgZXhpc3RzCiAgICBidG9pCiAgICBkaWcgMgogICAgPT0KICAgIGFzc2VydCAvLyBSZXdhcmQgYW1vdW50IG1pc21hdGNoCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6MTM4LTE0MwogICAgLy8gYXNzZXJ0TWF0Y2gocmV3YXJkRnVuZGluZ1R4biwgewogICAgLy8gICBzZW5kZXI6IHRoaXMuYWRtaW5fYWRkcmVzcy52YWx1ZSwKICAgIC8vICAgYXNzZXRSZWNlaXZlcjogR2xvYmFsLmN1cnJlbnRBcHBsaWNhdGlvbkFkZHJlc3MsCiAgICAvLyAgIHhmZXJBc3NldDogQXNzZXQodGhpcy5yZXdhcmRfYXNzZXRfaWQudmFsdWUuYXNVaW50NjQoKSksCiAgICAvLyAgIGFzc2V0QW1vdW50OiByZXdhcmRBbW91bnQsCiAgICAvLyB9KTsKICAgIGRpZyAyCiAgICBndHhucyBTZW5kZXIKICAgID09CiAgICBkaWcgMgogICAgZ3R4bnMgQXNzZXRSZWNlaXZlcgogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjE0MAogICAgLy8gYXNzZXRSZWNlaXZlcjogR2xvYmFsLmN1cnJlbnRBcHBsaWNhdGlvbkFkZHJlc3MsCiAgICBnbG9iYWwgQ3VycmVudEFwcGxpY2F0aW9uQWRkcmVzcwogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjEzOC0xNDMKICAgIC8vIGFzc2VydE1hdGNoKHJld2FyZEZ1bmRpbmdUeG4sIHsKICAgIC8vICAgc2VuZGVyOiB0aGlzLmFkbWluX2FkZHJlc3MudmFsdWUsCiAgICAvLyAgIGFzc2V0UmVjZWl2ZXI6IEdsb2JhbC5jdXJyZW50QXBwbGljYXRpb25BZGRyZXNzLAogICAgLy8gICB4ZmVyQXNzZXQ6IEFzc2V0KHRoaXMucmV3YXJkX2Fzc2V0X2lkLnZhbHVlLmFzVWludDY0KCkpLAogICAgLy8gICBhc3NldEFtb3VudDogcmV3YXJkQW1vdW50LAogICAgLy8gfSk7CiAgICA9PQogICAgJiYKICAgIGRpZyAyCiAgICBndHhucyBYZmVyQXNzZXQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czoxNDEKICAgIC8vIHhmZXJBc3NldDogQXNzZXQodGhpcy5yZXdhcmRfYXNzZXRfaWQudmFsdWUuYXNVaW50NjQoKSksCiAgICBpbnRjXzAgLy8gMAogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjI5CiAgICAvLyByZXdhcmRfYXNzZXRfaWQgPSBHbG9iYWxTdGF0ZTxVaW50NjQ+KCk7CiAgICBieXRlYyA2IC8vICJyZXdhcmRfYXNzZXRfaWQiCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6MTQxCiAgICAvLyB4ZmVyQXNzZXQ6IEFzc2V0KHRoaXMucmV3YXJkX2Fzc2V0X2lkLnZhbHVlLmFzVWludDY0KCkpLAogICAgYXBwX2dsb2JhbF9nZXRfZXgKICAgIGFzc2VydCAvLyBjaGVjayBHbG9iYWxTdGF0ZSBleGlzdHMKICAgIGJ0b2kKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czoxMzgtMTQzCiAgICAvLyBhc3NlcnRNYXRjaChyZXdhcmRGdW5kaW5nVHhuLCB7CiAgICAvLyAgIHNlbmRlcjogdGhpcy5hZG1pbl9hZGRyZXNzLnZhbHVlLAogICAgLy8gICBhc3NldFJlY2VpdmVyOiBHbG9iYWwuY3VycmVudEFwcGxpY2F0aW9uQWRkcmVzcywKICAgIC8vICAgeGZlckFzc2V0OiBBc3NldCh0aGlzLnJld2FyZF9hc3NldF9pZC52YWx1ZS5hc1VpbnQ2NCgpKSwKICAgIC8vICAgYXNzZXRBbW91bnQ6IHJld2FyZEFtb3VudCwKICAgIC8vIH0pOwogICAgPT0KICAgICYmCiAgICB1bmNvdmVyIDIKICAgIGd0eG5zIEFzc2V0QW1vdW50CiAgICB1bmNvdmVyIDIKICAgID09CiAgICAmJgogICAgYXNzZXJ0IC8vIGFzc2VydCB0YXJnZXQgaXMgbWF0Y2ggZm9yIGNvbmRpdGlvbnMKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czo0MQogICAgLy8gcmV3YXJkc19leGhhdXN0ZWQgPSBHbG9iYWxTdGF0ZTxVaW50NjQ+KCk7CiAgICBieXRlYyAxMiAvLyAicmV3YXJkc19leGhhdXN0ZWQiCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6MTQ0CiAgICAvLyB0aGlzLnJld2FyZHNfZXhoYXVzdGVkLnZhbHVlID0gbmV3IFVpbnQ2NCgwKTsKICAgIGJ5dGVjXzAgLy8gMHgwMDAwMDAwMDAwMDAwMDAwCiAgICBhcHBfZ2xvYmFsX3B1dAogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjEzMQogICAgLy8gQGFiaW1ldGhvZCh7IGFsbG93QWN0aW9uczogIk5vT3AiIH0pCiAgICBpbnRjXzEgLy8gMQogICAgcmV0dXJuCgoKLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjpTdGFraW5nLmZ1bmRNb3JlUmV3YXJkc1tyb3V0aW5nXSgpIC0+IHZvaWQ6CmZ1bmRNb3JlUmV3YXJkczoKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czoxNDcKICAgIC8vIEBhYmltZXRob2QoeyBhbGxvd0FjdGlvbnM6ICJOb09wIiB9KQogICAgdHhuIEdyb3VwSW5kZXgKICAgIGludGNfMSAvLyAxCiAgICAtCiAgICBkdXAKICAgIGd0eG5zIFR5cGVFbnVtCiAgICBpbnRjXzMgLy8gYXhmZXIKICAgID09CiAgICBhc3NlcnQgLy8gdHJhbnNhY3Rpb24gdHlwZSBpcyBheGZlcgogICAgdHhuYSBBcHBsaWNhdGlvbkFyZ3MgMQogICAgZHVwCiAgICBsZW4KICAgIGludGNfMiAvLyA4CiAgICA9PQogICAgYXNzZXJ0IC8vIGludmFsaWQgbnVtYmVyIG9mIGJ5dGVzIGZvciBhcmM0LnVpbnQ2NAogICAgYnRvaQogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjE0OQogICAgLy8gYXNzZXJ0KG9wLlR4bi5zZW5kZXIgPT09IHRoaXMuYWRtaW5fYWRkcmVzcy52YWx1ZSwgIk9ubHkgYWRtaW4gY2FuIGZ1bmQgcmV3YXJkcyIpOwogICAgdHhuIFNlbmRlcgogICAgaW50Y18wIC8vIDAKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czo0NQogICAgLy8gYWRtaW5fYWRkcmVzcyA9IEdsb2JhbFN0YXRlPEFjY291bnQ+KCk7CiAgICBieXRlYyA1IC8vICJhZG1pbl9hZGRyZXNzIgogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjE0OQogICAgLy8gYXNzZXJ0KG9wLlR4bi5zZW5kZXIgPT09IHRoaXMuYWRtaW5fYWRkcmVzcy52YWx1ZSwgIk9ubHkgYWRtaW4gY2FuIGZ1bmQgcmV3YXJkcyIpOwogICAgYXBwX2dsb2JhbF9nZXRfZXgKICAgIGFzc2VydCAvLyBjaGVjayBHbG9iYWxTdGF0ZSBleGlzdHMKICAgIHN3YXAKICAgIGRpZyAxCiAgICA9PQogICAgYXNzZXJ0IC8vIE9ubHkgYWRtaW4gY2FuIGZ1bmQgcmV3YXJkcwogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjE1MAogICAgLy8gYXNzZXJ0KHJld2FyZEFtb3VudCA+IDAsICJJbnZhbGlkIHJld2FyZCBhbW91bnQiKTsKICAgIGRpZyAxCiAgICBhc3NlcnQgLy8gSW52YWxpZCByZXdhcmQgYW1vdW50CiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6MTUyLTE1NwogICAgLy8gYXNzZXJ0TWF0Y2gocmV3YXJkRnVuZGluZ1R4biwgewogICAgLy8gICBzZW5kZXI6IHRoaXMuYWRtaW5fYWRkcmVzcy52YWx1ZSwKICAgIC8vICAgYXNzZXRSZWNlaXZlcjogR2xvYmFsLmN1cnJlbnRBcHBsaWNhdGlvbkFkZHJlc3MsCiAgICAvLyAgIHhmZXJBc3NldDogQXNzZXQodGhpcy5yZXdhcmRfYXNzZXRfaWQudmFsdWUuYXNVaW50NjQoKSksCiAgICAvLyAgIGFzc2V0QW1vdW50OiByZXdhcmRBbW91bnQsCiAgICAvLyB9KTsKICAgIGRpZyAyCiAgICBndHhucyBTZW5kZXIKICAgID09CiAgICBkaWcgMgogICAgZ3R4bnMgQXNzZXRSZWNlaXZlcgogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjE1NAogICAgLy8gYXNzZXRSZWNlaXZlcjogR2xvYmFsLmN1cnJlbnRBcHBsaWNhdGlvbkFkZHJlc3MsCiAgICBnbG9iYWwgQ3VycmVudEFwcGxpY2F0aW9uQWRkcmVzcwogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjE1Mi0xNTcKICAgIC8vIGFzc2VydE1hdGNoKHJld2FyZEZ1bmRpbmdUeG4sIHsKICAgIC8vICAgc2VuZGVyOiB0aGlzLmFkbWluX2FkZHJlc3MudmFsdWUsCiAgICAvLyAgIGFzc2V0UmVjZWl2ZXI6IEdsb2JhbC5jdXJyZW50QXBwbGljYXRpb25BZGRyZXNzLAogICAgLy8gICB4ZmVyQXNzZXQ6IEFzc2V0KHRoaXMucmV3YXJkX2Fzc2V0X2lkLnZhbHVlLmFzVWludDY0KCkpLAogICAgLy8gICBhc3NldEFtb3VudDogcmV3YXJkQW1vdW50LAogICAgLy8gfSk7CiAgICA9PQogICAgJiYKICAgIGRpZyAyCiAgICBndHhucyBYZmVyQXNzZXQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czoxNTUKICAgIC8vIHhmZXJBc3NldDogQXNzZXQodGhpcy5yZXdhcmRfYXNzZXRfaWQudmFsdWUuYXNVaW50NjQoKSksCiAgICBpbnRjXzAgLy8gMAogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjI5CiAgICAvLyByZXdhcmRfYXNzZXRfaWQgPSBHbG9iYWxTdGF0ZTxVaW50NjQ+KCk7CiAgICBieXRlYyA2IC8vICJyZXdhcmRfYXNzZXRfaWQiCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6MTU1CiAgICAvLyB4ZmVyQXNzZXQ6IEFzc2V0KHRoaXMucmV3YXJkX2Fzc2V0X2lkLnZhbHVlLmFzVWludDY0KCkpLAogICAgYXBwX2dsb2JhbF9nZXRfZXgKICAgIGFzc2VydCAvLyBjaGVjayBHbG9iYWxTdGF0ZSBleGlzdHMKICAgIGJ0b2kKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czoxNTItMTU3CiAgICAvLyBhc3NlcnRNYXRjaChyZXdhcmRGdW5kaW5nVHhuLCB7CiAgICAvLyAgIHNlbmRlcjogdGhpcy5hZG1pbl9hZGRyZXNzLnZhbHVlLAogICAgLy8gICBhc3NldFJlY2VpdmVyOiBHbG9iYWwuY3VycmVudEFwcGxpY2F0aW9uQWRkcmVzcywKICAgIC8vICAgeGZlckFzc2V0OiBBc3NldCh0aGlzLnJld2FyZF9hc3NldF9pZC52YWx1ZS5hc1VpbnQ2NCgpKSwKICAgIC8vICAgYXNzZXRBbW91bnQ6IHJld2FyZEFtb3VudCwKICAgIC8vIH0pOwogICAgPT0KICAgICYmCiAgICB1bmNvdmVyIDIKICAgIGd0eG5zIEFzc2V0QW1vdW50CiAgICBkaWcgMgogICAgPT0KICAgICYmCiAgICBhc3NlcnQgLy8gYXNzZXJ0IHRhcmdldCBpcyBtYXRjaCBmb3IgY29uZGl0aW9ucwogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjE1OQogICAgLy8gdGhpcy50b3RhbF9yZXdhcmRzLnZhbHVlID0gbmV3IFVpbnQ2NCh0aGlzLnRvdGFsX3Jld2FyZHMudmFsdWUuYXNVaW50NjQoKSArIHJld2FyZEFtb3VudCk7CiAgICBpbnRjXzAgLy8gMAogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjM4CiAgICAvLyB0b3RhbF9yZXdhcmRzID0gR2xvYmFsU3RhdGU8VWludDY0PigpOwogICAgYnl0ZWMgMTMgLy8gInRvdGFsX3Jld2FyZHMiCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6MTU5CiAgICAvLyB0aGlzLnRvdGFsX3Jld2FyZHMudmFsdWUgPSBuZXcgVWludDY0KHRoaXMudG90YWxfcmV3YXJkcy52YWx1ZS5hc1VpbnQ2NCgpICsgcmV3YXJkQW1vdW50KTsKICAgIGFwcF9nbG9iYWxfZ2V0X2V4CiAgICBhc3NlcnQgLy8gY2hlY2sgR2xvYmFsU3RhdGUgZXhpc3RzCiAgICBidG9pCiAgICArCiAgICBpdG9iCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6MzgKICAgIC8vIHRvdGFsX3Jld2FyZHMgPSBHbG9iYWxTdGF0ZTxVaW50NjQ+KCk7CiAgICBieXRlYyAxMyAvLyAidG90YWxfcmV3YXJkcyIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czoxNTkKICAgIC8vIHRoaXMudG90YWxfcmV3YXJkcy52YWx1ZSA9IG5ldyBVaW50NjQodGhpcy50b3RhbF9yZXdhcmRzLnZhbHVlLmFzVWludDY0KCkgKyByZXdhcmRBbW91bnQpOwogICAgc3dhcAogICAgYXBwX2dsb2JhbF9wdXQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czo0MQogICAgLy8gcmV3YXJkc19leGhhdXN0ZWQgPSBHbG9iYWxTdGF0ZTxVaW50NjQ+KCk7CiAgICBieXRlYyAxMiAvLyAicmV3YXJkc19leGhhdXN0ZWQiCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6MTYwCiAgICAvLyB0aGlzLnJld2FyZHNfZXhoYXVzdGVkLnZhbHVlID0gbmV3IFVpbnQ2NCgwKTsKICAgIGJ5dGVjXzAgLy8gMHgwMDAwMDAwMDAwMDAwMDAwCiAgICBhcHBfZ2xvYmFsX3B1dAogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjE0NwogICAgLy8gQGFiaW1ldGhvZCh7IGFsbG93QWN0aW9uczogIk5vT3AiIH0pCiAgICBpbnRjXzEgLy8gMQogICAgcmV0dXJuCgoKLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjpTdGFraW5nLnJlbW92ZVJld2FyZHNbcm91dGluZ10oKSAtPiB2b2lkOgpyZW1vdmVSZXdhcmRzOgogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjE2NQogICAgLy8gYXNzZXJ0KG9wLlR4bi5zZW5kZXIgPT09IHRoaXMuYWRtaW5fYWRkcmVzcy52YWx1ZSwgIk9ubHkgYWRtaW4gY2FuIGZ1bmQgcmV3YXJkcyIpOwogICAgdHhuIFNlbmRlcgogICAgaW50Y18wIC8vIDAKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czo0NQogICAgLy8gYWRtaW5fYWRkcmVzcyA9IEdsb2JhbFN0YXRlPEFjY291bnQ+KCk7CiAgICBieXRlYyA1IC8vICJhZG1pbl9hZGRyZXNzIgogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjE2NQogICAgLy8gYXNzZXJ0KG9wLlR4bi5zZW5kZXIgPT09IHRoaXMuYWRtaW5fYWRkcmVzcy52YWx1ZSwgIk9ubHkgYWRtaW4gY2FuIGZ1bmQgcmV3YXJkcyIpOwogICAgYXBwX2dsb2JhbF9nZXRfZXgKICAgIGFzc2VydCAvLyBjaGVjayBHbG9iYWxTdGF0ZSBleGlzdHMKICAgIHN3YXAKICAgIGRpZyAxCiAgICA9PQogICAgYXNzZXJ0IC8vIE9ubHkgYWRtaW4gY2FuIGZ1bmQgcmV3YXJkcwogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjE2NgogICAgLy8gYXNzZXJ0KHRoaXMuY29udHJhY3Rfc3RhdGUudmFsdWUgPT09IG5ldyBVaW50NjQoMCksICJQb29sIG11c3QgYmUgaW5hY3RpdmUiKTsKICAgIGludGNfMCAvLyAwCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6NDkKICAgIC8vIGNvbnRyYWN0X3N0YXRlID0gR2xvYmFsU3RhdGU8VWludDY0PigpOyAvLyAwID0gaW5hY3RpdmUsIDEgPSBhY3RpdmUKICAgIGJ5dGVjIDggLy8gImNvbnRyYWN0X3N0YXRlIgogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjE2NgogICAgLy8gYXNzZXJ0KHRoaXMuY29udHJhY3Rfc3RhdGUudmFsdWUgPT09IG5ldyBVaW50NjQoMCksICJQb29sIG11c3QgYmUgaW5hY3RpdmUiKTsKICAgIGFwcF9nbG9iYWxfZ2V0X2V4CiAgICBhc3NlcnQgLy8gY2hlY2sgR2xvYmFsU3RhdGUgZXhpc3RzCiAgICBieXRlY18wIC8vIDB4MDAwMDAwMDAwMDAwMDAwMAogICAgPT0KICAgIGFzc2VydCAvLyBQb29sIG11c3QgYmUgaW5hY3RpdmUKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czoxNjgKICAgIC8vIGNvbnN0IGF2YWlsYWJsZTogdWludDY0ID0gdGhpcy50b3RhbF9yZXdhcmRzLnZhbHVlLmFzVWludDY0KCkgLSB0aGlzLmFjY3J1ZWRfcmV3YXJkcy52YWx1ZS5hc1VpbnQ2NCgpOwogICAgaW50Y18wIC8vIDAKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czozOAogICAgLy8gdG90YWxfcmV3YXJkcyA9IEdsb2JhbFN0YXRlPFVpbnQ2ND4oKTsKICAgIGJ5dGVjIDEzIC8vICJ0b3RhbF9yZXdhcmRzIgogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjE2OAogICAgLy8gY29uc3QgYXZhaWxhYmxlOiB1aW50NjQgPSB0aGlzLnRvdGFsX3Jld2FyZHMudmFsdWUuYXNVaW50NjQoKSAtIHRoaXMuYWNjcnVlZF9yZXdhcmRzLnZhbHVlLmFzVWludDY0KCk7CiAgICBhcHBfZ2xvYmFsX2dldF9leAogICAgYXNzZXJ0IC8vIGNoZWNrIEdsb2JhbFN0YXRlIGV4aXN0cwogICAgYnRvaQogICAgaW50Y18wIC8vIDAKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czozOQogICAgLy8gYWNjcnVlZF9yZXdhcmRzID0gR2xvYmFsU3RhdGU8VWludDY0PigpOwogICAgYnl0ZWMgNyAvLyAiYWNjcnVlZF9yZXdhcmRzIgogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjE2OAogICAgLy8gY29uc3QgYXZhaWxhYmxlOiB1aW50NjQgPSB0aGlzLnRvdGFsX3Jld2FyZHMudmFsdWUuYXNVaW50NjQoKSAtIHRoaXMuYWNjcnVlZF9yZXdhcmRzLnZhbHVlLmFzVWludDY0KCk7CiAgICBhcHBfZ2xvYmFsX2dldF9leAogICAgYXNzZXJ0IC8vIGNoZWNrIEdsb2JhbFN0YXRlIGV4aXN0cwogICAgYnRvaQogICAgLQogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjE2OQogICAgLy8gYXNzZXJ0KGF2YWlsYWJsZSA+IDAsICJObyByZXdhcmRzIHRvIHJlbW92ZSIpOwogICAgZHVwCiAgICBhc3NlcnQgLy8gTm8gcmV3YXJkcyB0byByZW1vdmUKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czoxNzAtMTc4CiAgICAvLyBpdHhuCiAgICAvLyAgIC5hc3NldFRyYW5zZmVyKHsKICAgIC8vICAgICB4ZmVyQXNzZXQ6IHRoaXMucmV3YXJkX2Fzc2V0X2lkLnZhbHVlLmFzVWludDY0KCksCiAgICAvLyAgICAgYXNzZXRSZWNlaXZlcjogdGhpcy5hZG1pbl9hZGRyZXNzLnZhbHVlLAogICAgLy8gICAgIHNlbmRlcjogR2xvYmFsLmN1cnJlbnRBcHBsaWNhdGlvbkFkZHJlc3MsCiAgICAvLyAgICAgYXNzZXRBbW91bnQ6IGF2YWlsYWJsZSwKICAgIC8vICAgICBmZWU6IDAsCiAgICAvLyAgIH0pCiAgICAvLyAgIC5zdWJtaXQoKTsKICAgIGl0eG5fYmVnaW4KICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czoxNzIKICAgIC8vIHhmZXJBc3NldDogdGhpcy5yZXdhcmRfYXNzZXRfaWQudmFsdWUuYXNVaW50NjQoKSwKICAgIGludGNfMCAvLyAwCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6MjkKICAgIC8vIHJld2FyZF9hc3NldF9pZCA9IEdsb2JhbFN0YXRlPFVpbnQ2ND4oKTsKICAgIGJ5dGVjIDYgLy8gInJld2FyZF9hc3NldF9pZCIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czoxNzIKICAgIC8vIHhmZXJBc3NldDogdGhpcy5yZXdhcmRfYXNzZXRfaWQudmFsdWUuYXNVaW50NjQoKSwKICAgIGFwcF9nbG9iYWxfZ2V0X2V4CiAgICBhc3NlcnQgLy8gY2hlY2sgR2xvYmFsU3RhdGUgZXhpc3RzCiAgICBidG9pCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6MTc0CiAgICAvLyBzZW5kZXI6IEdsb2JhbC5jdXJyZW50QXBwbGljYXRpb25BZGRyZXNzLAogICAgZ2xvYmFsIEN1cnJlbnRBcHBsaWNhdGlvbkFkZHJlc3MKICAgIHVuY292ZXIgMgogICAgaXR4bl9maWVsZCBBc3NldEFtb3VudAogICAgaXR4bl9maWVsZCBTZW5kZXIKICAgIGl0eG5fZmllbGQgWGZlckFzc2V0CiAgICBpdHhuX2ZpZWxkIEFzc2V0UmVjZWl2ZXIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czoxNzAtMTc3CiAgICAvLyBpdHhuCiAgICAvLyAgIC5hc3NldFRyYW5zZmVyKHsKICAgIC8vICAgICB4ZmVyQXNzZXQ6IHRoaXMucmV3YXJkX2Fzc2V0X2lkLnZhbHVlLmFzVWludDY0KCksCiAgICAvLyAgICAgYXNzZXRSZWNlaXZlcjogdGhpcy5hZG1pbl9hZGRyZXNzLnZhbHVlLAogICAgLy8gICAgIHNlbmRlcjogR2xvYmFsLmN1cnJlbnRBcHBsaWNhdGlvbkFkZHJlc3MsCiAgICAvLyAgICAgYXNzZXRBbW91bnQ6IGF2YWlsYWJsZSwKICAgIC8vICAgICBmZWU6IDAsCiAgICAvLyAgIH0pCiAgICBpbnRjXzMgLy8gNAogICAgaXR4bl9maWVsZCBUeXBlRW51bQogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjE3NgogICAgLy8gZmVlOiAwLAogICAgaW50Y18wIC8vIDAKICAgIGl0eG5fZmllbGQgRmVlCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6MTcwLTE3OAogICAgLy8gaXR4bgogICAgLy8gICAuYXNzZXRUcmFuc2Zlcih7CiAgICAvLyAgICAgeGZlckFzc2V0OiB0aGlzLnJld2FyZF9hc3NldF9pZC52YWx1ZS5hc1VpbnQ2NCgpLAogICAgLy8gICAgIGFzc2V0UmVjZWl2ZXI6IHRoaXMuYWRtaW5fYWRkcmVzcy52YWx1ZSwKICAgIC8vICAgICBzZW5kZXI6IEdsb2JhbC5jdXJyZW50QXBwbGljYXRpb25BZGRyZXNzLAogICAgLy8gICAgIGFzc2V0QW1vdW50OiBhdmFpbGFibGUsCiAgICAvLyAgICAgZmVlOiAwLAogICAgLy8gICB9KQogICAgLy8gICAuc3VibWl0KCk7CiAgICBpdHhuX3N1Ym1pdAogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjQxCiAgICAvLyByZXdhcmRzX2V4aGF1c3RlZCA9IEdsb2JhbFN0YXRlPFVpbnQ2ND4oKTsKICAgIGJ5dGVjIDEyIC8vICJyZXdhcmRzX2V4aGF1c3RlZCIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czoxNzkKICAgIC8vIHRoaXMucmV3YXJkc19leGhhdXN0ZWQudmFsdWUgPSBuZXcgVWludDY0KDEpOwogICAgYnl0ZWMgMTcgLy8gMHgwMDAwMDAwMDAwMDAwMDAxCiAgICBhcHBfZ2xvYmFsX3B1dAogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjE2MwogICAgLy8gQGFiaW1ldGhvZCh7IGFsbG93QWN0aW9uczogIk5vT3AiIH0pCiAgICBpbnRjXzEgLy8gMQogICAgcmV0dXJuCgoKLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjpTdGFraW5nLnNldENvbnRyYWN0QWN0aXZlW3JvdXRpbmddKCkgLT4gdm9pZDoKc2V0Q29udHJhY3RBY3RpdmU6CiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6MTg0CiAgICAvLyBhc3NlcnQob3AuVHhuLnNlbmRlciA9PT0gdGhpcy5hZG1pbl9hZGRyZXNzLnZhbHVlLCAiT25seSBhZG1pbiBjYW4gc2V0IGFjdGl2ZSIpOwogICAgdHhuIFNlbmRlcgogICAgaW50Y18wIC8vIDAKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czo0NQogICAgLy8gYWRtaW5fYWRkcmVzcyA9IEdsb2JhbFN0YXRlPEFjY291bnQ+KCk7CiAgICBieXRlYyA1IC8vICJhZG1pbl9hZGRyZXNzIgogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjE4NAogICAgLy8gYXNzZXJ0KG9wLlR4bi5zZW5kZXIgPT09IHRoaXMuYWRtaW5fYWRkcmVzcy52YWx1ZSwgIk9ubHkgYWRtaW4gY2FuIHNldCBhY3RpdmUiKTsKICAgIGFwcF9nbG9iYWxfZ2V0X2V4CiAgICBhc3NlcnQgLy8gY2hlY2sgR2xvYmFsU3RhdGUgZXhpc3RzCiAgICA9PQogICAgYXNzZXJ0IC8vIE9ubHkgYWRtaW4gY2FuIHNldCBhY3RpdmUKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czoxODUtMTkwCiAgICAvLyBjb25zdCBzdXBlckFkbWluUmVzdWx0ID0gYWJpQ2FsbCh7CiAgICAvLyAgIGFwcElkOiB0aGlzLm1hc3Rlcl9yZXBvX2FwcC52YWx1ZSwKICAgIC8vICAgbWV0aG9kOiBNYXN0ZXJSZXBvU3R1Yi5wcm90b3R5cGUuZ2V0U3VwZXJBZG1pbkFkZHJlc3MsCiAgICAvLyAgIGFyZ3M6IFtdLAogICAgLy8gICBmZWU6IDAsCiAgICAvLyB9KS5yZXR1cm5WYWx1ZTsKICAgIGl0eG5fYmVnaW4KICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czoxODYKICAgIC8vIGFwcElkOiB0aGlzLm1hc3Rlcl9yZXBvX2FwcC52YWx1ZSwKICAgIGludGNfMCAvLyAwCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6NTAKICAgIC8vIG1hc3Rlcl9yZXBvX2FwcCA9IEdsb2JhbFN0YXRlPEFwcGxpY2F0aW9uPigpOwogICAgYnl0ZWMgMTggLy8gIm1hc3Rlcl9yZXBvX2FwcCIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czoxODYKICAgIC8vIGFwcElkOiB0aGlzLm1hc3Rlcl9yZXBvX2FwcC52YWx1ZSwKICAgIGFwcF9nbG9iYWxfZ2V0X2V4CiAgICBhc3NlcnQgLy8gY2hlY2sgR2xvYmFsU3RhdGUgZXhpc3RzCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6MTg1LTE5MAogICAgLy8gY29uc3Qgc3VwZXJBZG1pblJlc3VsdCA9IGFiaUNhbGwoewogICAgLy8gICBhcHBJZDogdGhpcy5tYXN0ZXJfcmVwb19hcHAudmFsdWUsCiAgICAvLyAgIG1ldGhvZDogTWFzdGVyUmVwb1N0dWIucHJvdG90eXBlLmdldFN1cGVyQWRtaW5BZGRyZXNzLAogICAgLy8gICBhcmdzOiBbXSwKICAgIC8vICAgZmVlOiAwLAogICAgLy8gfSkucmV0dXJuVmFsdWU7CiAgICBwdXNoYnl0ZXMgMHhiM2IzYjdlMiAvLyBtZXRob2QgImdldFN1cGVyQWRtaW5BZGRyZXNzKClhZGRyZXNzIgogICAgaXR4bl9maWVsZCBBcHBsaWNhdGlvbkFyZ3MKICAgIGl0eG5fZmllbGQgQXBwbGljYXRpb25JRAogICAgcHVzaGludCA2IC8vIGFwcGwKICAgIGl0eG5fZmllbGQgVHlwZUVudW0KICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czoxODkKICAgIC8vIGZlZTogMCwKICAgIGludGNfMCAvLyAwCiAgICBpdHhuX2ZpZWxkIEZlZQogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjE4NS0xOTAKICAgIC8vIGNvbnN0IHN1cGVyQWRtaW5SZXN1bHQgPSBhYmlDYWxsKHsKICAgIC8vICAgYXBwSWQ6IHRoaXMubWFzdGVyX3JlcG9fYXBwLnZhbHVlLAogICAgLy8gICBtZXRob2Q6IE1hc3RlclJlcG9TdHViLnByb3RvdHlwZS5nZXRTdXBlckFkbWluQWRkcmVzcywKICAgIC8vICAgYXJnczogW10sCiAgICAvLyAgIGZlZTogMCwKICAgIC8vIH0pLnJldHVyblZhbHVlOwogICAgaXR4bl9zdWJtaXQKICAgIGl0eG4gTGFzdExvZwogICAgZHVwCiAgICBleHRyYWN0IDQgMAogICAgc3dhcAogICAgZXh0cmFjdCAwIDQKICAgIGJ5dGVjIDIzIC8vIDB4MTUxZjdjNzUKICAgID09CiAgICBhc3NlcnQgLy8gQnl0ZXMgaGFzIHZhbGlkIHByZWZpeAogICAgZHVwCiAgICBsZW4KICAgIHB1c2hpbnQgMzIgLy8gMzIKICAgID09CiAgICBhc3NlcnQgLy8gaW52YWxpZCBudW1iZXIgb2YgYnl0ZXMgZm9yIGFyYzQuc3RhdGljX2FycmF5PGFyYzQudWludDgsIDMyPgogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjQ2CiAgICAvLyBzdXBlcl9hZG1pbl9hZGRyZXNzID0gR2xvYmFsU3RhdGU8QWNjb3VudD4oKTsKICAgIGJ5dGVjIDE0IC8vICJzdXBlcl9hZG1pbl9hZGRyZXNzIgogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjE5MQogICAgLy8gdGhpcy5zdXBlcl9hZG1pbl9hZGRyZXNzLnZhbHVlID0gc3VwZXJBZG1pblJlc3VsdDsKICAgIHN3YXAKICAgIGFwcF9nbG9iYWxfcHV0CiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6MTkzLTE5OAogICAgLy8gY29uc3QgcGxhdGZvcm1GZWVSZXN1bHQgPSBhYmlDYWxsKHsKICAgIC8vICAgYXBwSWQ6IHRoaXMubWFzdGVyX3JlcG9fYXBwLnZhbHVlLAogICAgLy8gICBtZXRob2Q6IE1hc3RlclJlcG9TdHViLnByb3RvdHlwZS5nZXRQbGF0Zm9ybUZlZUJwcywKICAgIC8vICAgYXJnczogW10sCiAgICAvLyAgIGZlZTogMCwKICAgIC8vIH0pLnJldHVyblZhbHVlOwogICAgaXR4bl9iZWdpbgogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjE5NAogICAgLy8gYXBwSWQ6IHRoaXMubWFzdGVyX3JlcG9fYXBwLnZhbHVlLAogICAgaW50Y18wIC8vIDAKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czo1MAogICAgLy8gbWFzdGVyX3JlcG9fYXBwID0gR2xvYmFsU3RhdGU8QXBwbGljYXRpb24+KCk7CiAgICBieXRlYyAxOCAvLyAibWFzdGVyX3JlcG9fYXBwIgogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjE5NAogICAgLy8gYXBwSWQ6IHRoaXMubWFzdGVyX3JlcG9fYXBwLnZhbHVlLAogICAgYXBwX2dsb2JhbF9nZXRfZXgKICAgIGFzc2VydCAvLyBjaGVjayBHbG9iYWxTdGF0ZSBleGlzdHMKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czoxOTMtMTk4CiAgICAvLyBjb25zdCBwbGF0Zm9ybUZlZVJlc3VsdCA9IGFiaUNhbGwoewogICAgLy8gICBhcHBJZDogdGhpcy5tYXN0ZXJfcmVwb19hcHAudmFsdWUsCiAgICAvLyAgIG1ldGhvZDogTWFzdGVyUmVwb1N0dWIucHJvdG90eXBlLmdldFBsYXRmb3JtRmVlQnBzLAogICAgLy8gICBhcmdzOiBbXSwKICAgIC8vICAgZmVlOiAwLAogICAgLy8gfSkucmV0dXJuVmFsdWU7CiAgICBwdXNoYnl0ZXMgMHhmMTMzMDM4ZCAvLyBtZXRob2QgImdldFBsYXRmb3JtRmVlQnBzKCl1aW50NjQiCiAgICBpdHhuX2ZpZWxkIEFwcGxpY2F0aW9uQXJncwogICAgaXR4bl9maWVsZCBBcHBsaWNhdGlvbklECiAgICBwdXNoaW50IDYgLy8gYXBwbAogICAgaXR4bl9maWVsZCBUeXBlRW51bQogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjE5NwogICAgLy8gZmVlOiAwLAogICAgaW50Y18wIC8vIDAKICAgIGl0eG5fZmllbGQgRmVlCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6MTkzLTE5OAogICAgLy8gY29uc3QgcGxhdGZvcm1GZWVSZXN1bHQgPSBhYmlDYWxsKHsKICAgIC8vICAgYXBwSWQ6IHRoaXMubWFzdGVyX3JlcG9fYXBwLnZhbHVlLAogICAgLy8gICBtZXRob2Q6IE1hc3RlclJlcG9TdHViLnByb3RvdHlwZS5nZXRQbGF0Zm9ybUZlZUJwcywKICAgIC8vICAgYXJnczogW10sCiAgICAvLyAgIGZlZTogMCwKICAgIC8vIH0pLnJldHVyblZhbHVlOwogICAgaXR4bl9zdWJtaXQKICAgIGl0eG4gTGFzdExvZwogICAgZHVwCiAgICBleHRyYWN0IDQgMAogICAgc3dhcAogICAgZXh0cmFjdCAwIDQKICAgIGJ5dGVjIDIzIC8vIDB4MTUxZjdjNzUKICAgID09CiAgICBhc3NlcnQgLy8gQnl0ZXMgaGFzIHZhbGlkIHByZWZpeAogICAgZHVwCiAgICBsZW4KICAgIGludGNfMiAvLyA4CiAgICA9PQogICAgYXNzZXJ0IC8vIGludmFsaWQgbnVtYmVyIG9mIGJ5dGVzIGZvciBhcmM0LnVpbnQ2NAogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjUxCiAgICAvLyBwbGF0Zm9ybV9mZWVfYnBzID0gR2xvYmFsU3RhdGU8VWludDY0PigpOwogICAgYnl0ZWMgMTUgLy8gInBsYXRmb3JtX2ZlZV9icHMiCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6MTk5CiAgICAvLyB0aGlzLnBsYXRmb3JtX2ZlZV9icHMudmFsdWUgPSBwbGF0Zm9ybUZlZVJlc3VsdDsKICAgIHN3YXAKICAgIGFwcF9nbG9iYWxfcHV0CiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6NDkKICAgIC8vIGNvbnRyYWN0X3N0YXRlID0gR2xvYmFsU3RhdGU8VWludDY0PigpOyAvLyAwID0gaW5hY3RpdmUsIDEgPSBhY3RpdmUKICAgIGJ5dGVjIDggLy8gImNvbnRyYWN0X3N0YXRlIgogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjIwMAogICAgLy8gdGhpcy5jb250cmFjdF9zdGF0ZS52YWx1ZSA9IG5ldyBVaW50NjQoMSk7CiAgICBieXRlYyAxNyAvLyAweDAwMDAwMDAwMDAwMDAwMDEKICAgIGFwcF9nbG9iYWxfcHV0CiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6MTgyCiAgICAvLyBAYWJpbWV0aG9kKHsgYWxsb3dBY3Rpb25zOiAiTm9PcCIgfSkKICAgIGludGNfMSAvLyAxCiAgICByZXR1cm4KCgovLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6OlN0YWtpbmcuc2V0Q29udHJhY3RJbmFjdGl2ZVtyb3V0aW5nXSgpIC0+IHZvaWQ6CnNldENvbnRyYWN0SW5hY3RpdmU6CiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6MjA1CiAgICAvLyBhc3NlcnQob3AuVHhuLnNlbmRlciA9PT0gdGhpcy5hZG1pbl9hZGRyZXNzLnZhbHVlIHx8IG9wLlR4bi5zZW5kZXIgPT09IHRoaXMuc3VwZXJfYWRtaW5fYWRkcmVzcy52YWx1ZSwgIk9ubHkgYWRtaW4gY2FuIHNldCBpbmFjdGl2ZSIpOwogICAgdHhuIFNlbmRlcgogICAgaW50Y18wIC8vIDAKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czo0NQogICAgLy8gYWRtaW5fYWRkcmVzcyA9IEdsb2JhbFN0YXRlPEFjY291bnQ+KCk7CiAgICBieXRlYyA1IC8vICJhZG1pbl9hZGRyZXNzIgogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjIwNQogICAgLy8gYXNzZXJ0KG9wLlR4bi5zZW5kZXIgPT09IHRoaXMuYWRtaW5fYWRkcmVzcy52YWx1ZSB8fCBvcC5UeG4uc2VuZGVyID09PSB0aGlzLnN1cGVyX2FkbWluX2FkZHJlc3MudmFsdWUsICJPbmx5IGFkbWluIGNhbiBzZXQgaW5hY3RpdmUiKTsKICAgIGFwcF9nbG9iYWxfZ2V0X2V4CiAgICBhc3NlcnQgLy8gY2hlY2sgR2xvYmFsU3RhdGUgZXhpc3RzCiAgICA9PQogICAgYm56IHNldENvbnRyYWN0SW5hY3RpdmVfYm9vbF90cnVlQDMKICAgIHR4biBTZW5kZXIKICAgIGludGNfMCAvLyAwCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6NDYKICAgIC8vIHN1cGVyX2FkbWluX2FkZHJlc3MgPSBHbG9iYWxTdGF0ZTxBY2NvdW50PigpOwogICAgYnl0ZWMgMTQgLy8gInN1cGVyX2FkbWluX2FkZHJlc3MiCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6MjA1CiAgICAvLyBhc3NlcnQob3AuVHhuLnNlbmRlciA9PT0gdGhpcy5hZG1pbl9hZGRyZXNzLnZhbHVlIHx8IG9wLlR4bi5zZW5kZXIgPT09IHRoaXMuc3VwZXJfYWRtaW5fYWRkcmVzcy52YWx1ZSwgIk9ubHkgYWRtaW4gY2FuIHNldCBpbmFjdGl2ZSIpOwogICAgYXBwX2dsb2JhbF9nZXRfZXgKICAgIGFzc2VydCAvLyBjaGVjayBHbG9iYWxTdGF0ZSBleGlzdHMKICAgID09CiAgICBieiBzZXRDb250cmFjdEluYWN0aXZlX2Jvb2xfZmFsc2VANAoKc2V0Q29udHJhY3RJbmFjdGl2ZV9ib29sX3RydWVAMzoKICAgIGludGNfMSAvLyAxCgpzZXRDb250cmFjdEluYWN0aXZlX2Jvb2xfbWVyZ2VANToKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czoyMDUKICAgIC8vIGFzc2VydChvcC5UeG4uc2VuZGVyID09PSB0aGlzLmFkbWluX2FkZHJlc3MudmFsdWUgfHwgb3AuVHhuLnNlbmRlciA9PT0gdGhpcy5zdXBlcl9hZG1pbl9hZGRyZXNzLnZhbHVlLCAiT25seSBhZG1pbiBjYW4gc2V0IGluYWN0aXZlIik7CiAgICBhc3NlcnQgLy8gT25seSBhZG1pbiBjYW4gc2V0IGluYWN0aXZlCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6NDkKICAgIC8vIGNvbnRyYWN0X3N0YXRlID0gR2xvYmFsU3RhdGU8VWludDY0PigpOyAvLyAwID0gaW5hY3RpdmUsIDEgPSBhY3RpdmUKICAgIGJ5dGVjIDggLy8gImNvbnRyYWN0X3N0YXRlIgogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjIwNgogICAgLy8gdGhpcy5jb250cmFjdF9zdGF0ZS52YWx1ZSA9IG5ldyBVaW50NjQoMCk7CiAgICBieXRlY18wIC8vIDB4MDAwMDAwMDAwMDAwMDAwMAogICAgYXBwX2dsb2JhbF9wdXQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czoyMDMKICAgIC8vIEBhYmltZXRob2QoeyBhbGxvd0FjdGlvbnM6ICJOb09wIiB9KQogICAgaW50Y18xIC8vIDEKICAgIHJldHVybgoKc2V0Q29udHJhY3RJbmFjdGl2ZV9ib29sX2ZhbHNlQDQ6CiAgICBpbnRjXzAgLy8gMAogICAgYiBzZXRDb250cmFjdEluYWN0aXZlX2Jvb2xfbWVyZ2VANQoKCi8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czo6U3Rha2luZy51cGRhdGVBZG1pbkFkZHJlc3Nbcm91dGluZ10oKSAtPiB2b2lkOgp1cGRhdGVBZG1pbkFkZHJlc3M6CiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6MjA5CiAgICAvLyBAYWJpbWV0aG9kKHsgYWxsb3dBY3Rpb25zOiAiTm9PcCIgfSkKICAgIHR4bmEgQXBwbGljYXRpb25BcmdzIDEKICAgIGR1cAogICAgbGVuCiAgICBwdXNoaW50IDMyIC8vIDMyCiAgICA9PQogICAgYXNzZXJ0IC8vIGludmFsaWQgbnVtYmVyIG9mIGJ5dGVzIGZvciBhcmM0LnN0YXRpY19hcnJheTxhcmM0LnVpbnQ4LCAzMj4KICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czoyMTEKICAgIC8vIGFzc2VydChvcC5UeG4uc2VuZGVyID09PSB0aGlzLmFkbWluX2FkZHJlc3MudmFsdWUsICJPbmx5IGFkbWluIGNhbiB1cGRhdGUgYWRtaW4gYWRkcmVzcyIpOwogICAgdHhuIFNlbmRlcgogICAgaW50Y18wIC8vIDAKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czo0NQogICAgLy8gYWRtaW5fYWRkcmVzcyA9IEdsb2JhbFN0YXRlPEFjY291bnQ+KCk7CiAgICBieXRlYyA1IC8vICJhZG1pbl9hZGRyZXNzIgogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjIxMQogICAgLy8gYXNzZXJ0KG9wLlR4bi5zZW5kZXIgPT09IHRoaXMuYWRtaW5fYWRkcmVzcy52YWx1ZSwgIk9ubHkgYWRtaW4gY2FuIHVwZGF0ZSBhZG1pbiBhZGRyZXNzIik7CiAgICBhcHBfZ2xvYmFsX2dldF9leAogICAgYXNzZXJ0IC8vIGNoZWNrIEdsb2JhbFN0YXRlIGV4aXN0cwogICAgPT0KICAgIGFzc2VydCAvLyBPbmx5IGFkbWluIGNhbiB1cGRhdGUgYWRtaW4gYWRkcmVzcwogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjQ1CiAgICAvLyBhZG1pbl9hZGRyZXNzID0gR2xvYmFsU3RhdGU8QWNjb3VudD4oKTsKICAgIGJ5dGVjIDUgLy8gImFkbWluX2FkZHJlc3MiCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6MjEyCiAgICAvLyB0aGlzLmFkbWluX2FkZHJlc3MudmFsdWUgPSBhZG1pbkFkZHJlc3M7CiAgICBzd2FwCiAgICBhcHBfZ2xvYmFsX3B1dAogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjIwOQogICAgLy8gQGFiaW1ldGhvZCh7IGFsbG93QWN0aW9uczogIk5vT3AiIH0pCiAgICBpbnRjXzEgLy8gMQogICAgcmV0dXJuCgoKLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjpTdGFraW5nLnVwZGF0ZVN1cGVyQWRtaW5BZGRyZXNzW3JvdXRpbmddKCkgLT4gdm9pZDoKdXBkYXRlU3VwZXJBZG1pbkFkZHJlc3M6CiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6MjE1CiAgICAvLyBAYWJpbWV0aG9kKHsgYWxsb3dBY3Rpb25zOiAiTm9PcCIgfSkKICAgIHR4bmEgQXBwbGljYXRpb25BcmdzIDEKICAgIGR1cAogICAgbGVuCiAgICBwdXNoaW50IDMyIC8vIDMyCiAgICA9PQogICAgYXNzZXJ0IC8vIGludmFsaWQgbnVtYmVyIG9mIGJ5dGVzIGZvciBhcmM0LnN0YXRpY19hcnJheTxhcmM0LnVpbnQ4LCAzMj4KICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czoyMTcKICAgIC8vIGFzc2VydChvcC5UeG4uc2VuZGVyID09PSB0aGlzLnN1cGVyX2FkbWluX2FkZHJlc3MudmFsdWUsICJPbmx5IHN1cGVyIGFkbWluIGNhbiB1cGRhdGUgc3VwZXIgYWRtaW4gYWRkcmVzcyIpOwogICAgdHhuIFNlbmRlcgogICAgaW50Y18wIC8vIDAKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czo0NgogICAgLy8gc3VwZXJfYWRtaW5fYWRkcmVzcyA9IEdsb2JhbFN0YXRlPEFjY291bnQ+KCk7CiAgICBieXRlYyAxNCAvLyAic3VwZXJfYWRtaW5fYWRkcmVzcyIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czoyMTcKICAgIC8vIGFzc2VydChvcC5UeG4uc2VuZGVyID09PSB0aGlzLnN1cGVyX2FkbWluX2FkZHJlc3MudmFsdWUsICJPbmx5IHN1cGVyIGFkbWluIGNhbiB1cGRhdGUgc3VwZXIgYWRtaW4gYWRkcmVzcyIpOwogICAgYXBwX2dsb2JhbF9nZXRfZXgKICAgIGFzc2VydCAvLyBjaGVjayBHbG9iYWxTdGF0ZSBleGlzdHMKICAgID09CiAgICBhc3NlcnQgLy8gT25seSBzdXBlciBhZG1pbiBjYW4gdXBkYXRlIHN1cGVyIGFkbWluIGFkZHJlc3MKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czo0NgogICAgLy8gc3VwZXJfYWRtaW5fYWRkcmVzcyA9IEdsb2JhbFN0YXRlPEFjY291bnQ+KCk7CiAgICBieXRlYyAxNCAvLyAic3VwZXJfYWRtaW5fYWRkcmVzcyIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czoyMTgKICAgIC8vIHRoaXMuc3VwZXJfYWRtaW5fYWRkcmVzcy52YWx1ZSA9IHN1cGVyQWRtaW5BZGRyZXNzOwogICAgc3dhcAogICAgYXBwX2dsb2JhbF9wdXQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czoyMTUKICAgIC8vIEBhYmltZXRob2QoeyBhbGxvd0FjdGlvbnM6ICJOb09wIiB9KQogICAgaW50Y18xIC8vIDEKICAgIHJldHVybgoKCi8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czo6U3Rha2luZy53aXRoZHJhd1BsYXRmb3JtRmVlc1tyb3V0aW5nXSgpIC0+IHZvaWQ6CndpdGhkcmF3UGxhdGZvcm1GZWVzOgogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjIyMQogICAgLy8gQGFiaW1ldGhvZCh7IGFsbG93QWN0aW9uczogIk5vT3AiIH0pCiAgICB0eG5hIEFwcGxpY2F0aW9uQXJncyAxCiAgICBkdXAKICAgIGxlbgogICAgcHVzaGludCAzMiAvLyAzMgogICAgPT0KICAgIGFzc2VydCAvLyBpbnZhbGlkIG51bWJlciBvZiBieXRlcyBmb3IgYXJjNC5zdGF0aWNfYXJyYXk8YXJjNC51aW50OCwgMzI+CiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6MjIzCiAgICAvLyBhc3NlcnQob3AuVHhuLnNlbmRlciA9PT0gdGhpcy5zdXBlcl9hZG1pbl9hZGRyZXNzLnZhbHVlLCAiT25seSBzdXBlciBhZG1pbiBjYW4gd2l0aGRyYXcgZmVlcyIpOwogICAgdHhuIFNlbmRlcgogICAgaW50Y18wIC8vIDAKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czo0NgogICAgLy8gc3VwZXJfYWRtaW5fYWRkcmVzcyA9IEdsb2JhbFN0YXRlPEFjY291bnQ+KCk7CiAgICBieXRlYyAxNCAvLyAic3VwZXJfYWRtaW5fYWRkcmVzcyIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czoyMjMKICAgIC8vIGFzc2VydChvcC5UeG4uc2VuZGVyID09PSB0aGlzLnN1cGVyX2FkbWluX2FkZHJlc3MudmFsdWUsICJPbmx5IHN1cGVyIGFkbWluIGNhbiB3aXRoZHJhdyBmZWVzIik7CiAgICBhcHBfZ2xvYmFsX2dldF9leAogICAgYXNzZXJ0IC8vIGNoZWNrIEdsb2JhbFN0YXRlIGV4aXN0cwogICAgPT0KICAgIGFzc2VydCAvLyBPbmx5IHN1cGVyIGFkbWluIGNhbiB3aXRoZHJhdyBmZWVzCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6MjI0CiAgICAvLyBjb25zdCBhY2NydWVkOiB1aW50NjQgPSB0aGlzLnBsYXRmb3JtX2ZlZXNfYWNjcnVlZC52YWx1ZS5hc1VpbnQ2NCgpOwogICAgaW50Y18wIC8vIDAKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czo1MgogICAgLy8gcGxhdGZvcm1fZmVlc19hY2NydWVkID0gR2xvYmFsU3RhdGU8VWludDY0PigpOwogICAgYnl0ZWNfMiAvLyAicGxhdGZvcm1fZmVlc19hY2NydWVkIgogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjIyNAogICAgLy8gY29uc3QgYWNjcnVlZDogdWludDY0ID0gdGhpcy5wbGF0Zm9ybV9mZWVzX2FjY3J1ZWQudmFsdWUuYXNVaW50NjQoKTsKICAgIGFwcF9nbG9iYWxfZ2V0X2V4CiAgICBhc3NlcnQgLy8gY2hlY2sgR2xvYmFsU3RhdGUgZXhpc3RzCiAgICBidG9pCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6MjI1CiAgICAvLyBhc3NlcnQoYWNjcnVlZCA+IDAsICJObyBmZWVzIGFjY3J1ZWQiKTsKICAgIGR1cAogICAgYXNzZXJ0IC8vIE5vIGZlZXMgYWNjcnVlZAogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjUyCiAgICAvLyBwbGF0Zm9ybV9mZWVzX2FjY3J1ZWQgPSBHbG9iYWxTdGF0ZTxVaW50NjQ+KCk7CiAgICBieXRlY18yIC8vICJwbGF0Zm9ybV9mZWVzX2FjY3J1ZWQiCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6MjI3CiAgICAvLyB0aGlzLnBsYXRmb3JtX2ZlZXNfYWNjcnVlZC52YWx1ZSA9IG5ldyBVaW50NjQoMCk7CiAgICBieXRlY18wIC8vIDB4MDAwMDAwMDAwMDAwMDAwMAogICAgYXBwX2dsb2JhbF9wdXQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czoyMjgtMjM2CiAgICAvLyBpdHhuCiAgICAvLyAgIC5hc3NldFRyYW5zZmVyKHsKICAgIC8vICAgICB4ZmVyQXNzZXQ6IHRoaXMucmV3YXJkX2Fzc2V0X2lkLnZhbHVlLmFzVWludDY0KCksCiAgICAvLyAgICAgYXNzZXRSZWNlaXZlcjogcmVjZWl2ZXIsCiAgICAvLyAgICAgc2VuZGVyOiBHbG9iYWwuY3VycmVudEFwcGxpY2F0aW9uQWRkcmVzcywKICAgIC8vICAgICBhc3NldEFtb3VudDogYWNjcnVlZCwKICAgIC8vICAgICBmZWU6IDAsCiAgICAvLyAgIH0pCiAgICAvLyAgIC5zdWJtaXQoKTsKICAgIGl0eG5fYmVnaW4KICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czoyMzAKICAgIC8vIHhmZXJBc3NldDogdGhpcy5yZXdhcmRfYXNzZXRfaWQudmFsdWUuYXNVaW50NjQoKSwKICAgIGludGNfMCAvLyAwCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6MjkKICAgIC8vIHJld2FyZF9hc3NldF9pZCA9IEdsb2JhbFN0YXRlPFVpbnQ2ND4oKTsKICAgIGJ5dGVjIDYgLy8gInJld2FyZF9hc3NldF9pZCIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czoyMzAKICAgIC8vIHhmZXJBc3NldDogdGhpcy5yZXdhcmRfYXNzZXRfaWQudmFsdWUuYXNVaW50NjQoKSwKICAgIGFwcF9nbG9iYWxfZ2V0X2V4CiAgICBhc3NlcnQgLy8gY2hlY2sgR2xvYmFsU3RhdGUgZXhpc3RzCiAgICBidG9pCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6MjMyCiAgICAvLyBzZW5kZXI6IEdsb2JhbC5jdXJyZW50QXBwbGljYXRpb25BZGRyZXNzLAogICAgZ2xvYmFsIEN1cnJlbnRBcHBsaWNhdGlvbkFkZHJlc3MKICAgIHVuY292ZXIgMgogICAgaXR4bl9maWVsZCBBc3NldEFtb3VudAogICAgaXR4bl9maWVsZCBTZW5kZXIKICAgIGl0eG5fZmllbGQgWGZlckFzc2V0CiAgICBpdHhuX2ZpZWxkIEFzc2V0UmVjZWl2ZXIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czoyMjgtMjM1CiAgICAvLyBpdHhuCiAgICAvLyAgIC5hc3NldFRyYW5zZmVyKHsKICAgIC8vICAgICB4ZmVyQXNzZXQ6IHRoaXMucmV3YXJkX2Fzc2V0X2lkLnZhbHVlLmFzVWludDY0KCksCiAgICAvLyAgICAgYXNzZXRSZWNlaXZlcjogcmVjZWl2ZXIsCiAgICAvLyAgICAgc2VuZGVyOiBHbG9iYWwuY3VycmVudEFwcGxpY2F0aW9uQWRkcmVzcywKICAgIC8vICAgICBhc3NldEFtb3VudDogYWNjcnVlZCwKICAgIC8vICAgICBmZWU6IDAsCiAgICAvLyAgIH0pCiAgICBpbnRjXzMgLy8gNAogICAgaXR4bl9maWVsZCBUeXBlRW51bQogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjIzNAogICAgLy8gZmVlOiAwLAogICAgaW50Y18wIC8vIDAKICAgIGl0eG5fZmllbGQgRmVlCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6MjI4LTIzNgogICAgLy8gaXR4bgogICAgLy8gICAuYXNzZXRUcmFuc2Zlcih7CiAgICAvLyAgICAgeGZlckFzc2V0OiB0aGlzLnJld2FyZF9hc3NldF9pZC52YWx1ZS5hc1VpbnQ2NCgpLAogICAgLy8gICAgIGFzc2V0UmVjZWl2ZXI6IHJlY2VpdmVyLAogICAgLy8gICAgIHNlbmRlcjogR2xvYmFsLmN1cnJlbnRBcHBsaWNhdGlvbkFkZHJlc3MsCiAgICAvLyAgICAgYXNzZXRBbW91bnQ6IGFjY3J1ZWQsCiAgICAvLyAgICAgZmVlOiAwLAogICAgLy8gICB9KQogICAgLy8gICAuc3VibWl0KCk7CiAgICBpdHhuX3N1Ym1pdAogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjIyMQogICAgLy8gQGFiaW1ldGhvZCh7IGFsbG93QWN0aW9uczogIk5vT3AiIH0pCiAgICBpbnRjXzEgLy8gMQogICAgcmV0dXJuCgoKLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjpTdGFraW5nLmVtZXJnZW5jeVdpdGhkcmF3QXNzZXRbcm91dGluZ10oKSAtPiB2b2lkOgplbWVyZ2VuY3lXaXRoZHJhd0Fzc2V0OgogICAgcHVzaGJ5dGVzICIiCiAgICBkdXBuIDMKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czoyMzkKICAgIC8vIEBhYmltZXRob2QoeyBhbGxvd0FjdGlvbnM6ICJOb09wIiB9KQogICAgdHhuYSBBcHBsaWNhdGlvbkFyZ3MgMQogICAgZHVwCiAgICBsZW4KICAgIGludGNfMiAvLyA4CiAgICA9PQogICAgYXNzZXJ0IC8vIGludmFsaWQgbnVtYmVyIG9mIGJ5dGVzIGZvciBhcmM0LnVpbnQ2NAogICAgYnRvaQogICAgdHhuYSBBcHBsaWNhdGlvbkFyZ3MgMgogICAgZHVwCiAgICBsZW4KICAgIGludGNfMiAvLyA4CiAgICA9PQogICAgYXNzZXJ0IC8vIGludmFsaWQgbnVtYmVyIG9mIGJ5dGVzIGZvciBhcmM0LnVpbnQ2NAogICAgYnRvaQogICAgdHhuYSBBcHBsaWNhdGlvbkFyZ3MgMwogICAgZHVwCiAgICBjb3ZlciAzCiAgICBkdXAKICAgIGxlbgogICAgcHVzaGludCAzMiAvLyAzMgogICAgPT0KICAgIGFzc2VydCAvLyBpbnZhbGlkIG51bWJlciBvZiBieXRlcyBmb3IgYXJjNC5zdGF0aWNfYXJyYXk8YXJjNC51aW50OCwgMzI+CiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6MjQxCiAgICAvLyBhc3NlcnQob3AuVHhuLnNlbmRlciA9PT0gdGhpcy5zdXBlcl9hZG1pbl9hZGRyZXNzLnZhbHVlLCAiT25seSBzdXBlciBhZG1pbiBjYW4gd2l0aGRyYXciKTsKICAgIHR4biBTZW5kZXIKICAgIGludGNfMCAvLyAwCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6NDYKICAgIC8vIHN1cGVyX2FkbWluX2FkZHJlc3MgPSBHbG9iYWxTdGF0ZTxBY2NvdW50PigpOwogICAgYnl0ZWMgMTQgLy8gInN1cGVyX2FkbWluX2FkZHJlc3MiCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6MjQxCiAgICAvLyBhc3NlcnQob3AuVHhuLnNlbmRlciA9PT0gdGhpcy5zdXBlcl9hZG1pbl9hZGRyZXNzLnZhbHVlLCAiT25seSBzdXBlciBhZG1pbiBjYW4gd2l0aGRyYXciKTsKICAgIGFwcF9nbG9iYWxfZ2V0X2V4CiAgICBhc3NlcnQgLy8gY2hlY2sgR2xvYmFsU3RhdGUgZXhpc3RzCiAgICA9PQogICAgYXNzZXJ0IC8vIE9ubHkgc3VwZXIgYWRtaW4gY2FuIHdpdGhkcmF3CiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6MjQyCiAgICAvLyBhc3NlcnQodGhpcy5jb250cmFjdF9zdGF0ZS52YWx1ZSA9PT0gbmV3IFVpbnQ2NCgwKSwgIlBvb2wgbXVzdCBiZSBpbmFjdGl2ZSIpOwogICAgaW50Y18wIC8vIDAKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czo0OQogICAgLy8gY29udHJhY3Rfc3RhdGUgPSBHbG9iYWxTdGF0ZTxVaW50NjQ+KCk7IC8vIDAgPSBpbmFjdGl2ZSwgMSA9IGFjdGl2ZQogICAgYnl0ZWMgOCAvLyAiY29udHJhY3Rfc3RhdGUiCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6MjQyCiAgICAvLyBhc3NlcnQodGhpcy5jb250cmFjdF9zdGF0ZS52YWx1ZSA9PT0gbmV3IFVpbnQ2NCgwKSwgIlBvb2wgbXVzdCBiZSBpbmFjdGl2ZSIpOwogICAgYXBwX2dsb2JhbF9nZXRfZXgKICAgIGFzc2VydCAvLyBjaGVjayBHbG9iYWxTdGF0ZSBleGlzdHMKICAgIGJ5dGVjXzAgLy8gMHgwMDAwMDAwMDAwMDAwMDAwCiAgICA9PQogICAgYXNzZXJ0IC8vIFBvb2wgbXVzdCBiZSBpbmFjdGl2ZQogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjI2CiAgICAvLyBzdGFrZXJzID0gQm94TWFwPEFjY291bnQsIFN0YWtlSW5mb1JlY29yZD4oeyBrZXlQcmVmaXg6ICJzdCIgfSk7CiAgICBieXRlYyA0IC8vICJzdCIKICAgIHN3YXAKICAgIGNvbmNhdAogICAgZHVwCiAgICBjb3ZlciAzCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6MjQzCiAgICAvLyBhc3NlcnQodGhpcy5zdGFrZXJzKHJlY2VpdmVyKS5leGlzdHMsICJObyBzdGFrZSBmb3VuZCBmb3IgdXNlciIpOwogICAgZHVwCiAgICBib3hfbGVuCiAgICBidXJ5IDEKICAgIGFzc2VydCAvLyBObyBzdGFrZSBmb3VuZCBmb3IgdXNlcgogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjI0NQogICAgLy8gY29uc3QgcmVjID0gY2xvbmUodGhpcy5zdGFrZXJzKHJlY2VpdmVyKS52YWx1ZSk7CiAgICBib3hfZ2V0CiAgICBwb3AKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czoyNDYKICAgIC8vIGNvbnN0IHN0YWtlTm93OiB1aW50NjQgPSByZWMuc3Rha2UuYXNVaW50NjQoKTsKICAgIGR1cAogICAgaW50Y18wIC8vIDAKICAgIGV4dHJhY3RfdWludDY0CiAgICBkdXAKICAgIGNvdmVyIDQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czoyNDcKICAgIC8vIGFzc2VydChzdGFrZU5vdyA+IDAsICJObyBzdGFrZSIpOwogICAgZHVwCiAgICBhc3NlcnQgLy8gTm8gc3Rha2UKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czoyNDgKICAgIC8vIGFzc2VydChhc3NldElkID09PSB0aGlzLnN0YWtlZF9hc3NldF9pZC52YWx1ZS5hc1VpbnQ2NCgpLCAiSW52YWxpZCBhc3NldCIpOwogICAgaW50Y18wIC8vIDAKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czoyOAogICAgLy8gc3Rha2VkX2Fzc2V0X2lkID0gR2xvYmFsU3RhdGU8VWludDY0PigpOwogICAgYnl0ZWMgMTYgLy8gInN0YWtlZF9hc3NldF9pZCIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czoyNDgKICAgIC8vIGFzc2VydChhc3NldElkID09PSB0aGlzLnN0YWtlZF9hc3NldF9pZC52YWx1ZS5hc1VpbnQ2NCgpLCAiSW52YWxpZCBhc3NldCIpOwogICAgYXBwX2dsb2JhbF9nZXRfZXgKICAgIGFzc2VydCAvLyBjaGVjayBHbG9iYWxTdGF0ZSBleGlzdHMKICAgIGJ0b2kKICAgIHVuY292ZXIgNAogICAgPT0KICAgIGFzc2VydCAvLyBJbnZhbGlkIGFzc2V0CiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6MjQ5CiAgICAvLyBhc3NlcnQoYW1vdW50ID09PSBzdGFrZU5vdywgIkFtb3VudCBtaXNtYXRjaCIpOwogICAgdW5jb3ZlciAyCiAgICBkaWcgMQogICAgPT0KICAgIGFzc2VydCAvLyBBbW91bnQgbWlzbWF0Y2gKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czoyNTEKICAgIC8vIGNvbnN0IGFjY3J1ZWQgPSBtdWxEaXZXKHN0YWtlTm93LCB0aGlzLnJld2FyZF9wZXJfdG9rZW4udmFsdWUuYXNVaW50NjQoKSwgUFJFQ0lTSU9OKTsKICAgIGludGNfMCAvLyAwCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6MzIKICAgIC8vIHJld2FyZF9wZXJfdG9rZW4gPSBHbG9iYWxTdGF0ZTxVaW50NjQ+KCk7CiAgICBieXRlYyA5IC8vICJyZXdhcmRfcGVyX3Rva2VuIgogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjI1MQogICAgLy8gY29uc3QgYWNjcnVlZCA9IG11bERpdlcoc3Rha2VOb3csIHRoaXMucmV3YXJkX3Blcl90b2tlbi52YWx1ZS5hc1VpbnQ2NCgpLCBQUkVDSVNJT04pOwogICAgYXBwX2dsb2JhbF9nZXRfZXgKICAgIGFzc2VydCAvLyBjaGVjayBHbG9iYWxTdGF0ZSBleGlzdHMKICAgIGJ0b2kKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL2NvbmZpZy5hbGdvLnRzOjI4CiAgICAvLyBjb25zdCBbaGksIGxvXSA9IG11bHcoYSwgYik7CiAgICBtdWx3CiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6MjUxCiAgICAvLyBjb25zdCBhY2NydWVkID0gbXVsRGl2VyhzdGFrZU5vdywgdGhpcy5yZXdhcmRfcGVyX3Rva2VuLnZhbHVlLmFzVWludDY0KCksIFBSRUNJU0lPTik7CiAgICBpbnRjIDQgLy8gMTAwMDAwMDAwMDAwMDAwMAogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvY29uZmlnLmFsZ28udHM6MjkKICAgIC8vIHJldHVybiBkaXZ3KGhpLCBsbywgYyk7CiAgICBkaXZ3CiAgICBkdXAKICAgIHVuY292ZXIgMgogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjI1MgogICAgLy8gbGV0IHBlbmRpbmc6IHVpbnQ2NCA9IGFjY3J1ZWQgPiByZWMucmV3YXJkRGVidC5hc1VpbnQ2NCgpID8gYWNjcnVlZCAtIHJlYy5yZXdhcmREZWJ0LmFzVWludDY0KCkgOiAwOwogICAgaW50Y18yIC8vIDgKICAgIGV4dHJhY3RfdWludDY0CiAgICBkdXAKICAgIGNvdmVyIDIKICAgID4KICAgIGJ6IGVtZXJnZW5jeVdpdGhkcmF3QXNzZXRfdGVybmFyeV9mYWxzZUAzCiAgICBkdXAyCiAgICAtCiAgICBidXJ5IDYKCmVtZXJnZW5jeVdpdGhkcmF3QXNzZXRfdGVybmFyeV9tZXJnZUA0OgogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjI1MwogICAgLy8gY29uc3QgcGF5YWJsZTogdWludDY0ID0gdGhpcy5hY2NydWVkX3Jld2FyZHMudmFsdWUuYXNVaW50NjQoKSAtIHRoaXMucmV3YXJkc19wYWlkLnZhbHVlLmFzVWludDY0KCk7CiAgICBpbnRjXzAgLy8gMAogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjM5CiAgICAvLyBhY2NydWVkX3Jld2FyZHMgPSBHbG9iYWxTdGF0ZTxVaW50NjQ+KCk7CiAgICBieXRlYyA3IC8vICJhY2NydWVkX3Jld2FyZHMiCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6MjUzCiAgICAvLyBjb25zdCBwYXlhYmxlOiB1aW50NjQgPSB0aGlzLmFjY3J1ZWRfcmV3YXJkcy52YWx1ZS5hc1VpbnQ2NCgpIC0gdGhpcy5yZXdhcmRzX3BhaWQudmFsdWUuYXNVaW50NjQoKTsKICAgIGFwcF9nbG9iYWxfZ2V0X2V4CiAgICBhc3NlcnQgLy8gY2hlY2sgR2xvYmFsU3RhdGUgZXhpc3RzCiAgICBidG9pCiAgICBpbnRjXzAgLy8gMAogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjQyCiAgICAvLyByZXdhcmRzX3BhaWQgPSBHbG9iYWxTdGF0ZTxVaW50NjQ+KCk7CiAgICBieXRlY18xIC8vICJyZXdhcmRzX3BhaWQiCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6MjUzCiAgICAvLyBjb25zdCBwYXlhYmxlOiB1aW50NjQgPSB0aGlzLmFjY3J1ZWRfcmV3YXJkcy52YWx1ZS5hc1VpbnQ2NCgpIC0gdGhpcy5yZXdhcmRzX3BhaWQudmFsdWUuYXNVaW50NjQoKTsKICAgIGFwcF9nbG9iYWxfZ2V0X2V4CiAgICBhc3NlcnQgLy8gY2hlY2sgR2xvYmFsU3RhdGUgZXhpc3RzCiAgICBidG9pCiAgICAtCiAgICBkdXAKICAgIGJ1cnkgOAogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjI1NAogICAgLy8gaWYgKHBlbmRpbmcgPiBwYXlhYmxlKSB7CiAgICBkaWcgNgogICAgPAogICAgYnogZW1lcmdlbmN5V2l0aGRyYXdBc3NldF9hZnRlcl9pZl9lbHNlQDYKICAgIGRpZyA2CiAgICBidXJ5IDYKCmVtZXJnZW5jeVdpdGhkcmF3QXNzZXRfYWZ0ZXJfaWZfZWxzZUA2OgogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjI1OAogICAgLy8gaWYgKHBlbmRpbmcgPiAwKSB7CiAgICBkaWcgNQogICAgYnogZW1lcmdlbmN5V2l0aGRyYXdBc3NldF9hZnRlcl9pZl9lbHNlQDExCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6MjU5CiAgICAvLyBjb25zdCBmZWU6IHVpbnQ2NCA9IG11bERpdlcocGVuZGluZywgdGhpcy5wbGF0Zm9ybV9mZWVfYnBzLnZhbHVlLmFzVWludDY0KCksIDEwXzAwMCk7CiAgICBpbnRjXzAgLy8gMAogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjUxCiAgICAvLyBwbGF0Zm9ybV9mZWVfYnBzID0gR2xvYmFsU3RhdGU8VWludDY0PigpOwogICAgYnl0ZWMgMTUgLy8gInBsYXRmb3JtX2ZlZV9icHMiCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6MjU5CiAgICAvLyBjb25zdCBmZWU6IHVpbnQ2NCA9IG11bERpdlcocGVuZGluZywgdGhpcy5wbGF0Zm9ybV9mZWVfYnBzLnZhbHVlLmFzVWludDY0KCksIDEwXzAwMCk7CiAgICBhcHBfZ2xvYmFsX2dldF9leAogICAgYXNzZXJ0IC8vIGNoZWNrIEdsb2JhbFN0YXRlIGV4aXN0cwogICAgYnRvaQogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvY29uZmlnLmFsZ28udHM6MjgKICAgIC8vIGNvbnN0IFtoaSwgbG9dID0gbXVsdyhhLCBiKTsKICAgIGRpZyA2CiAgICBkdXAKICAgIHVuY292ZXIgMgogICAgbXVsdwogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjI1OQogICAgLy8gY29uc3QgZmVlOiB1aW50NjQgPSBtdWxEaXZXKHBlbmRpbmcsIHRoaXMucGxhdGZvcm1fZmVlX2Jwcy52YWx1ZS5hc1VpbnQ2NCgpLCAxMF8wMDApOwogICAgaW50YyA1IC8vIDEwMDAwCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9jb25maWcuYWxnby50czoyOQogICAgLy8gcmV0dXJuIGRpdncoaGksIGxvLCBjKTsKICAgIGRpdncKICAgIGR1cAogICAgYnVyeSAxMQogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjI2MAogICAgLy8gY29uc3QgbmV0OiB1aW50NjQgPSBwZW5kaW5nIC0gZmVlOwogICAgc3dhcAogICAgZGlnIDEKICAgIC0KICAgIGJ1cnkgOQogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjI2MQogICAgLy8gaWYgKGZlZSA+IDApIHsKICAgIGJ6IGVtZXJnZW5jeVdpdGhkcmF3QXNzZXRfYWZ0ZXJfaWZfZWxzZUA5CiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6MjYyCiAgICAvLyB0aGlzLnBsYXRmb3JtX2ZlZXNfYWNjcnVlZC52YWx1ZSA9IG5ldyBVaW50NjQodGhpcy5wbGF0Zm9ybV9mZWVzX2FjY3J1ZWQudmFsdWUuYXNVaW50NjQoKSArIGZlZSk7CiAgICBpbnRjXzAgLy8gMAogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjUyCiAgICAvLyBwbGF0Zm9ybV9mZWVzX2FjY3J1ZWQgPSBHbG9iYWxTdGF0ZTxVaW50NjQ+KCk7CiAgICBieXRlY18yIC8vICJwbGF0Zm9ybV9mZWVzX2FjY3J1ZWQiCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6MjYyCiAgICAvLyB0aGlzLnBsYXRmb3JtX2ZlZXNfYWNjcnVlZC52YWx1ZSA9IG5ldyBVaW50NjQodGhpcy5wbGF0Zm9ybV9mZWVzX2FjY3J1ZWQudmFsdWUuYXNVaW50NjQoKSArIGZlZSk7CiAgICBhcHBfZ2xvYmFsX2dldF9leAogICAgYXNzZXJ0IC8vIGNoZWNrIEdsb2JhbFN0YXRlIGV4aXN0cwogICAgYnRvaQogICAgZGlnIDkKICAgICsKICAgIGl0b2IKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czo1MgogICAgLy8gcGxhdGZvcm1fZmVlc19hY2NydWVkID0gR2xvYmFsU3RhdGU8VWludDY0PigpOwogICAgYnl0ZWNfMiAvLyAicGxhdGZvcm1fZmVlc19hY2NydWVkIgogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjI2MgogICAgLy8gdGhpcy5wbGF0Zm9ybV9mZWVzX2FjY3J1ZWQudmFsdWUgPSBuZXcgVWludDY0KHRoaXMucGxhdGZvcm1fZmVlc19hY2NydWVkLnZhbHVlLmFzVWludDY0KCkgKyBmZWUpOwogICAgc3dhcAogICAgYXBwX2dsb2JhbF9wdXQKCmVtZXJnZW5jeVdpdGhkcmF3QXNzZXRfYWZ0ZXJfaWZfZWxzZUA5OgogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjI2NAogICAgLy8gdGhpcy5yZXdhcmRzX3BhaWQudmFsdWUgPSBuZXcgVWludDY0KHRoaXMucmV3YXJkc19wYWlkLnZhbHVlLmFzVWludDY0KCkgKyBwZW5kaW5nKTsKICAgIGludGNfMCAvLyAwCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6NDIKICAgIC8vIHJld2FyZHNfcGFpZCA9IEdsb2JhbFN0YXRlPFVpbnQ2ND4oKTsKICAgIGJ5dGVjXzEgLy8gInJld2FyZHNfcGFpZCIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czoyNjQKICAgIC8vIHRoaXMucmV3YXJkc19wYWlkLnZhbHVlID0gbmV3IFVpbnQ2NCh0aGlzLnJld2FyZHNfcGFpZC52YWx1ZS5hc1VpbnQ2NCgpICsgcGVuZGluZyk7CiAgICBhcHBfZ2xvYmFsX2dldF9leAogICAgYXNzZXJ0IC8vIGNoZWNrIEdsb2JhbFN0YXRlIGV4aXN0cwogICAgYnRvaQogICAgZGlnIDYKICAgICsKICAgIGl0b2IKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czo0MgogICAgLy8gcmV3YXJkc19wYWlkID0gR2xvYmFsU3RhdGU8VWludDY0PigpOwogICAgYnl0ZWNfMSAvLyAicmV3YXJkc19wYWlkIgogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjI2NAogICAgLy8gdGhpcy5yZXdhcmRzX3BhaWQudmFsdWUgPSBuZXcgVWludDY0KHRoaXMucmV3YXJkc19wYWlkLnZhbHVlLmFzVWludDY0KCkgKyBwZW5kaW5nKTsKICAgIHN3YXAKICAgIGFwcF9nbG9iYWxfcHV0CiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6MjY1LTI3MwogICAgLy8gaXR4bgogICAgLy8gICAuYXNzZXRUcmFuc2Zlcih7CiAgICAvLyAgICAgeGZlckFzc2V0OiB0aGlzLnJld2FyZF9hc3NldF9pZC52YWx1ZS5hc1VpbnQ2NCgpLAogICAgLy8gICAgIGFzc2V0UmVjZWl2ZXI6IHJlY2VpdmVyLAogICAgLy8gICAgIHNlbmRlcjogR2xvYmFsLmN1cnJlbnRBcHBsaWNhdGlvbkFkZHJlc3MsCiAgICAvLyAgICAgYXNzZXRBbW91bnQ6IG5ldCwKICAgIC8vICAgICBmZWU6IDAsCiAgICAvLyAgIH0pCiAgICAvLyAgIC5zdWJtaXQoKTsKICAgIGl0eG5fYmVnaW4KICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czoyNjcKICAgIC8vIHhmZXJBc3NldDogdGhpcy5yZXdhcmRfYXNzZXRfaWQudmFsdWUuYXNVaW50NjQoKSwKICAgIGludGNfMCAvLyAwCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6MjkKICAgIC8vIHJld2FyZF9hc3NldF9pZCA9IEdsb2JhbFN0YXRlPFVpbnQ2ND4oKTsKICAgIGJ5dGVjIDYgLy8gInJld2FyZF9hc3NldF9pZCIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czoyNjcKICAgIC8vIHhmZXJBc3NldDogdGhpcy5yZXdhcmRfYXNzZXRfaWQudmFsdWUuYXNVaW50NjQoKSwKICAgIGFwcF9nbG9iYWxfZ2V0X2V4CiAgICBhc3NlcnQgLy8gY2hlY2sgR2xvYmFsU3RhdGUgZXhpc3RzCiAgICBidG9pCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6MjY5CiAgICAvLyBzZW5kZXI6IEdsb2JhbC5jdXJyZW50QXBwbGljYXRpb25BZGRyZXNzLAogICAgZ2xvYmFsIEN1cnJlbnRBcHBsaWNhdGlvbkFkZHJlc3MKICAgIGRpZyA5CiAgICBpdHhuX2ZpZWxkIEFzc2V0QW1vdW50CiAgICBpdHhuX2ZpZWxkIFNlbmRlcgogICAgZGlnIDUKICAgIGl0eG5fZmllbGQgQXNzZXRSZWNlaXZlcgogICAgaXR4bl9maWVsZCBYZmVyQXNzZXQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czoyNjUtMjcyCiAgICAvLyBpdHhuCiAgICAvLyAgIC5hc3NldFRyYW5zZmVyKHsKICAgIC8vICAgICB4ZmVyQXNzZXQ6IHRoaXMucmV3YXJkX2Fzc2V0X2lkLnZhbHVlLmFzVWludDY0KCksCiAgICAvLyAgICAgYXNzZXRSZWNlaXZlcjogcmVjZWl2ZXIsCiAgICAvLyAgICAgc2VuZGVyOiBHbG9iYWwuY3VycmVudEFwcGxpY2F0aW9uQWRkcmVzcywKICAgIC8vICAgICBhc3NldEFtb3VudDogbmV0LAogICAgLy8gICAgIGZlZTogMCwKICAgIC8vICAgfSkKICAgIGludGNfMyAvLyA0CiAgICBpdHhuX2ZpZWxkIFR5cGVFbnVtCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6MjcxCiAgICAvLyBmZWU6IDAsCiAgICBpbnRjXzAgLy8gMAogICAgaXR4bl9maWVsZCBGZWUKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czoyNjUtMjczCiAgICAvLyBpdHhuCiAgICAvLyAgIC5hc3NldFRyYW5zZmVyKHsKICAgIC8vICAgICB4ZmVyQXNzZXQ6IHRoaXMucmV3YXJkX2Fzc2V0X2lkLnZhbHVlLmFzVWludDY0KCksCiAgICAvLyAgICAgYXNzZXRSZWNlaXZlcjogcmVjZWl2ZXIsCiAgICAvLyAgICAgc2VuZGVyOiBHbG9iYWwuY3VycmVudEFwcGxpY2F0aW9uQWRkcmVzcywKICAgIC8vICAgICBhc3NldEFtb3VudDogbmV0LAogICAgLy8gICAgIGZlZTogMCwKICAgIC8vICAgfSkKICAgIC8vICAgLnN1Ym1pdCgpOwogICAgaXR4bl9zdWJtaXQKCmVtZXJnZW5jeVdpdGhkcmF3QXNzZXRfYWZ0ZXJfaWZfZWxzZUAxMToKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czoyNzYtMjg0CiAgICAvLyBpdHhuCiAgICAvLyAgIC5hc3NldFRyYW5zZmVyKHsKICAgIC8vICAgICB4ZmVyQXNzZXQ6IHRoaXMuc3Rha2VkX2Fzc2V0X2lkLnZhbHVlLmFzVWludDY0KCksCiAgICAvLyAgICAgYXNzZXRSZWNlaXZlcjogcmVjZWl2ZXIsCiAgICAvLyAgICAgc2VuZGVyOiBHbG9iYWwuY3VycmVudEFwcGxpY2F0aW9uQWRkcmVzcywKICAgIC8vICAgICBhc3NldEFtb3VudDogc3Rha2VOb3csCiAgICAvLyAgICAgZmVlOiAwLAogICAgLy8gICB9KQogICAgLy8gICAuc3VibWl0KCk7CiAgICBpdHhuX2JlZ2luCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6Mjc4CiAgICAvLyB4ZmVyQXNzZXQ6IHRoaXMuc3Rha2VkX2Fzc2V0X2lkLnZhbHVlLmFzVWludDY0KCksCiAgICBpbnRjXzAgLy8gMAogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjI4CiAgICAvLyBzdGFrZWRfYXNzZXRfaWQgPSBHbG9iYWxTdGF0ZTxVaW50NjQ+KCk7CiAgICBieXRlYyAxNiAvLyAic3Rha2VkX2Fzc2V0X2lkIgogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjI3OAogICAgLy8geGZlckFzc2V0OiB0aGlzLnN0YWtlZF9hc3NldF9pZC52YWx1ZS5hc1VpbnQ2NCgpLAogICAgYXBwX2dsb2JhbF9nZXRfZXgKICAgIGFzc2VydCAvLyBjaGVjayBHbG9iYWxTdGF0ZSBleGlzdHMKICAgIGJ0b2kKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czoyODAKICAgIC8vIHNlbmRlcjogR2xvYmFsLmN1cnJlbnRBcHBsaWNhdGlvbkFkZHJlc3MsCiAgICBnbG9iYWwgQ3VycmVudEFwcGxpY2F0aW9uQWRkcmVzcwogICAgZGlnIDQKICAgIGR1cAogICAgY292ZXIgMwogICAgaXR4bl9maWVsZCBBc3NldEFtb3VudAogICAgaXR4bl9maWVsZCBTZW5kZXIKICAgIGRpZyA2CiAgICBkdXAKICAgIGNvdmVyIDMKICAgIGl0eG5fZmllbGQgQXNzZXRSZWNlaXZlcgogICAgaXR4bl9maWVsZCBYZmVyQXNzZXQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czoyNzYtMjgzCiAgICAvLyBpdHhuCiAgICAvLyAgIC5hc3NldFRyYW5zZmVyKHsKICAgIC8vICAgICB4ZmVyQXNzZXQ6IHRoaXMuc3Rha2VkX2Fzc2V0X2lkLnZhbHVlLmFzVWludDY0KCksCiAgICAvLyAgICAgYXNzZXRSZWNlaXZlcjogcmVjZWl2ZXIsCiAgICAvLyAgICAgc2VuZGVyOiBHbG9iYWwuY3VycmVudEFwcGxpY2F0aW9uQWRkcmVzcywKICAgIC8vICAgICBhc3NldEFtb3VudDogc3Rha2VOb3csCiAgICAvLyAgICAgZmVlOiAwLAogICAgLy8gICB9KQogICAgaW50Y18zIC8vIDQKICAgIGl0eG5fZmllbGQgVHlwZUVudW0KICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czoyODIKICAgIC8vIGZlZTogMCwKICAgIGludGNfMCAvLyAwCiAgICBpdHhuX2ZpZWxkIEZlZQogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjI3Ni0yODQKICAgIC8vIGl0eG4KICAgIC8vICAgLmFzc2V0VHJhbnNmZXIoewogICAgLy8gICAgIHhmZXJBc3NldDogdGhpcy5zdGFrZWRfYXNzZXRfaWQudmFsdWUuYXNVaW50NjQoKSwKICAgIC8vICAgICBhc3NldFJlY2VpdmVyOiByZWNlaXZlciwKICAgIC8vICAgICBzZW5kZXI6IEdsb2JhbC5jdXJyZW50QXBwbGljYXRpb25BZGRyZXNzLAogICAgLy8gICAgIGFzc2V0QW1vdW50OiBzdGFrZU5vdywKICAgIC8vICAgICBmZWU6IDAsCiAgICAvLyAgIH0pCiAgICAvLyAgIC5zdWJtaXQoKTsKICAgIGl0eG5fc3VibWl0CiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6Mjg2CiAgICAvLyB0aGlzLnRvdGFsX3N0YWtlZC52YWx1ZSA9IG5ldyBVaW50NjQodGhpcy50b3RhbF9zdGFrZWQudmFsdWUuYXNVaW50NjQoKSAtIHN0YWtlTm93KTsKICAgIGludGNfMCAvLyAwCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6MzEKICAgIC8vIHRvdGFsX3N0YWtlZCA9IEdsb2JhbFN0YXRlPFVpbnQ2ND4oKTsKICAgIGJ5dGVjXzMgLy8gInRvdGFsX3N0YWtlZCIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czoyODYKICAgIC8vIHRoaXMudG90YWxfc3Rha2VkLnZhbHVlID0gbmV3IFVpbnQ2NCh0aGlzLnRvdGFsX3N0YWtlZC52YWx1ZS5hc1VpbnQ2NCgpIC0gc3Rha2VOb3cpOwogICAgYXBwX2dsb2JhbF9nZXRfZXgKICAgIGFzc2VydCAvLyBjaGVjayBHbG9iYWxTdGF0ZSBleGlzdHMKICAgIGJ0b2kKICAgIHN3YXAKICAgIC0KICAgIGl0b2IKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czozMQogICAgLy8gdG90YWxfc3Rha2VkID0gR2xvYmFsU3RhdGU8VWludDY0PigpOwogICAgYnl0ZWNfMyAvLyAidG90YWxfc3Rha2VkIgogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjI4NgogICAgLy8gdGhpcy50b3RhbF9zdGFrZWQudmFsdWUgPSBuZXcgVWludDY0KHRoaXMudG90YWxfc3Rha2VkLnZhbHVlLmFzVWludDY0KCkgLSBzdGFrZU5vdyk7CiAgICBzd2FwCiAgICBhcHBfZ2xvYmFsX3B1dAogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjI4NwogICAgLy8gdGhpcy5udW1fc3Rha2Vycy52YWx1ZSA9IG5ldyBVaW50NjQodGhpcy5udW1fc3Rha2Vycy52YWx1ZS5hc1VpbnQ2NCgpIC0gMSk7CiAgICBpbnRjXzAgLy8gMAogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjQ3CiAgICAvLyBudW1fc3Rha2VycyA9IEdsb2JhbFN0YXRlPFVpbnQ2ND4oKTsKICAgIGJ5dGVjIDEwIC8vICJudW1fc3Rha2VycyIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czoyODcKICAgIC8vIHRoaXMubnVtX3N0YWtlcnMudmFsdWUgPSBuZXcgVWludDY0KHRoaXMubnVtX3N0YWtlcnMudmFsdWUuYXNVaW50NjQoKSAtIDEpOwogICAgYXBwX2dsb2JhbF9nZXRfZXgKICAgIGFzc2VydCAvLyBjaGVjayBHbG9iYWxTdGF0ZSBleGlzdHMKICAgIGJ0b2kKICAgIGludGNfMSAvLyAxCiAgICAtCiAgICBpdG9iCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6NDcKICAgIC8vIG51bV9zdGFrZXJzID0gR2xvYmFsU3RhdGU8VWludDY0PigpOwogICAgYnl0ZWMgMTAgLy8gIm51bV9zdGFrZXJzIgogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjI4NwogICAgLy8gdGhpcy5udW1fc3Rha2Vycy52YWx1ZSA9IG5ldyBVaW50NjQodGhpcy5udW1fc3Rha2Vycy52YWx1ZS5hc1VpbnQ2NCgpIC0gMSk7CiAgICBzd2FwCiAgICBhcHBfZ2xvYmFsX3B1dAogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjI4OAogICAgLy8gdGhpcy5zdGFrZXJzKHJlY2VpdmVyKS5kZWxldGUoKTsKICAgIGRpZyA0CiAgICBib3hfZGVsCiAgICBwb3AKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czoyOTAtMjk3CiAgICAvLyBpdHhuCiAgICAvLyAgIC5wYXltZW50KHsKICAgIC8vICAgICByZWNlaXZlcjogcmVjZWl2ZXIsCiAgICAvLyAgICAgYW1vdW50OiBCT1hfRkVFIC0gMjAwMCwKICAgIC8vICAgICBzZW5kZXI6IEdsb2JhbC5jdXJyZW50QXBwbGljYXRpb25BZGRyZXNzLAogICAgLy8gICAgIGZlZTogMCwKICAgIC8vICAgfSkKICAgIC8vICAgLnN1Ym1pdCgpOwogICAgaXR4bl9iZWdpbgogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjI5NAogICAgLy8gc2VuZGVyOiBHbG9iYWwuY3VycmVudEFwcGxpY2F0aW9uQWRkcmVzcywKICAgIGdsb2JhbCBDdXJyZW50QXBwbGljYXRpb25BZGRyZXNzCiAgICBpdHhuX2ZpZWxkIFNlbmRlcgogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjI5MwogICAgLy8gYW1vdW50OiBCT1hfRkVFIC0gMjAwMCwKICAgIHB1c2hpbnQgMjA1MDAgLy8gMjA1MDAKICAgIGl0eG5fZmllbGQgQW1vdW50CiAgICBpdHhuX2ZpZWxkIFJlY2VpdmVyCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6MjkwLTI5NgogICAgLy8gaXR4bgogICAgLy8gICAucGF5bWVudCh7CiAgICAvLyAgICAgcmVjZWl2ZXI6IHJlY2VpdmVyLAogICAgLy8gICAgIGFtb3VudDogQk9YX0ZFRSAtIDIwMDAsCiAgICAvLyAgICAgc2VuZGVyOiBHbG9iYWwuY3VycmVudEFwcGxpY2F0aW9uQWRkcmVzcywKICAgIC8vICAgICBmZWU6IDAsCiAgICAvLyAgIH0pCiAgICBpbnRjXzEgLy8gMQogICAgaXR4bl9maWVsZCBUeXBlRW51bQogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjI5NQogICAgLy8gZmVlOiAwLAogICAgaW50Y18wIC8vIDAKICAgIGl0eG5fZmllbGQgRmVlCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6MjkwLTI5NwogICAgLy8gaXR4bgogICAgLy8gICAucGF5bWVudCh7CiAgICAvLyAgICAgcmVjZWl2ZXI6IHJlY2VpdmVyLAogICAgLy8gICAgIGFtb3VudDogQk9YX0ZFRSAtIDIwMDAsCiAgICAvLyAgICAgc2VuZGVyOiBHbG9iYWwuY3VycmVudEFwcGxpY2F0aW9uQWRkcmVzcywKICAgIC8vICAgICBmZWU6IDAsCiAgICAvLyAgIH0pCiAgICAvLyAgIC5zdWJtaXQoKTsKICAgIGl0eG5fc3VibWl0CiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6MjM5CiAgICAvLyBAYWJpbWV0aG9kKHsgYWxsb3dBY3Rpb25zOiAiTm9PcCIgfSkKICAgIGludGNfMSAvLyAxCiAgICByZXR1cm4KCmVtZXJnZW5jeVdpdGhkcmF3QXNzZXRfdGVybmFyeV9mYWxzZUAzOgogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjI1MgogICAgLy8gbGV0IHBlbmRpbmc6IHVpbnQ2NCA9IGFjY3J1ZWQgPiByZWMucmV3YXJkRGVidC5hc1VpbnQ2NCgpID8gYWNjcnVlZCAtIHJlYy5yZXdhcmREZWJ0LmFzVWludDY0KCkgOiAwOwogICAgaW50Y18wIC8vIDAKICAgIGJ1cnkgNgogICAgYiBlbWVyZ2VuY3lXaXRoZHJhd0Fzc2V0X3Rlcm5hcnlfbWVyZ2VANAoKCi8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czo6U3Rha2luZy5zdGFrZVtyb3V0aW5nXSgpIC0+IHZvaWQ6CnN0YWtlOgogICAgcHVzaGJ5dGVzICIiCiAgICBkdXBuIDYKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czozNjIKICAgIC8vIEBhYmltZXRob2QoeyBhbGxvd0FjdGlvbnM6ICJOb09wIiB9KQogICAgdHhuIEdyb3VwSW5kZXgKICAgIHB1c2hpbnQgMiAvLyAyCiAgICAtCiAgICBkdXAKICAgIGd0eG5zIFR5cGVFbnVtCiAgICBpbnRjXzMgLy8gYXhmZXIKICAgID09CiAgICBhc3NlcnQgLy8gdHJhbnNhY3Rpb24gdHlwZSBpcyBheGZlcgogICAgdHhuYSBBcHBsaWNhdGlvbkFyZ3MgMQogICAgZHVwCiAgICBsZW4KICAgIGludGNfMiAvLyA4CiAgICA9PQogICAgYXNzZXJ0IC8vIGludmFsaWQgbnVtYmVyIG9mIGJ5dGVzIGZvciBhcmM0LnVpbnQ2NAogICAgYnRvaQogICAgZHVwCiAgICBjb3ZlciAyCiAgICB0eG4gR3JvdXBJbmRleAogICAgaW50Y18xIC8vIDEKICAgIC0KICAgIGR1cAogICAgZ3R4bnMgVHlwZUVudW0KICAgIGludGNfMSAvLyBwYXkKICAgID09CiAgICBhc3NlcnQgLy8gdHJhbnNhY3Rpb24gdHlwZSBpcyBwYXkKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czozNjQKICAgIC8vIGFzc2VydChxdWFudGl0eSA+IDAsICJJbnZhbGlkIHF1YW50aXR5Iik7CiAgICBkaWcgMQogICAgYXNzZXJ0IC8vIEludmFsaWQgcXVhbnRpdHkKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czozNjUKICAgIC8vIGFzc2VydCh0aGlzLmNvbnRyYWN0X3N0YXRlLnZhbHVlLmFzVWludDY0KCkgPT09IDEsICJQb29sIGlzIGluYWN0aXZlIik7CiAgICBpbnRjXzAgLy8gMAogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjQ5CiAgICAvLyBjb250cmFjdF9zdGF0ZSA9IEdsb2JhbFN0YXRlPFVpbnQ2ND4oKTsgLy8gMCA9IGluYWN0aXZlLCAxID0gYWN0aXZlCiAgICBieXRlYyA4IC8vICJjb250cmFjdF9zdGF0ZSIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czozNjUKICAgIC8vIGFzc2VydCh0aGlzLmNvbnRyYWN0X3N0YXRlLnZhbHVlLmFzVWludDY0KCkgPT09IDEsICJQb29sIGlzIGluYWN0aXZlIik7CiAgICBhcHBfZ2xvYmFsX2dldF9leAogICAgYXNzZXJ0IC8vIGNoZWNrIEdsb2JhbFN0YXRlIGV4aXN0cwogICAgYnRvaQogICAgaW50Y18xIC8vIDEKICAgID09CiAgICBhc3NlcnQgLy8gUG9vbCBpcyBpbmFjdGl2ZQogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjM2NgogICAgLy8gYXNzZXJ0KHRoaXMucmV3YXJkc19leGhhdXN0ZWQudmFsdWUuYXNVaW50NjQoKSA9PT0gMCwgIlJld2FyZHMgZXhoYXVzdGVkIik7CiAgICBpbnRjXzAgLy8gMAogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjQxCiAgICAvLyByZXdhcmRzX2V4aGF1c3RlZCA9IEdsb2JhbFN0YXRlPFVpbnQ2ND4oKTsKICAgIGJ5dGVjIDEyIC8vICJyZXdhcmRzX2V4aGF1c3RlZCIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czozNjYKICAgIC8vIGFzc2VydCh0aGlzLnJld2FyZHNfZXhoYXVzdGVkLnZhbHVlLmFzVWludDY0KCkgPT09IDAsICJSZXdhcmRzIGV4aGF1c3RlZCIpOwogICAgYXBwX2dsb2JhbF9nZXRfZXgKICAgIGFzc2VydCAvLyBjaGVjayBHbG9iYWxTdGF0ZSBleGlzdHMKICAgIGJ0b2kKICAgICEKICAgIGFzc2VydCAvLyBSZXdhcmRzIGV4aGF1c3RlZAogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjM2Ny0zNzIKICAgIC8vIGFzc2VydE1hdGNoKHN0YWtlVHhuLCB7CiAgICAvLyAgIHNlbmRlcjogb3AuVHhuLnNlbmRlciwKICAgIC8vICAgYXNzZXRSZWNlaXZlcjogR2xvYmFsLmN1cnJlbnRBcHBsaWNhdGlvbkFkZHJlc3MsCiAgICAvLyAgIHhmZXJBc3NldDogQXNzZXQodGhpcy5zdGFrZWRfYXNzZXRfaWQudmFsdWUuYXNVaW50NjQoKSksCiAgICAvLyAgIGFzc2V0QW1vdW50OiBxdWFudGl0eSwKICAgIC8vIH0pOwogICAgZGlnIDIKICAgIGd0eG5zIFNlbmRlcgogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjM2OAogICAgLy8gc2VuZGVyOiBvcC5UeG4uc2VuZGVyLAogICAgdHhuIFNlbmRlcgogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjM2Ny0zNzIKICAgIC8vIGFzc2VydE1hdGNoKHN0YWtlVHhuLCB7CiAgICAvLyAgIHNlbmRlcjogb3AuVHhuLnNlbmRlciwKICAgIC8vICAgYXNzZXRSZWNlaXZlcjogR2xvYmFsLmN1cnJlbnRBcHBsaWNhdGlvbkFkZHJlc3MsCiAgICAvLyAgIHhmZXJBc3NldDogQXNzZXQodGhpcy5zdGFrZWRfYXNzZXRfaWQudmFsdWUuYXNVaW50NjQoKSksCiAgICAvLyAgIGFzc2V0QW1vdW50OiBxdWFudGl0eSwKICAgIC8vIH0pOwogICAgPT0KICAgIGRpZyAzCiAgICBndHhucyBBc3NldFJlY2VpdmVyCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6MzY5CiAgICAvLyBhc3NldFJlY2VpdmVyOiBHbG9iYWwuY3VycmVudEFwcGxpY2F0aW9uQWRkcmVzcywKICAgIGdsb2JhbCBDdXJyZW50QXBwbGljYXRpb25BZGRyZXNzCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6MzY3LTM3MgogICAgLy8gYXNzZXJ0TWF0Y2goc3Rha2VUeG4sIHsKICAgIC8vICAgc2VuZGVyOiBvcC5UeG4uc2VuZGVyLAogICAgLy8gICBhc3NldFJlY2VpdmVyOiBHbG9iYWwuY3VycmVudEFwcGxpY2F0aW9uQWRkcmVzcywKICAgIC8vICAgeGZlckFzc2V0OiBBc3NldCh0aGlzLnN0YWtlZF9hc3NldF9pZC52YWx1ZS5hc1VpbnQ2NCgpKSwKICAgIC8vICAgYXNzZXRBbW91bnQ6IHF1YW50aXR5LAogICAgLy8gfSk7CiAgICA9PQogICAgJiYKICAgIGRpZyAzCiAgICBndHhucyBYZmVyQXNzZXQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czozNzAKICAgIC8vIHhmZXJBc3NldDogQXNzZXQodGhpcy5zdGFrZWRfYXNzZXRfaWQudmFsdWUuYXNVaW50NjQoKSksCiAgICBpbnRjXzAgLy8gMAogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjI4CiAgICAvLyBzdGFrZWRfYXNzZXRfaWQgPSBHbG9iYWxTdGF0ZTxVaW50NjQ+KCk7CiAgICBieXRlYyAxNiAvLyAic3Rha2VkX2Fzc2V0X2lkIgogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjM3MAogICAgLy8geGZlckFzc2V0OiBBc3NldCh0aGlzLnN0YWtlZF9hc3NldF9pZC52YWx1ZS5hc1VpbnQ2NCgpKSwKICAgIGFwcF9nbG9iYWxfZ2V0X2V4CiAgICBhc3NlcnQgLy8gY2hlY2sgR2xvYmFsU3RhdGUgZXhpc3RzCiAgICBidG9pCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6MzY3LTM3MgogICAgLy8gYXNzZXJ0TWF0Y2goc3Rha2VUeG4sIHsKICAgIC8vICAgc2VuZGVyOiBvcC5UeG4uc2VuZGVyLAogICAgLy8gICBhc3NldFJlY2VpdmVyOiBHbG9iYWwuY3VycmVudEFwcGxpY2F0aW9uQWRkcmVzcywKICAgIC8vICAgeGZlckFzc2V0OiBBc3NldCh0aGlzLnN0YWtlZF9hc3NldF9pZC52YWx1ZS5hc1VpbnQ2NCgpKSwKICAgIC8vICAgYXNzZXRBbW91bnQ6IHF1YW50aXR5LAogICAgLy8gfSk7CiAgICA9PQogICAgJiYKICAgIHVuY292ZXIgMwogICAgZ3R4bnMgQXNzZXRBbW91bnQKICAgIHVuY292ZXIgMwogICAgPT0KICAgICYmCiAgICBhc3NlcnQgLy8gYXNzZXJ0IHRhcmdldCBpcyBtYXRjaCBmb3IgY29uZGl0aW9ucwogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjM3My0zNzcKICAgIC8vIGFzc2VydE1hdGNoKG1iclR4biwgewogICAgLy8gICBzZW5kZXI6IG9wLlR4bi5zZW5kZXIsCiAgICAvLyAgIHJlY2VpdmVyOiBHbG9iYWwuY3VycmVudEFwcGxpY2F0aW9uQWRkcmVzcywKICAgIC8vICAgYW1vdW50OiBCT1hfRkVFLAogICAgLy8gfSk7CiAgICBkdXAKICAgIGd0eG5zIFNlbmRlcgogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjM3NAogICAgLy8gc2VuZGVyOiBvcC5UeG4uc2VuZGVyLAogICAgdHhuIFNlbmRlcgogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjM3My0zNzcKICAgIC8vIGFzc2VydE1hdGNoKG1iclR4biwgewogICAgLy8gICBzZW5kZXI6IG9wLlR4bi5zZW5kZXIsCiAgICAvLyAgIHJlY2VpdmVyOiBHbG9iYWwuY3VycmVudEFwcGxpY2F0aW9uQWRkcmVzcywKICAgIC8vICAgYW1vdW50OiBCT1hfRkVFLAogICAgLy8gfSk7CiAgICA9PQogICAgZGlnIDEKICAgIGd0eG5zIFJlY2VpdmVyCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6Mzc1CiAgICAvLyByZWNlaXZlcjogR2xvYmFsLmN1cnJlbnRBcHBsaWNhdGlvbkFkZHJlc3MsCiAgICBnbG9iYWwgQ3VycmVudEFwcGxpY2F0aW9uQWRkcmVzcwogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjM3My0zNzcKICAgIC8vIGFzc2VydE1hdGNoKG1iclR4biwgewogICAgLy8gICBzZW5kZXI6IG9wLlR4bi5zZW5kZXIsCiAgICAvLyAgIHJlY2VpdmVyOiBHbG9iYWwuY3VycmVudEFwcGxpY2F0aW9uQWRkcmVzcywKICAgIC8vICAgYW1vdW50OiBCT1hfRkVFLAogICAgLy8gfSk7CiAgICA9PQogICAgJiYKICAgIHN3YXAKICAgIGd0eG5zIEFtb3VudAogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjM3NgogICAgLy8gYW1vdW50OiBCT1hfRkVFLAogICAgaW50YyA2IC8vIDIyNTAwCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6MzczLTM3NwogICAgLy8gYXNzZXJ0TWF0Y2gobWJyVHhuLCB7CiAgICAvLyAgIHNlbmRlcjogb3AuVHhuLnNlbmRlciwKICAgIC8vICAgcmVjZWl2ZXI6IEdsb2JhbC5jdXJyZW50QXBwbGljYXRpb25BZGRyZXNzLAogICAgLy8gICBhbW91bnQ6IEJPWF9GRUUsCiAgICAvLyB9KTsKICAgID09CiAgICAmJgogICAgYXNzZXJ0IC8vIGFzc2VydCB0YXJnZXQgaXMgbWF0Y2ggZm9yIGNvbmRpdGlvbnMKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czoyNgogICAgLy8gc3Rha2VycyA9IEJveE1hcDxBY2NvdW50LCBTdGFrZUluZm9SZWNvcmQ+KHsga2V5UHJlZml4OiAic3QiIH0pOwogICAgYnl0ZWMgNCAvLyAic3QiCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6Mzc4CiAgICAvLyBjb25zdCBleGlzdHMgPSB0aGlzLnN0YWtlcnMob3AuVHhuLnNlbmRlcikuZXhpc3RzOwogICAgdHhuIFNlbmRlcgogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjI2CiAgICAvLyBzdGFrZXJzID0gQm94TWFwPEFjY291bnQsIFN0YWtlSW5mb1JlY29yZD4oeyBrZXlQcmVmaXg6ICJzdCIgfSk7CiAgICBjb25jYXQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czozNzgKICAgIC8vIGNvbnN0IGV4aXN0cyA9IHRoaXMuc3Rha2VycyhvcC5UeG4uc2VuZGVyKS5leGlzdHM7CiAgICBib3hfbGVuCiAgICBkdXAKICAgIHVuY292ZXIgMgogICAgcG9wCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6Mzc5CiAgICAvLyBpZiAoZXhpc3RzKSB7CiAgICBieiBzdGFrZV9hZnRlcl9pZl9lbHNlQDQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czozODEtMzg4CiAgICAvLyBpdHhuCiAgICAvLyAgIC5wYXltZW50KHsKICAgIC8vICAgICByZWNlaXZlcjogb3AuVHhuLnNlbmRlciwKICAgIC8vICAgICBhbW91bnQ6IEJPWF9GRUUsCiAgICAvLyAgICAgc2VuZGVyOiBHbG9iYWwuY3VycmVudEFwcGxpY2F0aW9uQWRkcmVzcywKICAgIC8vICAgICBmZWU6IDAsCiAgICAvLyAgIH0pCiAgICAvLyAgIC5zdWJtaXQoKTsKICAgIGl0eG5fYmVnaW4KICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czozODMKICAgIC8vIHJlY2VpdmVyOiBvcC5UeG4uc2VuZGVyLAogICAgdHhuIFNlbmRlcgogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjM4NQogICAgLy8gc2VuZGVyOiBHbG9iYWwuY3VycmVudEFwcGxpY2F0aW9uQWRkcmVzcywKICAgIGdsb2JhbCBDdXJyZW50QXBwbGljYXRpb25BZGRyZXNzCiAgICBpdHhuX2ZpZWxkIFNlbmRlcgogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjM4NAogICAgLy8gYW1vdW50OiBCT1hfRkVFLAogICAgaW50YyA2IC8vIDIyNTAwCiAgICBpdHhuX2ZpZWxkIEFtb3VudAogICAgaXR4bl9maWVsZCBSZWNlaXZlcgogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjM4MS0zODcKICAgIC8vIGl0eG4KICAgIC8vICAgLnBheW1lbnQoewogICAgLy8gICAgIHJlY2VpdmVyOiBvcC5UeG4uc2VuZGVyLAogICAgLy8gICAgIGFtb3VudDogQk9YX0ZFRSwKICAgIC8vICAgICBzZW5kZXI6IEdsb2JhbC5jdXJyZW50QXBwbGljYXRpb25BZGRyZXNzLAogICAgLy8gICAgIGZlZTogMCwKICAgIC8vICAgfSkKICAgIGludGNfMSAvLyAxCiAgICBpdHhuX2ZpZWxkIFR5cGVFbnVtCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6Mzg2CiAgICAvLyBmZWU6IDAsCiAgICBpbnRjXzAgLy8gMAogICAgaXR4bl9maWVsZCBGZWUKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czozODEtMzg4CiAgICAvLyBpdHhuCiAgICAvLyAgIC5wYXltZW50KHsKICAgIC8vICAgICByZWNlaXZlcjogb3AuVHhuLnNlbmRlciwKICAgIC8vICAgICBhbW91bnQ6IEJPWF9GRUUsCiAgICAvLyAgICAgc2VuZGVyOiBHbG9iYWwuY3VycmVudEFwcGxpY2F0aW9uQWRkcmVzcywKICAgIC8vICAgICBmZWU6IDAsCiAgICAvLyAgIH0pCiAgICAvLyAgIC5zdWJtaXQoKTsKICAgIGl0eG5fc3VibWl0CgpzdGFrZV9hZnRlcl9pZl9lbHNlQDQ6CiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6MzkxCiAgICAvLyB0aGlzLnVwZGF0ZVBvb2woKTsKICAgIGNhbGxzdWIgdXBkYXRlUG9vbAogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjM5MwogICAgLy8gY29uc3QgcHJldlN0YWtlOiB1aW50NjQgPSBleGlzdHMgPyB0aGlzLnN0YWtlcnMob3AuVHhuLnNlbmRlcikudmFsdWUuc3Rha2UuYXNVaW50NjQoKSA6IDA7CiAgICBkdXAKICAgIGJ6IHN0YWtlX3Rlcm5hcnlfZmFsc2VANgogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjI2CiAgICAvLyBzdGFrZXJzID0gQm94TWFwPEFjY291bnQsIFN0YWtlSW5mb1JlY29yZD4oeyBrZXlQcmVmaXg6ICJzdCIgfSk7CiAgICBieXRlYyA0IC8vICJzdCIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czozOTMKICAgIC8vIGNvbnN0IHByZXZTdGFrZTogdWludDY0ID0gZXhpc3RzID8gdGhpcy5zdGFrZXJzKG9wLlR4bi5zZW5kZXIpLnZhbHVlLnN0YWtlLmFzVWludDY0KCkgOiAwOwogICAgdHhuIFNlbmRlcgogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjI2CiAgICAvLyBzdGFrZXJzID0gQm94TWFwPEFjY291bnQsIFN0YWtlSW5mb1JlY29yZD4oeyBrZXlQcmVmaXg6ICJzdCIgfSk7CiAgICBjb25jYXQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czozOTMKICAgIC8vIGNvbnN0IHByZXZTdGFrZTogdWludDY0ID0gZXhpc3RzID8gdGhpcy5zdGFrZXJzKG9wLlR4bi5zZW5kZXIpLnZhbHVlLnN0YWtlLmFzVWludDY0KCkgOiAwOwogICAgYm94X2dldAogICAgYXNzZXJ0IC8vIEJveCBtdXN0IGhhdmUgdmFsdWUKICAgIGludGNfMCAvLyAwCiAgICBleHRyYWN0X3VpbnQ2NAogICAgYnVyeSAzCgpzdGFrZV90ZXJuYXJ5X21lcmdlQDc6CiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6Mzk0CiAgICAvLyBjb25zdCBwcmV2RGVidDogdWludDY0ID0gZXhpc3RzID8gdGhpcy5zdGFrZXJzKG9wLlR4bi5zZW5kZXIpLnZhbHVlLnJld2FyZERlYnQuYXNVaW50NjQoKSA6IDA7CiAgICBkdXAKICAgIGJ6IHN0YWtlX3Rlcm5hcnlfZmFsc2VAOQogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjI2CiAgICAvLyBzdGFrZXJzID0gQm94TWFwPEFjY291bnQsIFN0YWtlSW5mb1JlY29yZD4oeyBrZXlQcmVmaXg6ICJzdCIgfSk7CiAgICBieXRlYyA0IC8vICJzdCIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czozOTQKICAgIC8vIGNvbnN0IHByZXZEZWJ0OiB1aW50NjQgPSBleGlzdHMgPyB0aGlzLnN0YWtlcnMob3AuVHhuLnNlbmRlcikudmFsdWUucmV3YXJkRGVidC5hc1VpbnQ2NCgpIDogMDsKICAgIHR4biBTZW5kZXIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czoyNgogICAgLy8gc3Rha2VycyA9IEJveE1hcDxBY2NvdW50LCBTdGFrZUluZm9SZWNvcmQ+KHsga2V5UHJlZml4OiAic3QiIH0pOwogICAgY29uY2F0CiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6Mzk0CiAgICAvLyBjb25zdCBwcmV2RGVidDogdWludDY0ID0gZXhpc3RzID8gdGhpcy5zdGFrZXJzKG9wLlR4bi5zZW5kZXIpLnZhbHVlLnJld2FyZERlYnQuYXNVaW50NjQoKSA6IDA7CiAgICBib3hfZ2V0CiAgICBhc3NlcnQgLy8gQm94IG11c3QgaGF2ZSB2YWx1ZQogICAgaW50Y18yIC8vIDgKICAgIGV4dHJhY3RfdWludDY0CiAgICBidXJ5IDQKCnN0YWtlX3Rlcm5hcnlfbWVyZ2VAMTA6CiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6Mzk1CiAgICAvLyBjb25zdCBhY2NydWVkID0gbXVsRGl2VyhwcmV2U3Rha2UsIHRoaXMucmV3YXJkX3Blcl90b2tlbi52YWx1ZS5hc1VpbnQ2NCgpLCBQUkVDSVNJT04pOwogICAgaW50Y18wIC8vIDAKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czozMgogICAgLy8gcmV3YXJkX3Blcl90b2tlbiA9IEdsb2JhbFN0YXRlPFVpbnQ2ND4oKTsKICAgIGJ5dGVjIDkgLy8gInJld2FyZF9wZXJfdG9rZW4iCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6Mzk1CiAgICAvLyBjb25zdCBhY2NydWVkID0gbXVsRGl2VyhwcmV2U3Rha2UsIHRoaXMucmV3YXJkX3Blcl90b2tlbi52YWx1ZS5hc1VpbnQ2NCgpLCBQUkVDSVNJT04pOwogICAgYXBwX2dsb2JhbF9nZXRfZXgKICAgIGFzc2VydCAvLyBjaGVjayBHbG9iYWxTdGF0ZSBleGlzdHMKICAgIGJ0b2kKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL2NvbmZpZy5hbGdvLnRzOjI4CiAgICAvLyBjb25zdCBbaGksIGxvXSA9IG11bHcoYSwgYik7CiAgICBkaWcgMwogICAgbXVsdwogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjM5NQogICAgLy8gY29uc3QgYWNjcnVlZCA9IG11bERpdlcocHJldlN0YWtlLCB0aGlzLnJld2FyZF9wZXJfdG9rZW4udmFsdWUuYXNVaW50NjQoKSwgUFJFQ0lTSU9OKTsKICAgIGludGMgNCAvLyAxMDAwMDAwMDAwMDAwMDAwCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9jb25maWcuYWxnby50czoyOQogICAgLy8gcmV0dXJuIGRpdncoaGksIGxvLCBjKTsKICAgIGRpdncKICAgIGR1cAogICAgYnVyeSAxMAogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjM5NgogICAgLy8gbGV0IHBlbmRpbmc6IHVpbnQ2NCA9IGFjY3J1ZWQgPiBwcmV2RGVidCA/IGFjY3J1ZWQgLSBwcmV2RGVidCA6IDA7CiAgICBkaWcgNAogICAgPgogICAgYnogc3Rha2VfdGVybmFyeV9mYWxzZUAxMgogICAgZGlnIDgKICAgIGRpZyA0CiAgICAtCiAgICBidXJ5IDUKCnN0YWtlX3Rlcm5hcnlfbWVyZ2VAMTM6CiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6Mzk3CiAgICAvLyBjb25zdCBwYXlhYmxlOiB1aW50NjQgPSB0aGlzLmFjY3J1ZWRfcmV3YXJkcy52YWx1ZS5hc1VpbnQ2NCgpIC0gdGhpcy5yZXdhcmRzX3BhaWQudmFsdWUuYXNVaW50NjQoKTsKICAgIGludGNfMCAvLyAwCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6MzkKICAgIC8vIGFjY3J1ZWRfcmV3YXJkcyA9IEdsb2JhbFN0YXRlPFVpbnQ2ND4oKTsKICAgIGJ5dGVjIDcgLy8gImFjY3J1ZWRfcmV3YXJkcyIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czozOTcKICAgIC8vIGNvbnN0IHBheWFibGU6IHVpbnQ2NCA9IHRoaXMuYWNjcnVlZF9yZXdhcmRzLnZhbHVlLmFzVWludDY0KCkgLSB0aGlzLnJld2FyZHNfcGFpZC52YWx1ZS5hc1VpbnQ2NCgpOwogICAgYXBwX2dsb2JhbF9nZXRfZXgKICAgIGFzc2VydCAvLyBjaGVjayBHbG9iYWxTdGF0ZSBleGlzdHMKICAgIGJ0b2kKICAgIGludGNfMCAvLyAwCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6NDIKICAgIC8vIHJld2FyZHNfcGFpZCA9IEdsb2JhbFN0YXRlPFVpbnQ2ND4oKTsKICAgIGJ5dGVjXzEgLy8gInJld2FyZHNfcGFpZCIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czozOTcKICAgIC8vIGNvbnN0IHBheWFibGU6IHVpbnQ2NCA9IHRoaXMuYWNjcnVlZF9yZXdhcmRzLnZhbHVlLmFzVWludDY0KCkgLSB0aGlzLnJld2FyZHNfcGFpZC52YWx1ZS5hc1VpbnQ2NCgpOwogICAgYXBwX2dsb2JhbF9nZXRfZXgKICAgIGFzc2VydCAvLyBjaGVjayBHbG9iYWxTdGF0ZSBleGlzdHMKICAgIGJ0b2kKICAgIC0KICAgIGR1cAogICAgYnVyeSA3CiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6Mzk4CiAgICAvLyBpZiAocGVuZGluZyA+IHBheWFibGUpIHsKICAgIGRpZyA1CiAgICA8CiAgICBieiBzdGFrZV9hZnRlcl9pZl9lbHNlQDE1CiAgICBkaWcgNQogICAgYnVyeSA1CgpzdGFrZV9hZnRlcl9pZl9lbHNlQDE1OgogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjQwMgogICAgLy8gaWYgKHBlbmRpbmcgPiAwKSB7CiAgICBkaWcgNAogICAgYnogc3Rha2VfYWZ0ZXJfaWZfZWxzZUAyMAogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjQwMwogICAgLy8gY29uc3QgZmVlOiB1aW50NjQgPSBtdWxEaXZXKHBlbmRpbmcsIHRoaXMucGxhdGZvcm1fZmVlX2Jwcy52YWx1ZS5hc1VpbnQ2NCgpLCAxMF8wMDApOwogICAgaW50Y18wIC8vIDAKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czo1MQogICAgLy8gcGxhdGZvcm1fZmVlX2JwcyA9IEdsb2JhbFN0YXRlPFVpbnQ2ND4oKTsKICAgIGJ5dGVjIDE1IC8vICJwbGF0Zm9ybV9mZWVfYnBzIgogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjQwMwogICAgLy8gY29uc3QgZmVlOiB1aW50NjQgPSBtdWxEaXZXKHBlbmRpbmcsIHRoaXMucGxhdGZvcm1fZmVlX2Jwcy52YWx1ZS5hc1VpbnQ2NCgpLCAxMF8wMDApOwogICAgYXBwX2dsb2JhbF9nZXRfZXgKICAgIGFzc2VydCAvLyBjaGVjayBHbG9iYWxTdGF0ZSBleGlzdHMKICAgIGJ0b2kKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL2NvbmZpZy5hbGdvLnRzOjI4CiAgICAvLyBjb25zdCBbaGksIGxvXSA9IG11bHcoYSwgYik7CiAgICBkaWcgNQogICAgZHVwCiAgICB1bmNvdmVyIDIKICAgIG11bHcKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czo0MDMKICAgIC8vIGNvbnN0IGZlZTogdWludDY0ID0gbXVsRGl2VyhwZW5kaW5nLCB0aGlzLnBsYXRmb3JtX2ZlZV9icHMudmFsdWUuYXNVaW50NjQoKSwgMTBfMDAwKTsKICAgIGludGMgNSAvLyAxMDAwMAogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvY29uZmlnLmFsZ28udHM6MjkKICAgIC8vIHJldHVybiBkaXZ3KGhpLCBsbywgYyk7CiAgICBkaXZ3CiAgICBkdXAKICAgIGJ1cnkgMTAKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czo0MDQKICAgIC8vIGNvbnN0IG5ldDogdWludDY0ID0gcGVuZGluZyAtIGZlZTsKICAgIHN3YXAKICAgIGRpZyAxCiAgICAtCiAgICBidXJ5IDgKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czo0MDUKICAgIC8vIGlmIChmZWUgPiAwKSB7CiAgICBieiBzdGFrZV9hZnRlcl9pZl9lbHNlQDE4CiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6NDA2CiAgICAvLyB0aGlzLnBsYXRmb3JtX2ZlZXNfYWNjcnVlZC52YWx1ZSA9IG5ldyBVaW50NjQodGhpcy5wbGF0Zm9ybV9mZWVzX2FjY3J1ZWQudmFsdWUuYXNVaW50NjQoKSArIGZlZSk7CiAgICBpbnRjXzAgLy8gMAogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjUyCiAgICAvLyBwbGF0Zm9ybV9mZWVzX2FjY3J1ZWQgPSBHbG9iYWxTdGF0ZTxVaW50NjQ+KCk7CiAgICBieXRlY18yIC8vICJwbGF0Zm9ybV9mZWVzX2FjY3J1ZWQiCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6NDA2CiAgICAvLyB0aGlzLnBsYXRmb3JtX2ZlZXNfYWNjcnVlZC52YWx1ZSA9IG5ldyBVaW50NjQodGhpcy5wbGF0Zm9ybV9mZWVzX2FjY3J1ZWQudmFsdWUuYXNVaW50NjQoKSArIGZlZSk7CiAgICBhcHBfZ2xvYmFsX2dldF9leAogICAgYXNzZXJ0IC8vIGNoZWNrIEdsb2JhbFN0YXRlIGV4aXN0cwogICAgYnRvaQogICAgZGlnIDgKICAgICsKICAgIGl0b2IKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czo1MgogICAgLy8gcGxhdGZvcm1fZmVlc19hY2NydWVkID0gR2xvYmFsU3RhdGU8VWludDY0PigpOwogICAgYnl0ZWNfMiAvLyAicGxhdGZvcm1fZmVlc19hY2NydWVkIgogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjQwNgogICAgLy8gdGhpcy5wbGF0Zm9ybV9mZWVzX2FjY3J1ZWQudmFsdWUgPSBuZXcgVWludDY0KHRoaXMucGxhdGZvcm1fZmVlc19hY2NydWVkLnZhbHVlLmFzVWludDY0KCkgKyBmZWUpOwogICAgc3dhcAogICAgYXBwX2dsb2JhbF9wdXQKCnN0YWtlX2FmdGVyX2lmX2Vsc2VAMTg6CiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6NDA4CiAgICAvLyB0aGlzLnJld2FyZHNfcGFpZC52YWx1ZSA9IG5ldyBVaW50NjQodGhpcy5yZXdhcmRzX3BhaWQudmFsdWUuYXNVaW50NjQoKSArIHBlbmRpbmcpOwogICAgaW50Y18wIC8vIDAKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czo0MgogICAgLy8gcmV3YXJkc19wYWlkID0gR2xvYmFsU3RhdGU8VWludDY0PigpOwogICAgYnl0ZWNfMSAvLyAicmV3YXJkc19wYWlkIgogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjQwOAogICAgLy8gdGhpcy5yZXdhcmRzX3BhaWQudmFsdWUgPSBuZXcgVWludDY0KHRoaXMucmV3YXJkc19wYWlkLnZhbHVlLmFzVWludDY0KCkgKyBwZW5kaW5nKTsKICAgIGFwcF9nbG9iYWxfZ2V0X2V4CiAgICBhc3NlcnQgLy8gY2hlY2sgR2xvYmFsU3RhdGUgZXhpc3RzCiAgICBidG9pCiAgICBkaWcgNQogICAgKwogICAgaXRvYgogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjQyCiAgICAvLyByZXdhcmRzX3BhaWQgPSBHbG9iYWxTdGF0ZTxVaW50NjQ+KCk7CiAgICBieXRlY18xIC8vICJyZXdhcmRzX3BhaWQiCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6NDA4CiAgICAvLyB0aGlzLnJld2FyZHNfcGFpZC52YWx1ZSA9IG5ldyBVaW50NjQodGhpcy5yZXdhcmRzX3BhaWQudmFsdWUuYXNVaW50NjQoKSArIHBlbmRpbmcpOwogICAgc3dhcAogICAgYXBwX2dsb2JhbF9wdXQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czo0MDktNDE3CiAgICAvLyBpdHhuCiAgICAvLyAgIC5hc3NldFRyYW5zZmVyKHsKICAgIC8vICAgICB4ZmVyQXNzZXQ6IHRoaXMucmV3YXJkX2Fzc2V0X2lkLnZhbHVlLmFzVWludDY0KCksCiAgICAvLyAgICAgYXNzZXRSZWNlaXZlcjogb3AuVHhuLnNlbmRlciwKICAgIC8vICAgICBzZW5kZXI6IEdsb2JhbC5jdXJyZW50QXBwbGljYXRpb25BZGRyZXNzLAogICAgLy8gICAgIGFzc2V0QW1vdW50OiBuZXQsCiAgICAvLyAgICAgZmVlOiAwLAogICAgLy8gICB9KQogICAgLy8gICAuc3VibWl0KCk7CiAgICBpdHhuX2JlZ2luCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6NDExCiAgICAvLyB4ZmVyQXNzZXQ6IHRoaXMucmV3YXJkX2Fzc2V0X2lkLnZhbHVlLmFzVWludDY0KCksCiAgICBpbnRjXzAgLy8gMAogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjI5CiAgICAvLyByZXdhcmRfYXNzZXRfaWQgPSBHbG9iYWxTdGF0ZTxVaW50NjQ+KCk7CiAgICBieXRlYyA2IC8vICJyZXdhcmRfYXNzZXRfaWQiCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6NDExCiAgICAvLyB4ZmVyQXNzZXQ6IHRoaXMucmV3YXJkX2Fzc2V0X2lkLnZhbHVlLmFzVWludDY0KCksCiAgICBhcHBfZ2xvYmFsX2dldF9leAogICAgYXNzZXJ0IC8vIGNoZWNrIEdsb2JhbFN0YXRlIGV4aXN0cwogICAgYnRvaQogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjQxMgogICAgLy8gYXNzZXRSZWNlaXZlcjogb3AuVHhuLnNlbmRlciwKICAgIHR4biBTZW5kZXIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czo0MTMKICAgIC8vIHNlbmRlcjogR2xvYmFsLmN1cnJlbnRBcHBsaWNhdGlvbkFkZHJlc3MsCiAgICBnbG9iYWwgQ3VycmVudEFwcGxpY2F0aW9uQWRkcmVzcwogICAgZGlnIDkKICAgIGl0eG5fZmllbGQgQXNzZXRBbW91bnQKICAgIGl0eG5fZmllbGQgU2VuZGVyCiAgICBpdHhuX2ZpZWxkIEFzc2V0UmVjZWl2ZXIKICAgIGl0eG5fZmllbGQgWGZlckFzc2V0CiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6NDA5LTQxNgogICAgLy8gaXR4bgogICAgLy8gICAuYXNzZXRUcmFuc2Zlcih7CiAgICAvLyAgICAgeGZlckFzc2V0OiB0aGlzLnJld2FyZF9hc3NldF9pZC52YWx1ZS5hc1VpbnQ2NCgpLAogICAgLy8gICAgIGFzc2V0UmVjZWl2ZXI6IG9wLlR4bi5zZW5kZXIsCiAgICAvLyAgICAgc2VuZGVyOiBHbG9iYWwuY3VycmVudEFwcGxpY2F0aW9uQWRkcmVzcywKICAgIC8vICAgICBhc3NldEFtb3VudDogbmV0LAogICAgLy8gICAgIGZlZTogMCwKICAgIC8vICAgfSkKICAgIGludGNfMyAvLyA0CiAgICBpdHhuX2ZpZWxkIFR5cGVFbnVtCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6NDE1CiAgICAvLyBmZWU6IDAsCiAgICBpbnRjXzAgLy8gMAogICAgaXR4bl9maWVsZCBGZWUKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czo0MDktNDE3CiAgICAvLyBpdHhuCiAgICAvLyAgIC5hc3NldFRyYW5zZmVyKHsKICAgIC8vICAgICB4ZmVyQXNzZXQ6IHRoaXMucmV3YXJkX2Fzc2V0X2lkLnZhbHVlLmFzVWludDY0KCksCiAgICAvLyAgICAgYXNzZXRSZWNlaXZlcjogb3AuVHhuLnNlbmRlciwKICAgIC8vICAgICBzZW5kZXI6IEdsb2JhbC5jdXJyZW50QXBwbGljYXRpb25BZGRyZXNzLAogICAgLy8gICAgIGFzc2V0QW1vdW50OiBuZXQsCiAgICAvLyAgICAgZmVlOiAwLAogICAgLy8gICB9KQogICAgLy8gICAuc3VibWl0KCk7CiAgICBpdHhuX3N1Ym1pdAoKc3Rha2VfYWZ0ZXJfaWZfZWxzZUAyMDoKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czo0MjAKICAgIC8vIGNvbnN0IG5ld1N0YWtlOiB1aW50NjQgPSBwcmV2U3Rha2UgKyBxdWFudGl0eTsKICAgIGRpZyAyCiAgICBkaWcgMgogICAgZHVwCiAgICBjb3ZlciAyCiAgICArCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6NDIxCiAgICAvLyB0aGlzLnRvdGFsX3N0YWtlZC52YWx1ZSA9IG5ldyBVaW50NjQodGhpcy50b3RhbF9zdGFrZWQudmFsdWUuYXNVaW50NjQoKSArIHF1YW50aXR5KTsKICAgIGludGNfMCAvLyAwCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6MzEKICAgIC8vIHRvdGFsX3N0YWtlZCA9IEdsb2JhbFN0YXRlPFVpbnQ2ND4oKTsKICAgIGJ5dGVjXzMgLy8gInRvdGFsX3N0YWtlZCIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czo0MjEKICAgIC8vIHRoaXMudG90YWxfc3Rha2VkLnZhbHVlID0gbmV3IFVpbnQ2NCh0aGlzLnRvdGFsX3N0YWtlZC52YWx1ZS5hc1VpbnQ2NCgpICsgcXVhbnRpdHkpOwogICAgYXBwX2dsb2JhbF9nZXRfZXgKICAgIGFzc2VydCAvLyBjaGVjayBHbG9iYWxTdGF0ZSBleGlzdHMKICAgIGJ0b2kKICAgIHVuY292ZXIgMgogICAgKwogICAgaXRvYgogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjMxCiAgICAvLyB0b3RhbF9zdGFrZWQgPSBHbG9iYWxTdGF0ZTxVaW50NjQ+KCk7CiAgICBieXRlY18zIC8vICJ0b3RhbF9zdGFrZWQiCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6NDIxCiAgICAvLyB0aGlzLnRvdGFsX3N0YWtlZC52YWx1ZSA9IG5ldyBVaW50NjQodGhpcy50b3RhbF9zdGFrZWQudmFsdWUuYXNVaW50NjQoKSArIHF1YW50aXR5KTsKICAgIHN3YXAKICAgIGFwcF9nbG9iYWxfcHV0CiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6NDIzCiAgICAvLyBjb25zdCBuZXdEZWJ0ID0gbXVsRGl2VyhuZXdTdGFrZSwgdGhpcy5yZXdhcmRfcGVyX3Rva2VuLnZhbHVlLmFzVWludDY0KCksIFBSRUNJU0lPTik7CiAgICBpbnRjXzAgLy8gMAogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjMyCiAgICAvLyByZXdhcmRfcGVyX3Rva2VuID0gR2xvYmFsU3RhdGU8VWludDY0PigpOwogICAgYnl0ZWMgOSAvLyAicmV3YXJkX3Blcl90b2tlbiIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czo0MjMKICAgIC8vIGNvbnN0IG5ld0RlYnQgPSBtdWxEaXZXKG5ld1N0YWtlLCB0aGlzLnJld2FyZF9wZXJfdG9rZW4udmFsdWUuYXNVaW50NjQoKSwgUFJFQ0lTSU9OKTsKICAgIGFwcF9nbG9iYWxfZ2V0X2V4CiAgICBhc3NlcnQgLy8gY2hlY2sgR2xvYmFsU3RhdGUgZXhpc3RzCiAgICBidG9pCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9jb25maWcuYWxnby50czoyOAogICAgLy8gY29uc3QgW2hpLCBsb10gPSBtdWx3KGEsIGIpOwogICAgZGlnIDEKICAgIG11bHcKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czo0MjMKICAgIC8vIGNvbnN0IG5ld0RlYnQgPSBtdWxEaXZXKG5ld1N0YWtlLCB0aGlzLnJld2FyZF9wZXJfdG9rZW4udmFsdWUuYXNVaW50NjQoKSwgUFJFQ0lTSU9OKTsKICAgIGludGMgNCAvLyAxMDAwMDAwMDAwMDAwMDAwCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9jb25maWcuYWxnby50czoyOQogICAgLy8gcmV0dXJuIGRpdncoaGksIGxvLCBjKTsKICAgIGRpdncKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czo0MjUKICAgIC8vIHN0YWtlOiBuZXcgVWludDY0KG5ld1N0YWtlKSwKICAgIHN3YXAKICAgIGl0b2IKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czo0MjYKICAgIC8vIHJld2FyZERlYnQ6IG5ldyBVaW50NjQobmV3RGVidCksCiAgICBzd2FwCiAgICBpdG9iCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6NDI0LTQyNwogICAgLy8gdGhpcy5zdGFrZXJzKG9wLlR4bi5zZW5kZXIpLnZhbHVlID0gbmV3IFN0YWtlSW5mb1JlY29yZCh7CiAgICAvLyAgIHN0YWtlOiBuZXcgVWludDY0KG5ld1N0YWtlKSwKICAgIC8vICAgcmV3YXJkRGVidDogbmV3IFVpbnQ2NChuZXdEZWJ0KSwKICAgIC8vIH0pOwogICAgY29uY2F0CiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6MjYKICAgIC8vIHN0YWtlcnMgPSBCb3hNYXA8QWNjb3VudCwgU3Rha2VJbmZvUmVjb3JkPih7IGtleVByZWZpeDogInN0IiB9KTsKICAgIGJ5dGVjIDQgLy8gInN0IgogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjQyNAogICAgLy8gdGhpcy5zdGFrZXJzKG9wLlR4bi5zZW5kZXIpLnZhbHVlID0gbmV3IFN0YWtlSW5mb1JlY29yZCh7CiAgICB0eG4gU2VuZGVyCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6MjYKICAgIC8vIHN0YWtlcnMgPSBCb3hNYXA8QWNjb3VudCwgU3Rha2VJbmZvUmVjb3JkPih7IGtleVByZWZpeDogInN0IiB9KTsKICAgIGNvbmNhdAogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjQyNC00MjcKICAgIC8vIHRoaXMuc3Rha2VycyhvcC5UeG4uc2VuZGVyKS52YWx1ZSA9IG5ldyBTdGFrZUluZm9SZWNvcmQoewogICAgLy8gICBzdGFrZTogbmV3IFVpbnQ2NChuZXdTdGFrZSksCiAgICAvLyAgIHJld2FyZERlYnQ6IG5ldyBVaW50NjQobmV3RGVidCksCiAgICAvLyB9KTsKICAgIHN3YXAKICAgIGJveF9wdXQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czo0MjkKICAgIC8vIGlmICghZXhpc3RzKSB7CiAgICBkdXAKICAgIGJueiBzdGFrZV9hZnRlcl9pZl9lbHNlQDIyCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6NDMwCiAgICAvLyB0aGlzLm51bV9zdGFrZXJzLnZhbHVlID0gbmV3IFVpbnQ2NCh0aGlzLm51bV9zdGFrZXJzLnZhbHVlLmFzVWludDY0KCkgKyAxKTsKICAgIGludGNfMCAvLyAwCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6NDcKICAgIC8vIG51bV9zdGFrZXJzID0gR2xvYmFsU3RhdGU8VWludDY0PigpOwogICAgYnl0ZWMgMTAgLy8gIm51bV9zdGFrZXJzIgogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjQzMAogICAgLy8gdGhpcy5udW1fc3Rha2Vycy52YWx1ZSA9IG5ldyBVaW50NjQodGhpcy5udW1fc3Rha2Vycy52YWx1ZS5hc1VpbnQ2NCgpICsgMSk7CiAgICBhcHBfZ2xvYmFsX2dldF9leAogICAgYXNzZXJ0IC8vIGNoZWNrIEdsb2JhbFN0YXRlIGV4aXN0cwogICAgYnRvaQogICAgaW50Y18xIC8vIDEKICAgICsKICAgIGl0b2IKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czo0NwogICAgLy8gbnVtX3N0YWtlcnMgPSBHbG9iYWxTdGF0ZTxVaW50NjQ+KCk7CiAgICBieXRlYyAxMCAvLyAibnVtX3N0YWtlcnMiCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6NDMwCiAgICAvLyB0aGlzLm51bV9zdGFrZXJzLnZhbHVlID0gbmV3IFVpbnQ2NCh0aGlzLm51bV9zdGFrZXJzLnZhbHVlLmFzVWludDY0KCkgKyAxKTsKICAgIHN3YXAKICAgIGFwcF9nbG9iYWxfcHV0CgpzdGFrZV9hZnRlcl9pZl9lbHNlQDIyOgogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjM2MgogICAgLy8gQGFiaW1ldGhvZCh7IGFsbG93QWN0aW9uczogIk5vT3AiIH0pCiAgICBpbnRjXzEgLy8gMQogICAgcmV0dXJuCgpzdGFrZV90ZXJuYXJ5X2ZhbHNlQDEyOgogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjM5NgogICAgLy8gbGV0IHBlbmRpbmc6IHVpbnQ2NCA9IGFjY3J1ZWQgPiBwcmV2RGVidCA/IGFjY3J1ZWQgLSBwcmV2RGVidCA6IDA7CiAgICBpbnRjXzAgLy8gMAogICAgYnVyeSA1CiAgICBiIHN0YWtlX3Rlcm5hcnlfbWVyZ2VAMTMKCnN0YWtlX3Rlcm5hcnlfZmFsc2VAOToKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czozOTQKICAgIC8vIGNvbnN0IHByZXZEZWJ0OiB1aW50NjQgPSBleGlzdHMgPyB0aGlzLnN0YWtlcnMob3AuVHhuLnNlbmRlcikudmFsdWUucmV3YXJkRGVidC5hc1VpbnQ2NCgpIDogMDsKICAgIGludGNfMCAvLyAwCiAgICBidXJ5IDQKICAgIGIgc3Rha2VfdGVybmFyeV9tZXJnZUAxMAoKc3Rha2VfdGVybmFyeV9mYWxzZUA2OgogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjM5MwogICAgLy8gY29uc3QgcHJldlN0YWtlOiB1aW50NjQgPSBleGlzdHMgPyB0aGlzLnN0YWtlcnMob3AuVHhuLnNlbmRlcikudmFsdWUuc3Rha2UuYXNVaW50NjQoKSA6IDA7CiAgICBpbnRjXzAgLy8gMAogICAgYnVyeSAzCiAgICBiIHN0YWtlX3Rlcm5hcnlfbWVyZ2VANwoKCi8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czo6U3Rha2luZy5jbGFpbVJld2FyZHNbcm91dGluZ10oKSAtPiB2b2lkOgpjbGFpbVJld2FyZHM6CiAgICBwdXNoYnl0ZXMgIiIKICAgIGR1cG4gMwogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjI2CiAgICAvLyBzdGFrZXJzID0gQm94TWFwPEFjY291bnQsIFN0YWtlSW5mb1JlY29yZD4oeyBrZXlQcmVmaXg6ICJzdCIgfSk7CiAgICBieXRlYyA0IC8vICJzdCIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czo0MzYKICAgIC8vIGFzc2VydCh0aGlzLnN0YWtlcnMob3AuVHhuLnNlbmRlcikuZXhpc3RzLCAiTm8gc3Rha2UgZm91bmQgZm9yIHVzZXIiKTsKICAgIHR4biBTZW5kZXIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czoyNgogICAgLy8gc3Rha2VycyA9IEJveE1hcDxBY2NvdW50LCBTdGFrZUluZm9SZWNvcmQ+KHsga2V5UHJlZml4OiAic3QiIH0pOwogICAgY29uY2F0CiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6NDM2CiAgICAvLyBhc3NlcnQodGhpcy5zdGFrZXJzKG9wLlR4bi5zZW5kZXIpLmV4aXN0cywgIk5vIHN0YWtlIGZvdW5kIGZvciB1c2VyIik7CiAgICBib3hfbGVuCiAgICBidXJ5IDEKICAgIGFzc2VydCAvLyBObyBzdGFrZSBmb3VuZCBmb3IgdXNlcgogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjQzNwogICAgLy8gYXNzZXJ0KHRoaXMuY29udHJhY3Rfc3RhdGUudmFsdWUuYXNVaW50NjQoKSA9PT0gMSwgIlBvb2wgaXMgaW5hY3RpdmUiKTsKICAgIGludGNfMCAvLyAwCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6NDkKICAgIC8vIGNvbnRyYWN0X3N0YXRlID0gR2xvYmFsU3RhdGU8VWludDY0PigpOyAvLyAwID0gaW5hY3RpdmUsIDEgPSBhY3RpdmUKICAgIGJ5dGVjIDggLy8gImNvbnRyYWN0X3N0YXRlIgogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjQzNwogICAgLy8gYXNzZXJ0KHRoaXMuY29udHJhY3Rfc3RhdGUudmFsdWUuYXNVaW50NjQoKSA9PT0gMSwgIlBvb2wgaXMgaW5hY3RpdmUiKTsKICAgIGFwcF9nbG9iYWxfZ2V0X2V4CiAgICBhc3NlcnQgLy8gY2hlY2sgR2xvYmFsU3RhdGUgZXhpc3RzCiAgICBidG9pCiAgICBpbnRjXzEgLy8gMQogICAgPT0KICAgIGFzc2VydCAvLyBQb29sIGlzIGluYWN0aXZlCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6MjYKICAgIC8vIHN0YWtlcnMgPSBCb3hNYXA8QWNjb3VudCwgU3Rha2VJbmZvUmVjb3JkPih7IGtleVByZWZpeDogInN0IiB9KTsKICAgIGJ5dGVjIDQgLy8gInN0IgogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjQzOAogICAgLy8gY29uc3Qgc3Rha2VyID0gY2xvbmUodGhpcy5zdGFrZXJzKG9wLlR4bi5zZW5kZXIpLnZhbHVlKTsKICAgIHR4biBTZW5kZXIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czoyNgogICAgLy8gc3Rha2VycyA9IEJveE1hcDxBY2NvdW50LCBTdGFrZUluZm9SZWNvcmQ+KHsga2V5UHJlZml4OiAic3QiIH0pOwogICAgY29uY2F0CiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6NDM4CiAgICAvLyBjb25zdCBzdGFrZXIgPSBjbG9uZSh0aGlzLnN0YWtlcnMob3AuVHhuLnNlbmRlcikudmFsdWUpOwogICAgYm94X2dldAogICAgYXNzZXJ0IC8vIEJveCBtdXN0IGhhdmUgdmFsdWUKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czo0MzkKICAgIC8vIGFzc2VydChzdGFrZXIuc3Rha2UuYXNVaW50NjQoKSA+IDAsICJObyBzdGFrZSIpOwogICAgZHVwCiAgICBleHRyYWN0IDAgOAogICAgc3dhcAogICAgZHVwCiAgICBpbnRjXzAgLy8gMAogICAgZXh0cmFjdF91aW50NjQKICAgIGR1cAogICAgY292ZXIgMgogICAgZHVwCiAgICBhc3NlcnQgLy8gTm8gc3Rha2UKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czo0NDEKICAgIC8vIHRoaXMudXBkYXRlUG9vbCgpOwogICAgY2FsbHN1YiB1cGRhdGVQb29sCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6NDQzCiAgICAvLyBjb25zdCBhY2NydWVkID0gbXVsRGl2VyhzdGFrZXIuc3Rha2UuYXNVaW50NjQoKSwgdGhpcy5yZXdhcmRfcGVyX3Rva2VuLnZhbHVlLmFzVWludDY0KCksIFBSRUNJU0lPTik7CiAgICBpbnRjXzAgLy8gMAogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjMyCiAgICAvLyByZXdhcmRfcGVyX3Rva2VuID0gR2xvYmFsU3RhdGU8VWludDY0PigpOwogICAgYnl0ZWMgOSAvLyAicmV3YXJkX3Blcl90b2tlbiIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czo0NDMKICAgIC8vIGNvbnN0IGFjY3J1ZWQgPSBtdWxEaXZXKHN0YWtlci5zdGFrZS5hc1VpbnQ2NCgpLCB0aGlzLnJld2FyZF9wZXJfdG9rZW4udmFsdWUuYXNVaW50NjQoKSwgUFJFQ0lTSU9OKTsKICAgIGFwcF9nbG9iYWxfZ2V0X2V4CiAgICBhc3NlcnQgLy8gY2hlY2sgR2xvYmFsU3RhdGUgZXhpc3RzCiAgICBidG9pCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9jb25maWcuYWxnby50czoyOAogICAgLy8gY29uc3QgW2hpLCBsb10gPSBtdWx3KGEsIGIpOwogICAgbXVsdwogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjQ0MwogICAgLy8gY29uc3QgYWNjcnVlZCA9IG11bERpdlcoc3Rha2VyLnN0YWtlLmFzVWludDY0KCksIHRoaXMucmV3YXJkX3Blcl90b2tlbi52YWx1ZS5hc1VpbnQ2NCgpLCBQUkVDSVNJT04pOwogICAgaW50YyA0IC8vIDEwMDAwMDAwMDAwMDAwMDAKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL2NvbmZpZy5hbGdvLnRzOjI5CiAgICAvLyByZXR1cm4gZGl2dyhoaSwgbG8sIGMpOwogICAgZGl2dwogICAgZHVwCiAgICB1bmNvdmVyIDIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czo0NDQKICAgIC8vIGxldCBwZW5kaW5nOiB1aW50NjQgPSBhY2NydWVkID4gc3Rha2VyLnJld2FyZERlYnQuYXNVaW50NjQoKSA/IGFjY3J1ZWQgLSBzdGFrZXIucmV3YXJkRGVidC5hc1VpbnQ2NCgpIDogMDsKICAgIGludGNfMiAvLyA4CiAgICBleHRyYWN0X3VpbnQ2NAogICAgZHVwCiAgICBjb3ZlciAyCiAgICA+CiAgICBieiBjbGFpbVJld2FyZHNfdGVybmFyeV9mYWxzZUAzCiAgICBkdXAyCiAgICAtCiAgICBidXJ5IDUKCmNsYWltUmV3YXJkc190ZXJuYXJ5X21lcmdlQDQ6CiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6NDQ1CiAgICAvLyBjb25zdCBwYXlhYmxlOiB1aW50NjQgPSB0aGlzLmFjY3J1ZWRfcmV3YXJkcy52YWx1ZS5hc1VpbnQ2NCgpIC0gdGhpcy5yZXdhcmRzX3BhaWQudmFsdWUuYXNVaW50NjQoKTsKICAgIGludGNfMCAvLyAwCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6MzkKICAgIC8vIGFjY3J1ZWRfcmV3YXJkcyA9IEdsb2JhbFN0YXRlPFVpbnQ2ND4oKTsKICAgIGJ5dGVjIDcgLy8gImFjY3J1ZWRfcmV3YXJkcyIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czo0NDUKICAgIC8vIGNvbnN0IHBheWFibGU6IHVpbnQ2NCA9IHRoaXMuYWNjcnVlZF9yZXdhcmRzLnZhbHVlLmFzVWludDY0KCkgLSB0aGlzLnJld2FyZHNfcGFpZC52YWx1ZS5hc1VpbnQ2NCgpOwogICAgYXBwX2dsb2JhbF9nZXRfZXgKICAgIGFzc2VydCAvLyBjaGVjayBHbG9iYWxTdGF0ZSBleGlzdHMKICAgIGJ0b2kKICAgIGludGNfMCAvLyAwCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6NDIKICAgIC8vIHJld2FyZHNfcGFpZCA9IEdsb2JhbFN0YXRlPFVpbnQ2ND4oKTsKICAgIGJ5dGVjXzEgLy8gInJld2FyZHNfcGFpZCIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czo0NDUKICAgIC8vIGNvbnN0IHBheWFibGU6IHVpbnQ2NCA9IHRoaXMuYWNjcnVlZF9yZXdhcmRzLnZhbHVlLmFzVWludDY0KCkgLSB0aGlzLnJld2FyZHNfcGFpZC52YWx1ZS5hc1VpbnQ2NCgpOwogICAgYXBwX2dsb2JhbF9nZXRfZXgKICAgIGFzc2VydCAvLyBjaGVjayBHbG9iYWxTdGF0ZSBleGlzdHMKICAgIGJ0b2kKICAgIC0KICAgIGR1cAogICAgYnVyeSA3CiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6NDQ2CiAgICAvLyBpZiAocGVuZGluZyA+IHBheWFibGUpIHsKICAgIGRpZyA1CiAgICA8CiAgICBieiBjbGFpbVJld2FyZHNfYWZ0ZXJfaWZfZWxzZUA2CiAgICBkaWcgNQogICAgYnVyeSA1CgpjbGFpbVJld2FyZHNfYWZ0ZXJfaWZfZWxzZUA2OgogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjQ1MAogICAgLy8gaWYgKHBlbmRpbmcgPiAwKSB7CiAgICBkaWcgNAogICAgYnogY2xhaW1SZXdhcmRzX2FmdGVyX2lmX2Vsc2VAMTEKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czo0NTEKICAgIC8vIGNvbnN0IGZlZTogdWludDY0ID0gbXVsRGl2VyhwZW5kaW5nLCB0aGlzLnBsYXRmb3JtX2ZlZV9icHMudmFsdWUuYXNVaW50NjQoKSwgMTBfMDAwKTsKICAgIGludGNfMCAvLyAwCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6NTEKICAgIC8vIHBsYXRmb3JtX2ZlZV9icHMgPSBHbG9iYWxTdGF0ZTxVaW50NjQ+KCk7CiAgICBieXRlYyAxNSAvLyAicGxhdGZvcm1fZmVlX2JwcyIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czo0NTEKICAgIC8vIGNvbnN0IGZlZTogdWludDY0ID0gbXVsRGl2VyhwZW5kaW5nLCB0aGlzLnBsYXRmb3JtX2ZlZV9icHMudmFsdWUuYXNVaW50NjQoKSwgMTBfMDAwKTsKICAgIGFwcF9nbG9iYWxfZ2V0X2V4CiAgICBhc3NlcnQgLy8gY2hlY2sgR2xvYmFsU3RhdGUgZXhpc3RzCiAgICBidG9pCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9jb25maWcuYWxnby50czoyOAogICAgLy8gY29uc3QgW2hpLCBsb10gPSBtdWx3KGEsIGIpOwogICAgZGlnIDUKICAgIGR1cAogICAgdW5jb3ZlciAyCiAgICBtdWx3CiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6NDUxCiAgICAvLyBjb25zdCBmZWU6IHVpbnQ2NCA9IG11bERpdlcocGVuZGluZywgdGhpcy5wbGF0Zm9ybV9mZWVfYnBzLnZhbHVlLmFzVWludDY0KCksIDEwXzAwMCk7CiAgICBpbnRjIDUgLy8gMTAwMDAKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL2NvbmZpZy5hbGdvLnRzOjI5CiAgICAvLyByZXR1cm4gZGl2dyhoaSwgbG8sIGMpOwogICAgZGl2dwogICAgZHVwCiAgICBidXJ5IDEwCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6NDUyCiAgICAvLyBjb25zdCBuZXQ6IHVpbnQ2NCA9IHBlbmRpbmcgLSBmZWU7CiAgICBzd2FwCiAgICBkaWcgMQogICAgLQogICAgYnVyeSA4CiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6NDUzCiAgICAvLyBpZiAoZmVlID4gMCkgewogICAgYnogY2xhaW1SZXdhcmRzX2FmdGVyX2lmX2Vsc2VAOQogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjQ1NAogICAgLy8gdGhpcy5wbGF0Zm9ybV9mZWVzX2FjY3J1ZWQudmFsdWUgPSBuZXcgVWludDY0KHRoaXMucGxhdGZvcm1fZmVlc19hY2NydWVkLnZhbHVlLmFzVWludDY0KCkgKyBmZWUpOwogICAgaW50Y18wIC8vIDAKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czo1MgogICAgLy8gcGxhdGZvcm1fZmVlc19hY2NydWVkID0gR2xvYmFsU3RhdGU8VWludDY0PigpOwogICAgYnl0ZWNfMiAvLyAicGxhdGZvcm1fZmVlc19hY2NydWVkIgogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjQ1NAogICAgLy8gdGhpcy5wbGF0Zm9ybV9mZWVzX2FjY3J1ZWQudmFsdWUgPSBuZXcgVWludDY0KHRoaXMucGxhdGZvcm1fZmVlc19hY2NydWVkLnZhbHVlLmFzVWludDY0KCkgKyBmZWUpOwogICAgYXBwX2dsb2JhbF9nZXRfZXgKICAgIGFzc2VydCAvLyBjaGVjayBHbG9iYWxTdGF0ZSBleGlzdHMKICAgIGJ0b2kKICAgIGRpZyA4CiAgICArCiAgICBpdG9iCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6NTIKICAgIC8vIHBsYXRmb3JtX2ZlZXNfYWNjcnVlZCA9IEdsb2JhbFN0YXRlPFVpbnQ2ND4oKTsKICAgIGJ5dGVjXzIgLy8gInBsYXRmb3JtX2ZlZXNfYWNjcnVlZCIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czo0NTQKICAgIC8vIHRoaXMucGxhdGZvcm1fZmVlc19hY2NydWVkLnZhbHVlID0gbmV3IFVpbnQ2NCh0aGlzLnBsYXRmb3JtX2ZlZXNfYWNjcnVlZC52YWx1ZS5hc1VpbnQ2NCgpICsgZmVlKTsKICAgIHN3YXAKICAgIGFwcF9nbG9iYWxfcHV0CgpjbGFpbVJld2FyZHNfYWZ0ZXJfaWZfZWxzZUA5OgogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjQ1NgogICAgLy8gdGhpcy5yZXdhcmRzX3BhaWQudmFsdWUgPSBuZXcgVWludDY0KHRoaXMucmV3YXJkc19wYWlkLnZhbHVlLmFzVWludDY0KCkgKyBwZW5kaW5nKTsKICAgIGludGNfMCAvLyAwCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6NDIKICAgIC8vIHJld2FyZHNfcGFpZCA9IEdsb2JhbFN0YXRlPFVpbnQ2ND4oKTsKICAgIGJ5dGVjXzEgLy8gInJld2FyZHNfcGFpZCIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czo0NTYKICAgIC8vIHRoaXMucmV3YXJkc19wYWlkLnZhbHVlID0gbmV3IFVpbnQ2NCh0aGlzLnJld2FyZHNfcGFpZC52YWx1ZS5hc1VpbnQ2NCgpICsgcGVuZGluZyk7CiAgICBhcHBfZ2xvYmFsX2dldF9leAogICAgYXNzZXJ0IC8vIGNoZWNrIEdsb2JhbFN0YXRlIGV4aXN0cwogICAgYnRvaQogICAgZGlnIDUKICAgICsKICAgIGl0b2IKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czo0MgogICAgLy8gcmV3YXJkc19wYWlkID0gR2xvYmFsU3RhdGU8VWludDY0PigpOwogICAgYnl0ZWNfMSAvLyAicmV3YXJkc19wYWlkIgogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjQ1NgogICAgLy8gdGhpcy5yZXdhcmRzX3BhaWQudmFsdWUgPSBuZXcgVWludDY0KHRoaXMucmV3YXJkc19wYWlkLnZhbHVlLmFzVWludDY0KCkgKyBwZW5kaW5nKTsKICAgIHN3YXAKICAgIGFwcF9nbG9iYWxfcHV0CiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6NDU3LTQ2NQogICAgLy8gaXR4bgogICAgLy8gICAuYXNzZXRUcmFuc2Zlcih7CiAgICAvLyAgICAgeGZlckFzc2V0OiB0aGlzLnJld2FyZF9hc3NldF9pZC52YWx1ZS5hc1VpbnQ2NCgpLAogICAgLy8gICAgIGFzc2V0UmVjZWl2ZXI6IG9wLlR4bi5zZW5kZXIsCiAgICAvLyAgICAgc2VuZGVyOiBHbG9iYWwuY3VycmVudEFwcGxpY2F0aW9uQWRkcmVzcywKICAgIC8vICAgICBhc3NldEFtb3VudDogbmV0LAogICAgLy8gICAgIGZlZTogMCwKICAgIC8vICAgfSkKICAgIC8vICAgLnN1Ym1pdCgpOwogICAgaXR4bl9iZWdpbgogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjQ1OQogICAgLy8geGZlckFzc2V0OiB0aGlzLnJld2FyZF9hc3NldF9pZC52YWx1ZS5hc1VpbnQ2NCgpLAogICAgaW50Y18wIC8vIDAKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czoyOQogICAgLy8gcmV3YXJkX2Fzc2V0X2lkID0gR2xvYmFsU3RhdGU8VWludDY0PigpOwogICAgYnl0ZWMgNiAvLyAicmV3YXJkX2Fzc2V0X2lkIgogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjQ1OQogICAgLy8geGZlckFzc2V0OiB0aGlzLnJld2FyZF9hc3NldF9pZC52YWx1ZS5hc1VpbnQ2NCgpLAogICAgYXBwX2dsb2JhbF9nZXRfZXgKICAgIGFzc2VydCAvLyBjaGVjayBHbG9iYWxTdGF0ZSBleGlzdHMKICAgIGJ0b2kKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czo0NjAKICAgIC8vIGFzc2V0UmVjZWl2ZXI6IG9wLlR4bi5zZW5kZXIsCiAgICB0eG4gU2VuZGVyCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6NDYxCiAgICAvLyBzZW5kZXI6IEdsb2JhbC5jdXJyZW50QXBwbGljYXRpb25BZGRyZXNzLAogICAgZ2xvYmFsIEN1cnJlbnRBcHBsaWNhdGlvbkFkZHJlc3MKICAgIGRpZyA5CiAgICBpdHhuX2ZpZWxkIEFzc2V0QW1vdW50CiAgICBpdHhuX2ZpZWxkIFNlbmRlcgogICAgaXR4bl9maWVsZCBBc3NldFJlY2VpdmVyCiAgICBpdHhuX2ZpZWxkIFhmZXJBc3NldAogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjQ1Ny00NjQKICAgIC8vIGl0eG4KICAgIC8vICAgLmFzc2V0VHJhbnNmZXIoewogICAgLy8gICAgIHhmZXJBc3NldDogdGhpcy5yZXdhcmRfYXNzZXRfaWQudmFsdWUuYXNVaW50NjQoKSwKICAgIC8vICAgICBhc3NldFJlY2VpdmVyOiBvcC5UeG4uc2VuZGVyLAogICAgLy8gICAgIHNlbmRlcjogR2xvYmFsLmN1cnJlbnRBcHBsaWNhdGlvbkFkZHJlc3MsCiAgICAvLyAgICAgYXNzZXRBbW91bnQ6IG5ldCwKICAgIC8vICAgICBmZWU6IDAsCiAgICAvLyAgIH0pCiAgICBpbnRjXzMgLy8gNAogICAgaXR4bl9maWVsZCBUeXBlRW51bQogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjQ2MwogICAgLy8gZmVlOiAwLAogICAgaW50Y18wIC8vIDAKICAgIGl0eG5fZmllbGQgRmVlCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6NDU3LTQ2NQogICAgLy8gaXR4bgogICAgLy8gICAuYXNzZXRUcmFuc2Zlcih7CiAgICAvLyAgICAgeGZlckFzc2V0OiB0aGlzLnJld2FyZF9hc3NldF9pZC52YWx1ZS5hc1VpbnQ2NCgpLAogICAgLy8gICAgIGFzc2V0UmVjZWl2ZXI6IG9wLlR4bi5zZW5kZXIsCiAgICAvLyAgICAgc2VuZGVyOiBHbG9iYWwuY3VycmVudEFwcGxpY2F0aW9uQWRkcmVzcywKICAgIC8vICAgICBhc3NldEFtb3VudDogbmV0LAogICAgLy8gICAgIGZlZTogMCwKICAgIC8vICAgfSkKICAgIC8vICAgLnN1Ym1pdCgpOwogICAgaXR4bl9zdWJtaXQKCmNsYWltUmV3YXJkc19hZnRlcl9pZl9lbHNlQDExOgogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjQ2OAogICAgLy8gY29uc3QgbmV3RGVidCA9IG11bERpdlcoc3Rha2VyLnN0YWtlLmFzVWludDY0KCksIHRoaXMucmV3YXJkX3Blcl90b2tlbi52YWx1ZS5hc1VpbnQ2NCgpLCBQUkVDSVNJT04pOwogICAgaW50Y18wIC8vIDAKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czozMgogICAgLy8gcmV3YXJkX3Blcl90b2tlbiA9IEdsb2JhbFN0YXRlPFVpbnQ2ND4oKTsKICAgIGJ5dGVjIDkgLy8gInJld2FyZF9wZXJfdG9rZW4iCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6NDY4CiAgICAvLyBjb25zdCBuZXdEZWJ0ID0gbXVsRGl2VyhzdGFrZXIuc3Rha2UuYXNVaW50NjQoKSwgdGhpcy5yZXdhcmRfcGVyX3Rva2VuLnZhbHVlLmFzVWludDY0KCksIFBSRUNJU0lPTik7CiAgICBhcHBfZ2xvYmFsX2dldF9leAogICAgYXNzZXJ0IC8vIGNoZWNrIEdsb2JhbFN0YXRlIGV4aXN0cwogICAgYnRvaQogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvY29uZmlnLmFsZ28udHM6MjgKICAgIC8vIGNvbnN0IFtoaSwgbG9dID0gbXVsdyhhLCBiKTsKICAgIGRpZyAzCiAgICBtdWx3CiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6NDY4CiAgICAvLyBjb25zdCBuZXdEZWJ0ID0gbXVsRGl2VyhzdGFrZXIuc3Rha2UuYXNVaW50NjQoKSwgdGhpcy5yZXdhcmRfcGVyX3Rva2VuLnZhbHVlLmFzVWludDY0KCksIFBSRUNJU0lPTik7CiAgICBpbnRjIDQgLy8gMTAwMDAwMDAwMDAwMDAwMAogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvY29uZmlnLmFsZ28udHM6MjkKICAgIC8vIHJldHVybiBkaXZ3KGhpLCBsbywgYyk7CiAgICBkaXZ3CiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6NDcxCiAgICAvLyByZXdhcmREZWJ0OiBuZXcgVWludDY0KG5ld0RlYnQpLAogICAgaXRvYgogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjQ2OS00NzIKICAgIC8vIHRoaXMuc3Rha2VycyhvcC5UeG4uc2VuZGVyKS52YWx1ZSA9IG5ldyBTdGFrZUluZm9SZWNvcmQoewogICAgLy8gICBzdGFrZTogc3Rha2VyLnN0YWtlLAogICAgLy8gICByZXdhcmREZWJ0OiBuZXcgVWludDY0KG5ld0RlYnQpLAogICAgLy8gfSk7CiAgICBkaWcgNAogICAgc3dhcAogICAgY29uY2F0CiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6MjYKICAgIC8vIHN0YWtlcnMgPSBCb3hNYXA8QWNjb3VudCwgU3Rha2VJbmZvUmVjb3JkPih7IGtleVByZWZpeDogInN0IiB9KTsKICAgIGJ5dGVjIDQgLy8gInN0IgogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjQ2OQogICAgLy8gdGhpcy5zdGFrZXJzKG9wLlR4bi5zZW5kZXIpLnZhbHVlID0gbmV3IFN0YWtlSW5mb1JlY29yZCh7CiAgICB0eG4gU2VuZGVyCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6MjYKICAgIC8vIHN0YWtlcnMgPSBCb3hNYXA8QWNjb3VudCwgU3Rha2VJbmZvUmVjb3JkPih7IGtleVByZWZpeDogInN0IiB9KTsKICAgIGNvbmNhdAogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjQ2OS00NzIKICAgIC8vIHRoaXMuc3Rha2VycyhvcC5UeG4uc2VuZGVyKS52YWx1ZSA9IG5ldyBTdGFrZUluZm9SZWNvcmQoewogICAgLy8gICBzdGFrZTogc3Rha2VyLnN0YWtlLAogICAgLy8gICByZXdhcmREZWJ0OiBuZXcgVWludDY0KG5ld0RlYnQpLAogICAgLy8gfSk7CiAgICBzd2FwCiAgICBib3hfcHV0CiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6NDM0CiAgICAvLyBAYWJpbWV0aG9kKHsgYWxsb3dBY3Rpb25zOiAiTm9PcCIgfSkKICAgIGludGNfMSAvLyAxCiAgICByZXR1cm4KCmNsYWltUmV3YXJkc190ZXJuYXJ5X2ZhbHNlQDM6CiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6NDQ0CiAgICAvLyBsZXQgcGVuZGluZzogdWludDY0ID0gYWNjcnVlZCA+IHN0YWtlci5yZXdhcmREZWJ0LmFzVWludDY0KCkgPyBhY2NydWVkIC0gc3Rha2VyLnJld2FyZERlYnQuYXNVaW50NjQoKSA6IDA7CiAgICBpbnRjXzAgLy8gMAogICAgYnVyeSA1CiAgICBiIGNsYWltUmV3YXJkc190ZXJuYXJ5X21lcmdlQDQKCgovLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6OlN0YWtpbmcudW5zdGFrZVtyb3V0aW5nXSgpIC0+IHZvaWQ6CnVuc3Rha2U6CiAgICBwdXNoYnl0ZXMgIiIKICAgIGR1cG4gNAogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjQ3NQogICAgLy8gQGFiaW1ldGhvZCh7IGFsbG93QWN0aW9uczogIk5vT3AiIH0pCiAgICB0eG5hIEFwcGxpY2F0aW9uQXJncyAxCiAgICBkdXAKICAgIGxlbgogICAgaW50Y18yIC8vIDgKICAgID09CiAgICBhc3NlcnQgLy8gaW52YWxpZCBudW1iZXIgb2YgYnl0ZXMgZm9yIGFyYzQudWludDY0CiAgICBidG9pCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6MjYKICAgIC8vIHN0YWtlcnMgPSBCb3hNYXA8QWNjb3VudCwgU3Rha2VJbmZvUmVjb3JkPih7IGtleVByZWZpeDogInN0IiB9KTsKICAgIGJ5dGVjIDQgLy8gInN0IgogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjQ3NwogICAgLy8gYXNzZXJ0KHRoaXMuc3Rha2VycyhvcC5UeG4uc2VuZGVyKS5leGlzdHMsICJObyBzdGFrZSBmb3VuZCBmb3IgdXNlciIpOwogICAgdHhuIFNlbmRlcgogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjI2CiAgICAvLyBzdGFrZXJzID0gQm94TWFwPEFjY291bnQsIFN0YWtlSW5mb1JlY29yZD4oeyBrZXlQcmVmaXg6ICJzdCIgfSk7CiAgICBjb25jYXQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czo0NzcKICAgIC8vIGFzc2VydCh0aGlzLnN0YWtlcnMob3AuVHhuLnNlbmRlcikuZXhpc3RzLCAiTm8gc3Rha2UgZm91bmQgZm9yIHVzZXIiKTsKICAgIGJveF9sZW4KICAgIGJ1cnkgMQogICAgYXNzZXJ0IC8vIE5vIHN0YWtlIGZvdW5kIGZvciB1c2VyCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6MjYKICAgIC8vIHN0YWtlcnMgPSBCb3hNYXA8QWNjb3VudCwgU3Rha2VJbmZvUmVjb3JkPih7IGtleVByZWZpeDogInN0IiB9KTsKICAgIGJ5dGVjIDQgLy8gInN0IgogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjQ3OAogICAgLy8gY29uc3QgcmVjID0gY2xvbmUodGhpcy5zdGFrZXJzKG9wLlR4bi5zZW5kZXIpLnZhbHVlKTsKICAgIHR4biBTZW5kZXIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czoyNgogICAgLy8gc3Rha2VycyA9IEJveE1hcDxBY2NvdW50LCBTdGFrZUluZm9SZWNvcmQ+KHsga2V5UHJlZml4OiAic3QiIH0pOwogICAgY29uY2F0CiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6NDc4CiAgICAvLyBjb25zdCByZWMgPSBjbG9uZSh0aGlzLnN0YWtlcnMob3AuVHhuLnNlbmRlcikudmFsdWUpOwogICAgYm94X2dldAogICAgYXNzZXJ0IC8vIEJveCBtdXN0IGhhdmUgdmFsdWUKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czo0NzkKICAgIC8vIGNvbnN0IHN0YWtlTm93OiB1aW50NjQgPSByZWMuc3Rha2UuYXNVaW50NjQoKTsKICAgIGR1cAogICAgaW50Y18wIC8vIDAKICAgIGV4dHJhY3RfdWludDY0CiAgICBkdXAKICAgIGNvdmVyIDMKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czo0ODAKICAgIC8vIGFzc2VydChzdGFrZU5vdyA+IDAsICJObyBzdGFrZSIpOwogICAgZHVwCiAgICBhc3NlcnQgLy8gTm8gc3Rha2UKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czo0ODIKICAgIC8vIHRoaXMudXBkYXRlUG9vbCgpOwogICAgY2FsbHN1YiB1cGRhdGVQb29sCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6NDg0CiAgICAvLyBjb25zdCBhbW91bnRUb1dpdGhkcmF3OiB1aW50NjQgPSBxdWFudGl0eSA9PT0gMCA/IHN0YWtlTm93IDogcXVhbnRpdHk7CiAgICBkaWcgMgogICAgIQogICAgdW5jb3ZlciAzCiAgICBkaWcgMgogICAgdW5jb3ZlciAyCiAgICBzZWxlY3QKICAgIGR1cAogICAgY292ZXIgMwogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjQ4NQogICAgLy8gYXNzZXJ0KHN0YWtlTm93ID49IGFtb3VudFRvV2l0aGRyYXcsICJVbnN0YWtlIGFtb3VudCBleGNlZWRzIGJhbGFuY2UiKTsKICAgIGRpZyAxCiAgICA8PQogICAgYXNzZXJ0IC8vIFVuc3Rha2UgYW1vdW50IGV4Y2VlZHMgYmFsYW5jZQogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjQ4NwogICAgLy8gY29uc3QgYWNjcnVlZCA9IG11bERpdlcoc3Rha2VOb3csIHRoaXMucmV3YXJkX3Blcl90b2tlbi52YWx1ZS5hc1VpbnQ2NCgpLCBQUkVDSVNJT04pOwogICAgaW50Y18wIC8vIDAKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czozMgogICAgLy8gcmV3YXJkX3Blcl90b2tlbiA9IEdsb2JhbFN0YXRlPFVpbnQ2ND4oKTsKICAgIGJ5dGVjIDkgLy8gInJld2FyZF9wZXJfdG9rZW4iCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6NDg3CiAgICAvLyBjb25zdCBhY2NydWVkID0gbXVsRGl2VyhzdGFrZU5vdywgdGhpcy5yZXdhcmRfcGVyX3Rva2VuLnZhbHVlLmFzVWludDY0KCksIFBSRUNJU0lPTik7CiAgICBhcHBfZ2xvYmFsX2dldF9leAogICAgYXNzZXJ0IC8vIGNoZWNrIEdsb2JhbFN0YXRlIGV4aXN0cwogICAgYnRvaQogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvY29uZmlnLmFsZ28udHM6MjgKICAgIC8vIGNvbnN0IFtoaSwgbG9dID0gbXVsdyhhLCBiKTsKICAgIG11bHcKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czo0ODcKICAgIC8vIGNvbnN0IGFjY3J1ZWQgPSBtdWxEaXZXKHN0YWtlTm93LCB0aGlzLnJld2FyZF9wZXJfdG9rZW4udmFsdWUuYXNVaW50NjQoKSwgUFJFQ0lTSU9OKTsKICAgIGludGMgNCAvLyAxMDAwMDAwMDAwMDAwMDAwCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9jb25maWcuYWxnby50czoyOQogICAgLy8gcmV0dXJuIGRpdncoaGksIGxvLCBjKTsKICAgIGRpdncKICAgIGR1cAogICAgdW5jb3ZlciAyCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6NDg4CiAgICAvLyBsZXQgcGVuZGluZzogdWludDY0ID0gYWNjcnVlZCA+IHJlYy5yZXdhcmREZWJ0LmFzVWludDY0KCkgPyBhY2NydWVkIC0gcmVjLnJld2FyZERlYnQuYXNVaW50NjQoKSA6IDA7CiAgICBpbnRjXzIgLy8gOAogICAgZXh0cmFjdF91aW50NjQKICAgIGR1cAogICAgY292ZXIgMgogICAgPgogICAgYnogdW5zdGFrZV90ZXJuYXJ5X2ZhbHNlQDMKICAgIGR1cDIKICAgIC0KICAgIGJ1cnkgNgoKdW5zdGFrZV90ZXJuYXJ5X21lcmdlQDQ6CiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6NDg5CiAgICAvLyBjb25zdCBwYXlhYmxlOiB1aW50NjQgPSB0aGlzLmFjY3J1ZWRfcmV3YXJkcy52YWx1ZS5hc1VpbnQ2NCgpIC0gdGhpcy5yZXdhcmRzX3BhaWQudmFsdWUuYXNVaW50NjQoKTsKICAgIGludGNfMCAvLyAwCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6MzkKICAgIC8vIGFjY3J1ZWRfcmV3YXJkcyA9IEdsb2JhbFN0YXRlPFVpbnQ2ND4oKTsKICAgIGJ5dGVjIDcgLy8gImFjY3J1ZWRfcmV3YXJkcyIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czo0ODkKICAgIC8vIGNvbnN0IHBheWFibGU6IHVpbnQ2NCA9IHRoaXMuYWNjcnVlZF9yZXdhcmRzLnZhbHVlLmFzVWludDY0KCkgLSB0aGlzLnJld2FyZHNfcGFpZC52YWx1ZS5hc1VpbnQ2NCgpOwogICAgYXBwX2dsb2JhbF9nZXRfZXgKICAgIGFzc2VydCAvLyBjaGVjayBHbG9iYWxTdGF0ZSBleGlzdHMKICAgIGJ0b2kKICAgIGludGNfMCAvLyAwCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6NDIKICAgIC8vIHJld2FyZHNfcGFpZCA9IEdsb2JhbFN0YXRlPFVpbnQ2ND4oKTsKICAgIGJ5dGVjXzEgLy8gInJld2FyZHNfcGFpZCIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czo0ODkKICAgIC8vIGNvbnN0IHBheWFibGU6IHVpbnQ2NCA9IHRoaXMuYWNjcnVlZF9yZXdhcmRzLnZhbHVlLmFzVWludDY0KCkgLSB0aGlzLnJld2FyZHNfcGFpZC52YWx1ZS5hc1VpbnQ2NCgpOwogICAgYXBwX2dsb2JhbF9nZXRfZXgKICAgIGFzc2VydCAvLyBjaGVjayBHbG9iYWxTdGF0ZSBleGlzdHMKICAgIGJ0b2kKICAgIC0KICAgIGR1cAogICAgYnVyeSA4CiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6NDkwCiAgICAvLyBpZiAocGVuZGluZyA+IHBheWFibGUpIHsKICAgIGRpZyA2CiAgICA8CiAgICBieiB1bnN0YWtlX2FmdGVyX2lmX2Vsc2VANgogICAgZGlnIDYKICAgIGJ1cnkgNgoKdW5zdGFrZV9hZnRlcl9pZl9lbHNlQDY6CiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6NDk0CiAgICAvLyBpZiAocGVuZGluZyA+IDApIHsKICAgIGRpZyA1CiAgICBieiB1bnN0YWtlX2FmdGVyX2lmX2Vsc2VAMTEKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czo0OTUKICAgIC8vIGNvbnN0IGZlZTogdWludDY0ID0gbXVsRGl2VyhwZW5kaW5nLCB0aGlzLnBsYXRmb3JtX2ZlZV9icHMudmFsdWUuYXNVaW50NjQoKSwgMTBfMDAwKTsKICAgIGludGNfMCAvLyAwCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6NTEKICAgIC8vIHBsYXRmb3JtX2ZlZV9icHMgPSBHbG9iYWxTdGF0ZTxVaW50NjQ+KCk7CiAgICBieXRlYyAxNSAvLyAicGxhdGZvcm1fZmVlX2JwcyIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czo0OTUKICAgIC8vIGNvbnN0IGZlZTogdWludDY0ID0gbXVsRGl2VyhwZW5kaW5nLCB0aGlzLnBsYXRmb3JtX2ZlZV9icHMudmFsdWUuYXNVaW50NjQoKSwgMTBfMDAwKTsKICAgIGFwcF9nbG9iYWxfZ2V0X2V4CiAgICBhc3NlcnQgLy8gY2hlY2sgR2xvYmFsU3RhdGUgZXhpc3RzCiAgICBidG9pCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9jb25maWcuYWxnby50czoyOAogICAgLy8gY29uc3QgW2hpLCBsb10gPSBtdWx3KGEsIGIpOwogICAgZGlnIDYKICAgIGR1cAogICAgdW5jb3ZlciAyCiAgICBtdWx3CiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6NDk1CiAgICAvLyBjb25zdCBmZWU6IHVpbnQ2NCA9IG11bERpdlcocGVuZGluZywgdGhpcy5wbGF0Zm9ybV9mZWVfYnBzLnZhbHVlLmFzVWludDY0KCksIDEwXzAwMCk7CiAgICBpbnRjIDUgLy8gMTAwMDAKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL2NvbmZpZy5hbGdvLnRzOjI5CiAgICAvLyByZXR1cm4gZGl2dyhoaSwgbG8sIGMpOwogICAgZGl2dwogICAgZHVwCiAgICBidXJ5IDExCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6NDk2CiAgICAvLyBjb25zdCBuZXQ6IHVpbnQ2NCA9IHBlbmRpbmcgLSBmZWU7CiAgICBzd2FwCiAgICBkaWcgMQogICAgLQogICAgYnVyeSA5CiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6NDk3CiAgICAvLyBpZiAoZmVlID4gMCkgewogICAgYnogdW5zdGFrZV9hZnRlcl9pZl9lbHNlQDkKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czo0OTgKICAgIC8vIHRoaXMucGxhdGZvcm1fZmVlc19hY2NydWVkLnZhbHVlID0gbmV3IFVpbnQ2NCh0aGlzLnBsYXRmb3JtX2ZlZXNfYWNjcnVlZC52YWx1ZS5hc1VpbnQ2NCgpICsgZmVlKTsKICAgIGludGNfMCAvLyAwCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6NTIKICAgIC8vIHBsYXRmb3JtX2ZlZXNfYWNjcnVlZCA9IEdsb2JhbFN0YXRlPFVpbnQ2ND4oKTsKICAgIGJ5dGVjXzIgLy8gInBsYXRmb3JtX2ZlZXNfYWNjcnVlZCIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czo0OTgKICAgIC8vIHRoaXMucGxhdGZvcm1fZmVlc19hY2NydWVkLnZhbHVlID0gbmV3IFVpbnQ2NCh0aGlzLnBsYXRmb3JtX2ZlZXNfYWNjcnVlZC52YWx1ZS5hc1VpbnQ2NCgpICsgZmVlKTsKICAgIGFwcF9nbG9iYWxfZ2V0X2V4CiAgICBhc3NlcnQgLy8gY2hlY2sgR2xvYmFsU3RhdGUgZXhpc3RzCiAgICBidG9pCiAgICBkaWcgOQogICAgKwogICAgaXRvYgogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjUyCiAgICAvLyBwbGF0Zm9ybV9mZWVzX2FjY3J1ZWQgPSBHbG9iYWxTdGF0ZTxVaW50NjQ+KCk7CiAgICBieXRlY18yIC8vICJwbGF0Zm9ybV9mZWVzX2FjY3J1ZWQiCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6NDk4CiAgICAvLyB0aGlzLnBsYXRmb3JtX2ZlZXNfYWNjcnVlZC52YWx1ZSA9IG5ldyBVaW50NjQodGhpcy5wbGF0Zm9ybV9mZWVzX2FjY3J1ZWQudmFsdWUuYXNVaW50NjQoKSArIGZlZSk7CiAgICBzd2FwCiAgICBhcHBfZ2xvYmFsX3B1dAoKdW5zdGFrZV9hZnRlcl9pZl9lbHNlQDk6CiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6NTAwCiAgICAvLyB0aGlzLnJld2FyZHNfcGFpZC52YWx1ZSA9IG5ldyBVaW50NjQodGhpcy5yZXdhcmRzX3BhaWQudmFsdWUuYXNVaW50NjQoKSArIHBlbmRpbmcpOwogICAgaW50Y18wIC8vIDAKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czo0MgogICAgLy8gcmV3YXJkc19wYWlkID0gR2xvYmFsU3RhdGU8VWludDY0PigpOwogICAgYnl0ZWNfMSAvLyAicmV3YXJkc19wYWlkIgogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjUwMAogICAgLy8gdGhpcy5yZXdhcmRzX3BhaWQudmFsdWUgPSBuZXcgVWludDY0KHRoaXMucmV3YXJkc19wYWlkLnZhbHVlLmFzVWludDY0KCkgKyBwZW5kaW5nKTsKICAgIGFwcF9nbG9iYWxfZ2V0X2V4CiAgICBhc3NlcnQgLy8gY2hlY2sgR2xvYmFsU3RhdGUgZXhpc3RzCiAgICBidG9pCiAgICBkaWcgNgogICAgKwogICAgaXRvYgogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjQyCiAgICAvLyByZXdhcmRzX3BhaWQgPSBHbG9iYWxTdGF0ZTxVaW50NjQ+KCk7CiAgICBieXRlY18xIC8vICJyZXdhcmRzX3BhaWQiCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6NTAwCiAgICAvLyB0aGlzLnJld2FyZHNfcGFpZC52YWx1ZSA9IG5ldyBVaW50NjQodGhpcy5yZXdhcmRzX3BhaWQudmFsdWUuYXNVaW50NjQoKSArIHBlbmRpbmcpOwogICAgc3dhcAogICAgYXBwX2dsb2JhbF9wdXQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czo1MDEtNTA5CiAgICAvLyBpdHhuCiAgICAvLyAgIC5hc3NldFRyYW5zZmVyKHsKICAgIC8vICAgICB4ZmVyQXNzZXQ6IHRoaXMucmV3YXJkX2Fzc2V0X2lkLnZhbHVlLmFzVWludDY0KCksCiAgICAvLyAgICAgYXNzZXRSZWNlaXZlcjogb3AuVHhuLnNlbmRlciwKICAgIC8vICAgICBzZW5kZXI6IEdsb2JhbC5jdXJyZW50QXBwbGljYXRpb25BZGRyZXNzLAogICAgLy8gICAgIGFzc2V0QW1vdW50OiBuZXQsCiAgICAvLyAgICAgZmVlOiAwLAogICAgLy8gICB9KQogICAgLy8gICAuc3VibWl0KCk7CiAgICBpdHhuX2JlZ2luCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6NTAzCiAgICAvLyB4ZmVyQXNzZXQ6IHRoaXMucmV3YXJkX2Fzc2V0X2lkLnZhbHVlLmFzVWludDY0KCksCiAgICBpbnRjXzAgLy8gMAogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjI5CiAgICAvLyByZXdhcmRfYXNzZXRfaWQgPSBHbG9iYWxTdGF0ZTxVaW50NjQ+KCk7CiAgICBieXRlYyA2IC8vICJyZXdhcmRfYXNzZXRfaWQiCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6NTAzCiAgICAvLyB4ZmVyQXNzZXQ6IHRoaXMucmV3YXJkX2Fzc2V0X2lkLnZhbHVlLmFzVWludDY0KCksCiAgICBhcHBfZ2xvYmFsX2dldF9leAogICAgYXNzZXJ0IC8vIGNoZWNrIEdsb2JhbFN0YXRlIGV4aXN0cwogICAgYnRvaQogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjUwNAogICAgLy8gYXNzZXRSZWNlaXZlcjogb3AuVHhuLnNlbmRlciwKICAgIHR4biBTZW5kZXIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czo1MDUKICAgIC8vIHNlbmRlcjogR2xvYmFsLmN1cnJlbnRBcHBsaWNhdGlvbkFkZHJlc3MsCiAgICBnbG9iYWwgQ3VycmVudEFwcGxpY2F0aW9uQWRkcmVzcwogICAgZGlnIDEwCiAgICBpdHhuX2ZpZWxkIEFzc2V0QW1vdW50CiAgICBpdHhuX2ZpZWxkIFNlbmRlcgogICAgaXR4bl9maWVsZCBBc3NldFJlY2VpdmVyCiAgICBpdHhuX2ZpZWxkIFhmZXJBc3NldAogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjUwMS01MDgKICAgIC8vIGl0eG4KICAgIC8vICAgLmFzc2V0VHJhbnNmZXIoewogICAgLy8gICAgIHhmZXJBc3NldDogdGhpcy5yZXdhcmRfYXNzZXRfaWQudmFsdWUuYXNVaW50NjQoKSwKICAgIC8vICAgICBhc3NldFJlY2VpdmVyOiBvcC5UeG4uc2VuZGVyLAogICAgLy8gICAgIHNlbmRlcjogR2xvYmFsLmN1cnJlbnRBcHBsaWNhdGlvbkFkZHJlc3MsCiAgICAvLyAgICAgYXNzZXRBbW91bnQ6IG5ldCwKICAgIC8vICAgICBmZWU6IDAsCiAgICAvLyAgIH0pCiAgICBpbnRjXzMgLy8gNAogICAgaXR4bl9maWVsZCBUeXBlRW51bQogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjUwNwogICAgLy8gZmVlOiAwLAogICAgaW50Y18wIC8vIDAKICAgIGl0eG5fZmllbGQgRmVlCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6NTAxLTUwOQogICAgLy8gaXR4bgogICAgLy8gICAuYXNzZXRUcmFuc2Zlcih7CiAgICAvLyAgICAgeGZlckFzc2V0OiB0aGlzLnJld2FyZF9hc3NldF9pZC52YWx1ZS5hc1VpbnQ2NCgpLAogICAgLy8gICAgIGFzc2V0UmVjZWl2ZXI6IG9wLlR4bi5zZW5kZXIsCiAgICAvLyAgICAgc2VuZGVyOiBHbG9iYWwuY3VycmVudEFwcGxpY2F0aW9uQWRkcmVzcywKICAgIC8vICAgICBhc3NldEFtb3VudDogbmV0LAogICAgLy8gICAgIGZlZTogMCwKICAgIC8vICAgfSkKICAgIC8vICAgLnN1Ym1pdCgpOwogICAgaXR4bl9zdWJtaXQKCnVuc3Rha2VfYWZ0ZXJfaWZfZWxzZUAxMToKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czo1MTItNTIwCiAgICAvLyBpdHhuCiAgICAvLyAgIC5hc3NldFRyYW5zZmVyKHsKICAgIC8vICAgICB4ZmVyQXNzZXQ6IHRoaXMuc3Rha2VkX2Fzc2V0X2lkLnZhbHVlLmFzVWludDY0KCksCiAgICAvLyAgICAgYXNzZXRSZWNlaXZlcjogb3AuVHhuLnNlbmRlciwKICAgIC8vICAgICBzZW5kZXI6IEdsb2JhbC5jdXJyZW50QXBwbGljYXRpb25BZGRyZXNzLAogICAgLy8gICAgIGFzc2V0QW1vdW50OiBhbW91bnRUb1dpdGhkcmF3LAogICAgLy8gICAgIGZlZTogMCwKICAgIC8vICAgfSkKICAgIC8vICAgLnN1Ym1pdCgpOwogICAgaXR4bl9iZWdpbgogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjUxNAogICAgLy8geGZlckFzc2V0OiB0aGlzLnN0YWtlZF9hc3NldF9pZC52YWx1ZS5hc1VpbnQ2NCgpLAogICAgaW50Y18wIC8vIDAKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czoyOAogICAgLy8gc3Rha2VkX2Fzc2V0X2lkID0gR2xvYmFsU3RhdGU8VWludDY0PigpOwogICAgYnl0ZWMgMTYgLy8gInN0YWtlZF9hc3NldF9pZCIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czo1MTQKICAgIC8vIHhmZXJBc3NldDogdGhpcy5zdGFrZWRfYXNzZXRfaWQudmFsdWUuYXNVaW50NjQoKSwKICAgIGFwcF9nbG9iYWxfZ2V0X2V4CiAgICBhc3NlcnQgLy8gY2hlY2sgR2xvYmFsU3RhdGUgZXhpc3RzCiAgICBidG9pCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6NTE1CiAgICAvLyBhc3NldFJlY2VpdmVyOiBvcC5UeG4uc2VuZGVyLAogICAgdHhuIFNlbmRlcgogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjUxNgogICAgLy8gc2VuZGVyOiBHbG9iYWwuY3VycmVudEFwcGxpY2F0aW9uQWRkcmVzcywKICAgIGdsb2JhbCBDdXJyZW50QXBwbGljYXRpb25BZGRyZXNzCiAgICBkaWcgNQogICAgZHVwCiAgICBjb3ZlciA0CiAgICBpdHhuX2ZpZWxkIEFzc2V0QW1vdW50CiAgICBpdHhuX2ZpZWxkIFNlbmRlcgogICAgaXR4bl9maWVsZCBBc3NldFJlY2VpdmVyCiAgICBpdHhuX2ZpZWxkIFhmZXJBc3NldAogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjUxMi01MTkKICAgIC8vIGl0eG4KICAgIC8vICAgLmFzc2V0VHJhbnNmZXIoewogICAgLy8gICAgIHhmZXJBc3NldDogdGhpcy5zdGFrZWRfYXNzZXRfaWQudmFsdWUuYXNVaW50NjQoKSwKICAgIC8vICAgICBhc3NldFJlY2VpdmVyOiBvcC5UeG4uc2VuZGVyLAogICAgLy8gICAgIHNlbmRlcjogR2xvYmFsLmN1cnJlbnRBcHBsaWNhdGlvbkFkZHJlc3MsCiAgICAvLyAgICAgYXNzZXRBbW91bnQ6IGFtb3VudFRvV2l0aGRyYXcsCiAgICAvLyAgICAgZmVlOiAwLAogICAgLy8gICB9KQogICAgaW50Y18zIC8vIDQKICAgIGl0eG5fZmllbGQgVHlwZUVudW0KICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czo1MTgKICAgIC8vIGZlZTogMCwKICAgIGludGNfMCAvLyAwCiAgICBpdHhuX2ZpZWxkIEZlZQogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjUxMi01MjAKICAgIC8vIGl0eG4KICAgIC8vICAgLmFzc2V0VHJhbnNmZXIoewogICAgLy8gICAgIHhmZXJBc3NldDogdGhpcy5zdGFrZWRfYXNzZXRfaWQudmFsdWUuYXNVaW50NjQoKSwKICAgIC8vICAgICBhc3NldFJlY2VpdmVyOiBvcC5UeG4uc2VuZGVyLAogICAgLy8gICAgIHNlbmRlcjogR2xvYmFsLmN1cnJlbnRBcHBsaWNhdGlvbkFkZHJlc3MsCiAgICAvLyAgICAgYXNzZXRBbW91bnQ6IGFtb3VudFRvV2l0aGRyYXcsCiAgICAvLyAgICAgZmVlOiAwLAogICAgLy8gICB9KQogICAgLy8gICAuc3VibWl0KCk7CiAgICBpdHhuX3N1Ym1pdAogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjUyMgogICAgLy8gdGhpcy50b3RhbF9zdGFrZWQudmFsdWUgPSBuZXcgVWludDY0KHRoaXMudG90YWxfc3Rha2VkLnZhbHVlLmFzVWludDY0KCkgLSBhbW91bnRUb1dpdGhkcmF3KTsKICAgIGludGNfMCAvLyAwCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6MzEKICAgIC8vIHRvdGFsX3N0YWtlZCA9IEdsb2JhbFN0YXRlPFVpbnQ2ND4oKTsKICAgIGJ5dGVjXzMgLy8gInRvdGFsX3N0YWtlZCIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czo1MjIKICAgIC8vIHRoaXMudG90YWxfc3Rha2VkLnZhbHVlID0gbmV3IFVpbnQ2NCh0aGlzLnRvdGFsX3N0YWtlZC52YWx1ZS5hc1VpbnQ2NCgpIC0gYW1vdW50VG9XaXRoZHJhdyk7CiAgICBhcHBfZ2xvYmFsX2dldF9leAogICAgYXNzZXJ0IC8vIGNoZWNrIEdsb2JhbFN0YXRlIGV4aXN0cwogICAgYnRvaQogICAgZGlnIDEKICAgIC0KICAgIGl0b2IKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czozMQogICAgLy8gdG90YWxfc3Rha2VkID0gR2xvYmFsU3RhdGU8VWludDY0PigpOwogICAgYnl0ZWNfMyAvLyAidG90YWxfc3Rha2VkIgogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjUyMgogICAgLy8gdGhpcy50b3RhbF9zdGFrZWQudmFsdWUgPSBuZXcgVWludDY0KHRoaXMudG90YWxfc3Rha2VkLnZhbHVlLmFzVWludDY0KCkgLSBhbW91bnRUb1dpdGhkcmF3KTsKICAgIHN3YXAKICAgIGFwcF9nbG9iYWxfcHV0CiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6NTI0CiAgICAvLyBjb25zdCByZW1haW5pbmc6IHVpbnQ2NCA9IHN0YWtlTm93IC0gYW1vdW50VG9XaXRoZHJhdzsKICAgIGRpZyA0CiAgICBzd2FwCiAgICAtCiAgICBkdXAKICAgIGJ1cnkgNgogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjUyNQogICAgLy8gaWYgKHJlbWFpbmluZyA9PT0gMCkgewogICAgYm56IHVuc3Rha2VfZWxzZV9ib2R5QDE1CiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6MjYKICAgIC8vIHN0YWtlcnMgPSBCb3hNYXA8QWNjb3VudCwgU3Rha2VJbmZvUmVjb3JkPih7IGtleVByZWZpeDogInN0IiB9KTsKICAgIGJ5dGVjIDQgLy8gInN0IgogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjUyNgogICAgLy8gdGhpcy5zdGFrZXJzKG9wLlR4bi5zZW5kZXIpLmRlbGV0ZSgpOwogICAgdHhuIFNlbmRlcgogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjI2CiAgICAvLyBzdGFrZXJzID0gQm94TWFwPEFjY291bnQsIFN0YWtlSW5mb1JlY29yZD4oeyBrZXlQcmVmaXg6ICJzdCIgfSk7CiAgICBjb25jYXQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czo1MjYKICAgIC8vIHRoaXMuc3Rha2VycyhvcC5UeG4uc2VuZGVyKS5kZWxldGUoKTsKICAgIGJveF9kZWwKICAgIHBvcAogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjUyNwogICAgLy8gdGhpcy5udW1fc3Rha2Vycy52YWx1ZSA9IG5ldyBVaW50NjQodGhpcy5udW1fc3Rha2Vycy52YWx1ZS5hc1VpbnQ2NCgpIC0gMSk7CiAgICBpbnRjXzAgLy8gMAogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjQ3CiAgICAvLyBudW1fc3Rha2VycyA9IEdsb2JhbFN0YXRlPFVpbnQ2ND4oKTsKICAgIGJ5dGVjIDEwIC8vICJudW1fc3Rha2VycyIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czo1MjcKICAgIC8vIHRoaXMubnVtX3N0YWtlcnMudmFsdWUgPSBuZXcgVWludDY0KHRoaXMubnVtX3N0YWtlcnMudmFsdWUuYXNVaW50NjQoKSAtIDEpOwogICAgYXBwX2dsb2JhbF9nZXRfZXgKICAgIGFzc2VydCAvLyBjaGVjayBHbG9iYWxTdGF0ZSBleGlzdHMKICAgIGJ0b2kKICAgIGludGNfMSAvLyAxCiAgICAtCiAgICBpdG9iCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6NDcKICAgIC8vIG51bV9zdGFrZXJzID0gR2xvYmFsU3RhdGU8VWludDY0PigpOwogICAgYnl0ZWMgMTAgLy8gIm51bV9zdGFrZXJzIgogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjUyNwogICAgLy8gdGhpcy5udW1fc3Rha2Vycy52YWx1ZSA9IG5ldyBVaW50NjQodGhpcy5udW1fc3Rha2Vycy52YWx1ZS5hc1VpbnQ2NCgpIC0gMSk7CiAgICBzd2FwCiAgICBhcHBfZ2xvYmFsX3B1dAogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjUyOC01MzUKICAgIC8vIGl0eG4KICAgIC8vICAgLnBheW1lbnQoewogICAgLy8gICAgIHJlY2VpdmVyOiBvcC5UeG4uc2VuZGVyLAogICAgLy8gICAgIGFtb3VudDogQk9YX0ZFRSwKICAgIC8vICAgICBzZW5kZXI6IEdsb2JhbC5jdXJyZW50QXBwbGljYXRpb25BZGRyZXNzLAogICAgLy8gICAgIGZlZTogMCwKICAgIC8vICAgfSkKICAgIC8vICAgLnN1Ym1pdCgpOwogICAgaXR4bl9iZWdpbgogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjUzMAogICAgLy8gcmVjZWl2ZXI6IG9wLlR4bi5zZW5kZXIsCiAgICB0eG4gU2VuZGVyCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6NTMyCiAgICAvLyBzZW5kZXI6IEdsb2JhbC5jdXJyZW50QXBwbGljYXRpb25BZGRyZXNzLAogICAgZ2xvYmFsIEN1cnJlbnRBcHBsaWNhdGlvbkFkZHJlc3MKICAgIGl0eG5fZmllbGQgU2VuZGVyCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6NTMxCiAgICAvLyBhbW91bnQ6IEJPWF9GRUUsCiAgICBpbnRjIDYgLy8gMjI1MDAKICAgIGl0eG5fZmllbGQgQW1vdW50CiAgICBpdHhuX2ZpZWxkIFJlY2VpdmVyCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6NTI4LTUzNAogICAgLy8gaXR4bgogICAgLy8gICAucGF5bWVudCh7CiAgICAvLyAgICAgcmVjZWl2ZXI6IG9wLlR4bi5zZW5kZXIsCiAgICAvLyAgICAgYW1vdW50OiBCT1hfRkVFLAogICAgLy8gICAgIHNlbmRlcjogR2xvYmFsLmN1cnJlbnRBcHBsaWNhdGlvbkFkZHJlc3MsCiAgICAvLyAgICAgZmVlOiAwLAogICAgLy8gICB9KQogICAgaW50Y18xIC8vIDEKICAgIGl0eG5fZmllbGQgVHlwZUVudW0KICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czo1MzMKICAgIC8vIGZlZTogMCwKICAgIGludGNfMCAvLyAwCiAgICBpdHhuX2ZpZWxkIEZlZQogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjUyOC01MzUKICAgIC8vIGl0eG4KICAgIC8vICAgLnBheW1lbnQoewogICAgLy8gICAgIHJlY2VpdmVyOiBvcC5UeG4uc2VuZGVyLAogICAgLy8gICAgIGFtb3VudDogQk9YX0ZFRSwKICAgIC8vICAgICBzZW5kZXI6IEdsb2JhbC5jdXJyZW50QXBwbGljYXRpb25BZGRyZXNzLAogICAgLy8gICAgIGZlZTogMCwKICAgIC8vICAgfSkKICAgIC8vICAgLnN1Ym1pdCgpOwogICAgaXR4bl9zdWJtaXQKCnVuc3Rha2VfYWZ0ZXJfaWZfZWxzZUAxNjoKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czo0NzUKICAgIC8vIEBhYmltZXRob2QoeyBhbGxvd0FjdGlvbnM6ICJOb09wIiB9KQogICAgaW50Y18xIC8vIDEKICAgIHJldHVybgoKdW5zdGFrZV9lbHNlX2JvZHlAMTU6CiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6NTM3CiAgICAvLyBjb25zdCBuZXdEZWJ0ID0gbXVsRGl2VyhyZW1haW5pbmcsIHRoaXMucmV3YXJkX3Blcl90b2tlbi52YWx1ZS5hc1VpbnQ2NCgpLCBQUkVDSVNJT04pOwogICAgaW50Y18wIC8vIDAKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czozMgogICAgLy8gcmV3YXJkX3Blcl90b2tlbiA9IEdsb2JhbFN0YXRlPFVpbnQ2ND4oKTsKICAgIGJ5dGVjIDkgLy8gInJld2FyZF9wZXJfdG9rZW4iCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6NTM3CiAgICAvLyBjb25zdCBuZXdEZWJ0ID0gbXVsRGl2VyhyZW1haW5pbmcsIHRoaXMucmV3YXJkX3Blcl90b2tlbi52YWx1ZS5hc1VpbnQ2NCgpLCBQUkVDSVNJT04pOwogICAgYXBwX2dsb2JhbF9nZXRfZXgKICAgIGFzc2VydCAvLyBjaGVjayBHbG9iYWxTdGF0ZSBleGlzdHMKICAgIGJ0b2kKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL2NvbmZpZy5hbGdvLnRzOjI4CiAgICAvLyBjb25zdCBbaGksIGxvXSA9IG11bHcoYSwgYik7CiAgICBkaWcgNQogICAgZHVwCiAgICB1bmNvdmVyIDIKICAgIG11bHcKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czo1MzcKICAgIC8vIGNvbnN0IG5ld0RlYnQgPSBtdWxEaXZXKHJlbWFpbmluZywgdGhpcy5yZXdhcmRfcGVyX3Rva2VuLnZhbHVlLmFzVWludDY0KCksIFBSRUNJU0lPTik7CiAgICBpbnRjIDQgLy8gMTAwMDAwMDAwMDAwMDAwMAogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvY29uZmlnLmFsZ28udHM6MjkKICAgIC8vIHJldHVybiBkaXZ3KGhpLCBsbywgYyk7CiAgICBkaXZ3CiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6NTM5CiAgICAvLyBzdGFrZTogbmV3IFVpbnQ2NChyZW1haW5pbmcpLAogICAgc3dhcAogICAgaXRvYgogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjU0MAogICAgLy8gcmV3YXJkRGVidDogbmV3IFVpbnQ2NChuZXdEZWJ0KSwKICAgIHN3YXAKICAgIGl0b2IKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czo1MzgtNTQxCiAgICAvLyB0aGlzLnN0YWtlcnMob3AuVHhuLnNlbmRlcikudmFsdWUgPSBuZXcgU3Rha2VJbmZvUmVjb3JkKHsKICAgIC8vICAgc3Rha2U6IG5ldyBVaW50NjQocmVtYWluaW5nKSwKICAgIC8vICAgcmV3YXJkRGVidDogbmV3IFVpbnQ2NChuZXdEZWJ0KSwKICAgIC8vIH0pOwogICAgY29uY2F0CiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6MjYKICAgIC8vIHN0YWtlcnMgPSBCb3hNYXA8QWNjb3VudCwgU3Rha2VJbmZvUmVjb3JkPih7IGtleVByZWZpeDogInN0IiB9KTsKICAgIGJ5dGVjIDQgLy8gInN0IgogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjUzOAogICAgLy8gdGhpcy5zdGFrZXJzKG9wLlR4bi5zZW5kZXIpLnZhbHVlID0gbmV3IFN0YWtlSW5mb1JlY29yZCh7CiAgICB0eG4gU2VuZGVyCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6MjYKICAgIC8vIHN0YWtlcnMgPSBCb3hNYXA8QWNjb3VudCwgU3Rha2VJbmZvUmVjb3JkPih7IGtleVByZWZpeDogInN0IiB9KTsKICAgIGNvbmNhdAogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjUzOC01NDEKICAgIC8vIHRoaXMuc3Rha2VycyhvcC5UeG4uc2VuZGVyKS52YWx1ZSA9IG5ldyBTdGFrZUluZm9SZWNvcmQoewogICAgLy8gICBzdGFrZTogbmV3IFVpbnQ2NChyZW1haW5pbmcpLAogICAgLy8gICByZXdhcmREZWJ0OiBuZXcgVWludDY0KG5ld0RlYnQpLAogICAgLy8gfSk7CiAgICBzd2FwCiAgICBib3hfcHV0CiAgICBiIHVuc3Rha2VfYWZ0ZXJfaWZfZWxzZUAxNgoKdW5zdGFrZV90ZXJuYXJ5X2ZhbHNlQDM6CiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6NDg4CiAgICAvLyBsZXQgcGVuZGluZzogdWludDY0ID0gYWNjcnVlZCA+IHJlYy5yZXdhcmREZWJ0LmFzVWludDY0KCkgPyBhY2NydWVkIC0gcmVjLnJld2FyZERlYnQuYXNVaW50NjQoKSA6IDA7CiAgICBpbnRjXzAgLy8gMAogICAgYnVyeSA2CiAgICBiIHVuc3Rha2VfdGVybmFyeV9tZXJnZUA0CgoKLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjpTdGFraW5nLmRlbGV0ZUFwcGxpY2F0aW9uW3JvdXRpbmddKCkgLT4gdm9pZDoKZGVsZXRlQXBwbGljYXRpb246CiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6NTQ3CiAgICAvLyBhc3NlcnQob3AuVHhuLnNlbmRlciA9PT0gdGhpcy5zdXBlcl9hZG1pbl9hZGRyZXNzLnZhbHVlLCAiT25seSBzdXBlciBhZG1pbiBjYW4gZGVsZXRlIGFwcGxpY2F0aW9uIik7CiAgICB0eG4gU2VuZGVyCiAgICBpbnRjXzAgLy8gMAogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjQ2CiAgICAvLyBzdXBlcl9hZG1pbl9hZGRyZXNzID0gR2xvYmFsU3RhdGU8QWNjb3VudD4oKTsKICAgIGJ5dGVjIDE0IC8vICJzdXBlcl9hZG1pbl9hZGRyZXNzIgogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjU0NwogICAgLy8gYXNzZXJ0KG9wLlR4bi5zZW5kZXIgPT09IHRoaXMuc3VwZXJfYWRtaW5fYWRkcmVzcy52YWx1ZSwgIk9ubHkgc3VwZXIgYWRtaW4gY2FuIGRlbGV0ZSBhcHBsaWNhdGlvbiIpOwogICAgYXBwX2dsb2JhbF9nZXRfZXgKICAgIGFzc2VydCAvLyBjaGVjayBHbG9iYWxTdGF0ZSBleGlzdHMKICAgID09CiAgICBhc3NlcnQgLy8gT25seSBzdXBlciBhZG1pbiBjYW4gZGVsZXRlIGFwcGxpY2F0aW9uCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6NTQ4CiAgICAvLyBhc3NlcnQodGhpcy50b3RhbF9zdGFrZWQudmFsdWUuYXNVaW50NjQoKSA9PT0gMCwgIlN0YWtlZCBhc3NldHMgc3RpbGwgZXhpc3QiKTsKICAgIGludGNfMCAvLyAwCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6MzEKICAgIC8vIHRvdGFsX3N0YWtlZCA9IEdsb2JhbFN0YXRlPFVpbnQ2ND4oKTsKICAgIGJ5dGVjXzMgLy8gInRvdGFsX3N0YWtlZCIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czo1NDgKICAgIC8vIGFzc2VydCh0aGlzLnRvdGFsX3N0YWtlZC52YWx1ZS5hc1VpbnQ2NCgpID09PSAwLCAiU3Rha2VkIGFzc2V0cyBzdGlsbCBleGlzdCIpOwogICAgYXBwX2dsb2JhbF9nZXRfZXgKICAgIGFzc2VydCAvLyBjaGVjayBHbG9iYWxTdGF0ZSBleGlzdHMKICAgIGJ0b2kKICAgICEKICAgIGFzc2VydCAvLyBTdGFrZWQgYXNzZXRzIHN0aWxsIGV4aXN0CiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6NTQ5CiAgICAvLyBhc3NlcnQodGhpcy5udW1fc3Rha2Vycy52YWx1ZS5hc1VpbnQ2NCgpID09PSAwLCAiU3Rha2VycyBleGlzdCIpOwogICAgaW50Y18wIC8vIDAKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czo0NwogICAgLy8gbnVtX3N0YWtlcnMgPSBHbG9iYWxTdGF0ZTxVaW50NjQ+KCk7CiAgICBieXRlYyAxMCAvLyAibnVtX3N0YWtlcnMiCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6NTQ5CiAgICAvLyBhc3NlcnQodGhpcy5udW1fc3Rha2Vycy52YWx1ZS5hc1VpbnQ2NCgpID09PSAwLCAiU3Rha2VycyBleGlzdCIpOwogICAgYXBwX2dsb2JhbF9nZXRfZXgKICAgIGFzc2VydCAvLyBjaGVjayBHbG9iYWxTdGF0ZSBleGlzdHMKICAgIGJ0b2kKICAgICEKICAgIGFzc2VydCAvLyBTdGFrZXJzIGV4aXN0CiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6NTUxCiAgICAvLyBjb25zdCBzdGFrZWRCYWxhbmNlID0gb3AuQXNzZXRIb2xkaW5nLmFzc2V0QmFsYW5jZShHbG9iYWwuY3VycmVudEFwcGxpY2F0aW9uQWRkcmVzcywgQXNzZXQodGhpcy5zdGFrZWRfYXNzZXRfaWQudmFsdWUuYXNVaW50NjQoKSkpWzBdOwogICAgZ2xvYmFsIEN1cnJlbnRBcHBsaWNhdGlvbkFkZHJlc3MKICAgIGludGNfMCAvLyAwCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6MjgKICAgIC8vIHN0YWtlZF9hc3NldF9pZCA9IEdsb2JhbFN0YXRlPFVpbnQ2ND4oKTsKICAgIGJ5dGVjIDE2IC8vICJzdGFrZWRfYXNzZXRfaWQiCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6NTUxCiAgICAvLyBjb25zdCBzdGFrZWRCYWxhbmNlID0gb3AuQXNzZXRIb2xkaW5nLmFzc2V0QmFsYW5jZShHbG9iYWwuY3VycmVudEFwcGxpY2F0aW9uQWRkcmVzcywgQXNzZXQodGhpcy5zdGFrZWRfYXNzZXRfaWQudmFsdWUuYXNVaW50NjQoKSkpWzBdOwogICAgYXBwX2dsb2JhbF9nZXRfZXgKICAgIGFzc2VydCAvLyBjaGVjayBHbG9iYWxTdGF0ZSBleGlzdHMKICAgIGR1cAogICAgYnRvaQogICAgdW5jb3ZlciAyCiAgICBkaWcgMQogICAgYXNzZXRfaG9sZGluZ19nZXQgQXNzZXRCYWxhbmNlCiAgICBwb3AKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czo1NTIKICAgIC8vIGFzc2VydChzdGFrZWRCYWxhbmNlID09PSAwLCAiU3Rha2VkIGFzc2V0IGJhbGFuY2Ugbm90IGVtcHR5Iik7CiAgICAhCiAgICBhc3NlcnQgLy8gU3Rha2VkIGFzc2V0IGJhbGFuY2Ugbm90IGVtcHR5CiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6NTU0CiAgICAvLyBjb25zdCByZXdhcmRCYWxhbmNlID0gb3AuQXNzZXRIb2xkaW5nLmFzc2V0QmFsYW5jZShHbG9iYWwuY3VycmVudEFwcGxpY2F0aW9uQWRkcmVzcywgQXNzZXQodGhpcy5yZXdhcmRfYXNzZXRfaWQudmFsdWUuYXNVaW50NjQoKSkpWzBdOwogICAgZ2xvYmFsIEN1cnJlbnRBcHBsaWNhdGlvbkFkZHJlc3MKICAgIGludGNfMCAvLyAwCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6MjkKICAgIC8vIHJld2FyZF9hc3NldF9pZCA9IEdsb2JhbFN0YXRlPFVpbnQ2ND4oKTsKICAgIGJ5dGVjIDYgLy8gInJld2FyZF9hc3NldF9pZCIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czo1NTQKICAgIC8vIGNvbnN0IHJld2FyZEJhbGFuY2UgPSBvcC5Bc3NldEhvbGRpbmcuYXNzZXRCYWxhbmNlKEdsb2JhbC5jdXJyZW50QXBwbGljYXRpb25BZGRyZXNzLCBBc3NldCh0aGlzLnJld2FyZF9hc3NldF9pZC52YWx1ZS5hc1VpbnQ2NCgpKSlbMF07CiAgICBhcHBfZ2xvYmFsX2dldF9leAogICAgYXNzZXJ0IC8vIGNoZWNrIEdsb2JhbFN0YXRlIGV4aXN0cwogICAgZHVwCiAgICBidG9pCiAgICB1bmNvdmVyIDIKICAgIHN3YXAKICAgIGFzc2V0X2hvbGRpbmdfZ2V0IEFzc2V0QmFsYW5jZQogICAgcG9wCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6NTU1CiAgICAvLyBhc3NlcnQocmV3YXJkQmFsYW5jZSA9PT0gMCwgIlJld2FyZCBhc3NldCBiYWxhbmNlIG5vdCBlbXB0eSIpOwogICAgIQogICAgYXNzZXJ0IC8vIFJld2FyZCBhc3NldCBiYWxhbmNlIG5vdCBlbXB0eQogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjU1Ny01NjUKICAgIC8vIGl0eG4KICAgIC8vICAgLmFzc2V0VHJhbnNmZXIoewogICAgLy8gICAgIHhmZXJBc3NldDogdGhpcy5zdGFrZWRfYXNzZXRfaWQudmFsdWUuYXNVaW50NjQoKSwKICAgIC8vICAgICBhc3NldENsb3NlVG86IHRoaXMuYWRtaW5fYWRkcmVzcy52YWx1ZSwKICAgIC8vICAgICBhc3NldEFtb3VudDogMCwKICAgIC8vICAgICBhc3NldFJlY2VpdmVyOiBHbG9iYWwuY3VycmVudEFwcGxpY2F0aW9uQWRkcmVzcywKICAgIC8vICAgICBmZWU6IDAsCiAgICAvLyAgIH0pCiAgICAvLyAgIC5zdWJtaXQoKTsKICAgIGl0eG5fYmVnaW4KICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czo1NjAKICAgIC8vIGFzc2V0Q2xvc2VUbzogdGhpcy5hZG1pbl9hZGRyZXNzLnZhbHVlLAogICAgaW50Y18wIC8vIDAKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czo0NQogICAgLy8gYWRtaW5fYWRkcmVzcyA9IEdsb2JhbFN0YXRlPEFjY291bnQ+KCk7CiAgICBieXRlYyA1IC8vICJhZG1pbl9hZGRyZXNzIgogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjU2MAogICAgLy8gYXNzZXRDbG9zZVRvOiB0aGlzLmFkbWluX2FkZHJlc3MudmFsdWUsCiAgICBhcHBfZ2xvYmFsX2dldF9leAogICAgYXNzZXJ0IC8vIGNoZWNrIEdsb2JhbFN0YXRlIGV4aXN0cwogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjU2MgogICAgLy8gYXNzZXRSZWNlaXZlcjogR2xvYmFsLmN1cnJlbnRBcHBsaWNhdGlvbkFkZHJlc3MsCiAgICBnbG9iYWwgQ3VycmVudEFwcGxpY2F0aW9uQWRkcmVzcwogICAgaXR4bl9maWVsZCBBc3NldFJlY2VpdmVyCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6NTYxCiAgICAvLyBhc3NldEFtb3VudDogMCwKICAgIGludGNfMCAvLyAwCiAgICBpdHhuX2ZpZWxkIEFzc2V0QW1vdW50CiAgICBpdHhuX2ZpZWxkIEFzc2V0Q2xvc2VUbwogICAgc3dhcAogICAgaXR4bl9maWVsZCBYZmVyQXNzZXQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czo1NTctNTY0CiAgICAvLyBpdHhuCiAgICAvLyAgIC5hc3NldFRyYW5zZmVyKHsKICAgIC8vICAgICB4ZmVyQXNzZXQ6IHRoaXMuc3Rha2VkX2Fzc2V0X2lkLnZhbHVlLmFzVWludDY0KCksCiAgICAvLyAgICAgYXNzZXRDbG9zZVRvOiB0aGlzLmFkbWluX2FkZHJlc3MudmFsdWUsCiAgICAvLyAgICAgYXNzZXRBbW91bnQ6IDAsCiAgICAvLyAgICAgYXNzZXRSZWNlaXZlcjogR2xvYmFsLmN1cnJlbnRBcHBsaWNhdGlvbkFkZHJlc3MsCiAgICAvLyAgICAgZmVlOiAwLAogICAgLy8gICB9KQogICAgaW50Y18zIC8vIDQKICAgIGl0eG5fZmllbGQgVHlwZUVudW0KICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czo1NjMKICAgIC8vIGZlZTogMCwKICAgIGludGNfMCAvLyAwCiAgICBpdHhuX2ZpZWxkIEZlZQogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjU1Ny01NjUKICAgIC8vIGl0eG4KICAgIC8vICAgLmFzc2V0VHJhbnNmZXIoewogICAgLy8gICAgIHhmZXJBc3NldDogdGhpcy5zdGFrZWRfYXNzZXRfaWQudmFsdWUuYXNVaW50NjQoKSwKICAgIC8vICAgICBhc3NldENsb3NlVG86IHRoaXMuYWRtaW5fYWRkcmVzcy52YWx1ZSwKICAgIC8vICAgICBhc3NldEFtb3VudDogMCwKICAgIC8vICAgICBhc3NldFJlY2VpdmVyOiBHbG9iYWwuY3VycmVudEFwcGxpY2F0aW9uQWRkcmVzcywKICAgIC8vICAgICBmZWU6IDAsCiAgICAvLyAgIH0pCiAgICAvLyAgIC5zdWJtaXQoKTsKICAgIGl0eG5fc3VibWl0CiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6NTY3CiAgICAvLyBpZiAodGhpcy5zdGFrZWRfYXNzZXRfaWQudmFsdWUgIT09IHRoaXMucmV3YXJkX2Fzc2V0X2lkLnZhbHVlKSB7CiAgICAhPQogICAgYnogZGVsZXRlQXBwbGljYXRpb25fYWZ0ZXJfaWZfZWxzZUA1CiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6NTY4LTU3NgogICAgLy8gaXR4bgogICAgLy8gICAuYXNzZXRUcmFuc2Zlcih7CiAgICAvLyAgICAgeGZlckFzc2V0OiB0aGlzLnJld2FyZF9hc3NldF9pZC52YWx1ZS5hc1VpbnQ2NCgpLAogICAgLy8gICAgIGFzc2V0Q2xvc2VUbzogdGhpcy5hZG1pbl9hZGRyZXNzLnZhbHVlLAogICAgLy8gICAgIGFzc2V0QW1vdW50OiAwLAogICAgLy8gICAgIGFzc2V0UmVjZWl2ZXI6IEdsb2JhbC5jdXJyZW50QXBwbGljYXRpb25BZGRyZXNzLAogICAgLy8gICAgIGZlZTogMCwKICAgIC8vICAgfSkKICAgIC8vICAgLnN1Ym1pdCgpOwogICAgaXR4bl9iZWdpbgogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjU3MAogICAgLy8geGZlckFzc2V0OiB0aGlzLnJld2FyZF9hc3NldF9pZC52YWx1ZS5hc1VpbnQ2NCgpLAogICAgaW50Y18wIC8vIDAKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czoyOQogICAgLy8gcmV3YXJkX2Fzc2V0X2lkID0gR2xvYmFsU3RhdGU8VWludDY0PigpOwogICAgYnl0ZWMgNiAvLyAicmV3YXJkX2Fzc2V0X2lkIgogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjU3MAogICAgLy8geGZlckFzc2V0OiB0aGlzLnJld2FyZF9hc3NldF9pZC52YWx1ZS5hc1VpbnQ2NCgpLAogICAgYXBwX2dsb2JhbF9nZXRfZXgKICAgIGFzc2VydCAvLyBjaGVjayBHbG9iYWxTdGF0ZSBleGlzdHMKICAgIGJ0b2kKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czo1NzEKICAgIC8vIGFzc2V0Q2xvc2VUbzogdGhpcy5hZG1pbl9hZGRyZXNzLnZhbHVlLAogICAgaW50Y18wIC8vIDAKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czo0NQogICAgLy8gYWRtaW5fYWRkcmVzcyA9IEdsb2JhbFN0YXRlPEFjY291bnQ+KCk7CiAgICBieXRlYyA1IC8vICJhZG1pbl9hZGRyZXNzIgogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjU3MQogICAgLy8gYXNzZXRDbG9zZVRvOiB0aGlzLmFkbWluX2FkZHJlc3MudmFsdWUsCiAgICBhcHBfZ2xvYmFsX2dldF9leAogICAgYXNzZXJ0IC8vIGNoZWNrIEdsb2JhbFN0YXRlIGV4aXN0cwogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjU3MwogICAgLy8gYXNzZXRSZWNlaXZlcjogR2xvYmFsLmN1cnJlbnRBcHBsaWNhdGlvbkFkZHJlc3MsCiAgICBnbG9iYWwgQ3VycmVudEFwcGxpY2F0aW9uQWRkcmVzcwogICAgaXR4bl9maWVsZCBBc3NldFJlY2VpdmVyCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6NTcyCiAgICAvLyBhc3NldEFtb3VudDogMCwKICAgIGludGNfMCAvLyAwCiAgICBpdHhuX2ZpZWxkIEFzc2V0QW1vdW50CiAgICBpdHhuX2ZpZWxkIEFzc2V0Q2xvc2VUbwogICAgaXR4bl9maWVsZCBYZmVyQXNzZXQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czo1NjgtNTc1CiAgICAvLyBpdHhuCiAgICAvLyAgIC5hc3NldFRyYW5zZmVyKHsKICAgIC8vICAgICB4ZmVyQXNzZXQ6IHRoaXMucmV3YXJkX2Fzc2V0X2lkLnZhbHVlLmFzVWludDY0KCksCiAgICAvLyAgICAgYXNzZXRDbG9zZVRvOiB0aGlzLmFkbWluX2FkZHJlc3MudmFsdWUsCiAgICAvLyAgICAgYXNzZXRBbW91bnQ6IDAsCiAgICAvLyAgICAgYXNzZXRSZWNlaXZlcjogR2xvYmFsLmN1cnJlbnRBcHBsaWNhdGlvbkFkZHJlc3MsCiAgICAvLyAgICAgZmVlOiAwLAogICAgLy8gICB9KQogICAgaW50Y18zIC8vIDQKICAgIGl0eG5fZmllbGQgVHlwZUVudW0KICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czo1NzQKICAgIC8vIGZlZTogMCwKICAgIGludGNfMCAvLyAwCiAgICBpdHhuX2ZpZWxkIEZlZQogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjU2OC01NzYKICAgIC8vIGl0eG4KICAgIC8vICAgLmFzc2V0VHJhbnNmZXIoewogICAgLy8gICAgIHhmZXJBc3NldDogdGhpcy5yZXdhcmRfYXNzZXRfaWQudmFsdWUuYXNVaW50NjQoKSwKICAgIC8vICAgICBhc3NldENsb3NlVG86IHRoaXMuYWRtaW5fYWRkcmVzcy52YWx1ZSwKICAgIC8vICAgICBhc3NldEFtb3VudDogMCwKICAgIC8vICAgICBhc3NldFJlY2VpdmVyOiBHbG9iYWwuY3VycmVudEFwcGxpY2F0aW9uQWRkcmVzcywKICAgIC8vICAgICBmZWU6IDAsCiAgICAvLyAgIH0pCiAgICAvLyAgIC5zdWJtaXQoKTsKICAgIGl0eG5fc3VibWl0CgpkZWxldGVBcHBsaWNhdGlvbl9hZnRlcl9pZl9lbHNlQDU6CiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6NTQ1CiAgICAvLyBAYWJpbWV0aG9kKHsgYWxsb3dBY3Rpb25zOiAiRGVsZXRlQXBwbGljYXRpb24iIH0pCiAgICBpbnRjXzEgLy8gMQogICAgcmV0dXJuCgoKLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjpTdGFraW5nLnVwZGF0ZVBvb2woKSAtPiB2b2lkOgp1cGRhdGVQb29sOgogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjMwMAogICAgLy8gcHJpdmF0ZSB1cGRhdGVQb29sKCk6IHZvaWQgewogICAgcHJvdG8gMCAwCiAgICBwdXNoYnl0ZXMgIiIKICAgIGR1cG4gNQogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjMwMQogICAgLy8gaWYgKHRoaXMuY29udHJhY3Rfc3RhdGUudmFsdWUgPT09IG5ldyBVaW50NjQoMCkpIHsKICAgIGludGNfMCAvLyAwCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6NDkKICAgIC8vIGNvbnRyYWN0X3N0YXRlID0gR2xvYmFsU3RhdGU8VWludDY0PigpOyAvLyAwID0gaW5hY3RpdmUsIDEgPSBhY3RpdmUKICAgIGJ5dGVjIDggLy8gImNvbnRyYWN0X3N0YXRlIgogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjMwMQogICAgLy8gaWYgKHRoaXMuY29udHJhY3Rfc3RhdGUudmFsdWUgPT09IG5ldyBVaW50NjQoMCkpIHsKICAgIGFwcF9nbG9iYWxfZ2V0X2V4CiAgICBhc3NlcnQgLy8gY2hlY2sgR2xvYmFsU3RhdGUgZXhpc3RzCiAgICBieXRlY18wIC8vIDB4MDAwMDAwMDAwMDAwMDAwMAogICAgPT0KICAgIGJ6IHVwZGF0ZVBvb2xfYWZ0ZXJfaWZfZWxzZUAyCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6MzAyCiAgICAvLyByZXR1cm47CiAgICByZXRzdWIKCnVwZGF0ZVBvb2xfYWZ0ZXJfaWZfZWxzZUAyOgogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjMwNQogICAgLy8gY29uc3Qgbm93OiB1aW50NjQgPSBHbG9iYWwubGF0ZXN0VGltZXN0YW1wOwogICAgZ2xvYmFsIExhdGVzdFRpbWVzdGFtcAogICAgZHVwCiAgICBmcmFtZV9idXJ5IDIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czozMDYKICAgIC8vIGNvbnN0IHN0YXJ0OiB1aW50NjQgPSB0aGlzLnN0YXJ0X3RpbWUudmFsdWUuYXNVaW50NjQoKTsKICAgIGludGNfMCAvLyAwCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6MzUKICAgIC8vIHN0YXJ0X3RpbWUgPSBHbG9iYWxTdGF0ZTxVaW50NjQ+KCk7CiAgICBieXRlYyAyMSAvLyAic3RhcnRfdGltZSIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czozMDYKICAgIC8vIGNvbnN0IHN0YXJ0OiB1aW50NjQgPSB0aGlzLnN0YXJ0X3RpbWUudmFsdWUuYXNVaW50NjQoKTsKICAgIGFwcF9nbG9iYWxfZ2V0X2V4CiAgICBhc3NlcnQgLy8gY2hlY2sgR2xvYmFsU3RhdGUgZXhpc3RzCiAgICBidG9pCiAgICBmcmFtZV9idXJ5IDUKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czozMDcKICAgIC8vIGNvbnN0IGxhc3Q6IHVpbnQ2NCA9IHRoaXMubGFzdF91cGRhdGVfdGltZS52YWx1ZS5hc1VpbnQ2NCgpOwogICAgaW50Y18wIC8vIDAKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czozNgogICAgLy8gbGFzdF91cGRhdGVfdGltZSA9IEdsb2JhbFN0YXRlPFVpbnQ2ND4oKTsKICAgIGJ5dGVjIDExIC8vICJsYXN0X3VwZGF0ZV90aW1lIgogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjMwNwogICAgLy8gY29uc3QgbGFzdDogdWludDY0ID0gdGhpcy5sYXN0X3VwZGF0ZV90aW1lLnZhbHVlLmFzVWludDY0KCk7CiAgICBhcHBfZ2xvYmFsX2dldF9leAogICAgYXNzZXJ0IC8vIGNoZWNrIEdsb2JhbFN0YXRlIGV4aXN0cwogICAgYnRvaQogICAgZHVwCiAgICBmcmFtZV9idXJ5IDEKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czozMDkKICAgIC8vIGlmIChub3cgPD0gbGFzdCkgewogICAgPD0KICAgIGJ6IHVwZGF0ZVBvb2xfYWZ0ZXJfaWZfZWxzZUA0CiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6MzEwCiAgICAvLyByZXR1cm47CiAgICByZXRzdWIKCnVwZGF0ZVBvb2xfYWZ0ZXJfaWZfZWxzZUA0OgogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjMxMwogICAgLy8gaWYgKHRoaXMucmV3YXJkc19leGhhdXN0ZWQudmFsdWUuYXNVaW50NjQoKSA9PT0gMSkgewogICAgaW50Y18wIC8vIDAKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czo0MQogICAgLy8gcmV3YXJkc19leGhhdXN0ZWQgPSBHbG9iYWxTdGF0ZTxVaW50NjQ+KCk7CiAgICBieXRlYyAxMiAvLyAicmV3YXJkc19leGhhdXN0ZWQiCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6MzEzCiAgICAvLyBpZiAodGhpcy5yZXdhcmRzX2V4aGF1c3RlZC52YWx1ZS5hc1VpbnQ2NCgpID09PSAxKSB7CiAgICBhcHBfZ2xvYmFsX2dldF9leAogICAgYXNzZXJ0IC8vIGNoZWNrIEdsb2JhbFN0YXRlIGV4aXN0cwogICAgYnRvaQogICAgaW50Y18xIC8vIDEKICAgID09CiAgICBieiB1cGRhdGVQb29sX2FmdGVyX2lmX2Vsc2VANgogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjMxNAogICAgLy8gdGhpcy5sYXN0X3VwZGF0ZV90aW1lLnZhbHVlID0gbmV3IFVpbnQ2NChub3cpOwogICAgZnJhbWVfZGlnIDIKICAgIGl0b2IKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czozNgogICAgLy8gbGFzdF91cGRhdGVfdGltZSA9IEdsb2JhbFN0YXRlPFVpbnQ2ND4oKTsKICAgIGJ5dGVjIDExIC8vICJsYXN0X3VwZGF0ZV90aW1lIgogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjMxNAogICAgLy8gdGhpcy5sYXN0X3VwZGF0ZV90aW1lLnZhbHVlID0gbmV3IFVpbnQ2NChub3cpOwogICAgc3dhcAogICAgYXBwX2dsb2JhbF9wdXQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czozMTUKICAgIC8vIHJldHVybjsKICAgIHJldHN1YgoKdXBkYXRlUG9vbF9hZnRlcl9pZl9lbHNlQDY6CiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6MzE5CiAgICAvLyBpZiAoY2FwcGVkVGltZSA8PSBzdGFydCkgewogICAgZnJhbWVfZGlnIDIKICAgIGZyYW1lX2RpZyA1CiAgICA8PQogICAgYnogdXBkYXRlUG9vbF9hZnRlcl9pZl9lbHNlQDgKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czozMjAKICAgIC8vIHRoaXMubGFzdF91cGRhdGVfdGltZS52YWx1ZSA9IG5ldyBVaW50NjQoY2FwcGVkVGltZSk7CiAgICBmcmFtZV9kaWcgMgogICAgaXRvYgogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjM2CiAgICAvLyBsYXN0X3VwZGF0ZV90aW1lID0gR2xvYmFsU3RhdGU8VWludDY0PigpOwogICAgYnl0ZWMgMTEgLy8gImxhc3RfdXBkYXRlX3RpbWUiCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6MzIwCiAgICAvLyB0aGlzLmxhc3RfdXBkYXRlX3RpbWUudmFsdWUgPSBuZXcgVWludDY0KGNhcHBlZFRpbWUpOwogICAgc3dhcAogICAgYXBwX2dsb2JhbF9wdXQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czozMjEKICAgIC8vIHJldHVybjsKICAgIHJldHN1YgoKdXBkYXRlUG9vbF9hZnRlcl9pZl9lbHNlQDg6CiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6MzI0CiAgICAvLyBjb25zdCBlZmZlY3RpdmVMYXN0OiB1aW50NjQgPSBsYXN0IDwgc3RhcnQgPyBzdGFydCA6IGxhc3Q7CiAgICBmcmFtZV9kaWcgMQogICAgZHVwCiAgICBmcmFtZV9kaWcgNQogICAgZHVwCiAgICBjb3ZlciAzCiAgICA8CiAgICBzd2FwCiAgICBjb3ZlciAyCiAgICBzZWxlY3QKICAgIGR1cAogICAgZnJhbWVfYnVyeSAwCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6MzI1CiAgICAvLyBpZiAoY2FwcGVkVGltZSA8PSBlZmZlY3RpdmVMYXN0KSB7CiAgICBmcmFtZV9kaWcgMgogICAgPj0KICAgIGJ6IHVwZGF0ZVBvb2xfYWZ0ZXJfaWZfZWxzZUAxMAogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjMyNgogICAgLy8gdGhpcy5sYXN0X3VwZGF0ZV90aW1lLnZhbHVlID0gbmV3IFVpbnQ2NChjYXBwZWRUaW1lKTsKICAgIGZyYW1lX2RpZyAyCiAgICBpdG9iCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6MzYKICAgIC8vIGxhc3RfdXBkYXRlX3RpbWUgPSBHbG9iYWxTdGF0ZTxVaW50NjQ+KCk7CiAgICBieXRlYyAxMSAvLyAibGFzdF91cGRhdGVfdGltZSIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czozMjYKICAgIC8vIHRoaXMubGFzdF91cGRhdGVfdGltZS52YWx1ZSA9IG5ldyBVaW50NjQoY2FwcGVkVGltZSk7CiAgICBzd2FwCiAgICBhcHBfZ2xvYmFsX3B1dAogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjMyNwogICAgLy8gcmV0dXJuOwogICAgcmV0c3ViCgp1cGRhdGVQb29sX2FmdGVyX2lmX2Vsc2VAMTA6CiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6MzMwCiAgICAvLyBpZiAodGhpcy50b3RhbF9zdGFrZWQudmFsdWUuYXNVaW50NjQoKSA9PT0gMCkgewogICAgaW50Y18wIC8vIDAKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czozMQogICAgLy8gdG90YWxfc3Rha2VkID0gR2xvYmFsU3RhdGU8VWludDY0PigpOwogICAgYnl0ZWNfMyAvLyAidG90YWxfc3Rha2VkIgogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjMzMAogICAgLy8gaWYgKHRoaXMudG90YWxfc3Rha2VkLnZhbHVlLmFzVWludDY0KCkgPT09IDApIHsKICAgIGFwcF9nbG9iYWxfZ2V0X2V4CiAgICBhc3NlcnQgLy8gY2hlY2sgR2xvYmFsU3RhdGUgZXhpc3RzCiAgICBidG9pCiAgICBibnogdXBkYXRlUG9vbF9hZnRlcl9pZl9lbHNlQDEyCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6MzMxCiAgICAvLyB0aGlzLmxhc3RfdXBkYXRlX3RpbWUudmFsdWUgPSBuZXcgVWludDY0KGNhcHBlZFRpbWUpOwogICAgZnJhbWVfZGlnIDIKICAgIGl0b2IKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czozNgogICAgLy8gbGFzdF91cGRhdGVfdGltZSA9IEdsb2JhbFN0YXRlPFVpbnQ2ND4oKTsKICAgIGJ5dGVjIDExIC8vICJsYXN0X3VwZGF0ZV90aW1lIgogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjMzMQogICAgLy8gdGhpcy5sYXN0X3VwZGF0ZV90aW1lLnZhbHVlID0gbmV3IFVpbnQ2NChjYXBwZWRUaW1lKTsKICAgIHN3YXAKICAgIGFwcF9nbG9iYWxfcHV0CiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6MzMyCiAgICAvLyByZXR1cm47CiAgICByZXRzdWIKCnVwZGF0ZVBvb2xfYWZ0ZXJfaWZfZWxzZUAxMjoKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czozMzUKICAgIC8vIGNvbnN0IGR1cmF0aW9uOiB1aW50NjQgPSBjYXBwZWRUaW1lIC0gZWZmZWN0aXZlTGFzdDsKICAgIGZyYW1lX2RpZyAyCiAgICBmcmFtZV9kaWcgMAogICAgLQogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjMzNgogICAgLy8gbGV0IHJld2FyZFJhdGU6IHVpbnQ2NCA9IHRoaXMucmV3YXJkX3JhdGUudmFsdWUuYXNVaW50NjQoKTsKICAgIGludGNfMCAvLyAwCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6MzQKICAgIC8vIHJld2FyZF9yYXRlID0gR2xvYmFsU3RhdGU8VWludDY0PigpOwogICAgYnl0ZWMgMjAgLy8gInJld2FyZF9yYXRlIgogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjMzNgogICAgLy8gbGV0IHJld2FyZFJhdGU6IHVpbnQ2NCA9IHRoaXMucmV3YXJkX3JhdGUudmFsdWUuYXNVaW50NjQoKTsKICAgIGFwcF9nbG9iYWxfZ2V0X2V4CiAgICBidXJ5IDEKICAgIGFzc2VydCAvLyBjaGVjayBHbG9iYWxTdGF0ZSBleGlzdHMKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czozMzcKICAgIC8vIGNvbnN0IGFubnVhbFJld2FyZCA9IG11bERpdlcodGhpcy50b3RhbF9zdGFrZWQudmFsdWUuYXNVaW50NjQoKSwgdGhpcy5hcHJfYnBzLnZhbHVlLmFzVWludDY0KCksIDEwXzAwMCk7CiAgICBpbnRjXzAgLy8gMAogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjMxCiAgICAvLyB0b3RhbF9zdGFrZWQgPSBHbG9iYWxTdGF0ZTxVaW50NjQ+KCk7CiAgICBieXRlY18zIC8vICJ0b3RhbF9zdGFrZWQiCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6MzM3CiAgICAvLyBjb25zdCBhbm51YWxSZXdhcmQgPSBtdWxEaXZXKHRoaXMudG90YWxfc3Rha2VkLnZhbHVlLmFzVWludDY0KCksIHRoaXMuYXByX2Jwcy52YWx1ZS5hc1VpbnQ2NCgpLCAxMF8wMDApOwogICAgYXBwX2dsb2JhbF9nZXRfZXgKICAgIGFzc2VydCAvLyBjaGVjayBHbG9iYWxTdGF0ZSBleGlzdHMKICAgIGJ0b2kKICAgIGludGNfMCAvLyAwCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6NDAKICAgIC8vIGFwcl9icHMgPSBHbG9iYWxTdGF0ZTxVaW50NjQ+KCk7CiAgICBieXRlYyAyMiAvLyAiYXByX2JwcyIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czozMzcKICAgIC8vIGNvbnN0IGFubnVhbFJld2FyZCA9IG11bERpdlcodGhpcy50b3RhbF9zdGFrZWQudmFsdWUuYXNVaW50NjQoKSwgdGhpcy5hcHJfYnBzLnZhbHVlLmFzVWludDY0KCksIDEwXzAwMCk7CiAgICBhcHBfZ2xvYmFsX2dldF9leAogICAgYXNzZXJ0IC8vIGNoZWNrIEdsb2JhbFN0YXRlIGV4aXN0cwogICAgYnRvaQogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvY29uZmlnLmFsZ28udHM6MjgKICAgIC8vIGNvbnN0IFtoaSwgbG9dID0gbXVsdyhhLCBiKTsKICAgIG11bHcKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czozMzcKICAgIC8vIGNvbnN0IGFubnVhbFJld2FyZCA9IG11bERpdlcodGhpcy50b3RhbF9zdGFrZWQudmFsdWUuYXNVaW50NjQoKSwgdGhpcy5hcHJfYnBzLnZhbHVlLmFzVWludDY0KCksIDEwXzAwMCk7CiAgICBpbnRjIDUgLy8gMTAwMDAKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL2NvbmZpZy5hbGdvLnRzOjI5CiAgICAvLyByZXR1cm4gZGl2dyhoaSwgbG8sIGMpOwogICAgZGl2dwogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjMzOAogICAgLy8gcmV3YXJkUmF0ZSA9IGFubnVhbFJld2FyZCAvIFNFQ09ORFNfUEVSX1lFQVI7CiAgICBwdXNoaW50IDMxNTM2MDAwIC8vIDMxNTM2MDAwCiAgICAvCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6MzQwCiAgICAvLyBsZXQgcmV3YXJkOiB1aW50NjQgPSBkdXJhdGlvbiAqIHJld2FyZFJhdGU7CiAgICAqCiAgICBkdXAKICAgIGZyYW1lX2J1cnkgNAogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjM0MQogICAgLy8gY29uc3QgcmVtYWluaW5nOiB1aW50NjQgPSB0aGlzLnRvdGFsX3Jld2FyZHMudmFsdWUuYXNVaW50NjQoKSAtIHRoaXMuYWNjcnVlZF9yZXdhcmRzLnZhbHVlLmFzVWludDY0KCk7CiAgICBpbnRjXzAgLy8gMAogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjM4CiAgICAvLyB0b3RhbF9yZXdhcmRzID0gR2xvYmFsU3RhdGU8VWludDY0PigpOwogICAgYnl0ZWMgMTMgLy8gInRvdGFsX3Jld2FyZHMiCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6MzQxCiAgICAvLyBjb25zdCByZW1haW5pbmc6IHVpbnQ2NCA9IHRoaXMudG90YWxfcmV3YXJkcy52YWx1ZS5hc1VpbnQ2NCgpIC0gdGhpcy5hY2NydWVkX3Jld2FyZHMudmFsdWUuYXNVaW50NjQoKTsKICAgIGFwcF9nbG9iYWxfZ2V0X2V4CiAgICBhc3NlcnQgLy8gY2hlY2sgR2xvYmFsU3RhdGUgZXhpc3RzCiAgICBidG9pCiAgICBpbnRjXzAgLy8gMAogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjM5CiAgICAvLyBhY2NydWVkX3Jld2FyZHMgPSBHbG9iYWxTdGF0ZTxVaW50NjQ+KCk7CiAgICBieXRlYyA3IC8vICJhY2NydWVkX3Jld2FyZHMiCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6MzQxCiAgICAvLyBjb25zdCByZW1haW5pbmc6IHVpbnQ2NCA9IHRoaXMudG90YWxfcmV3YXJkcy52YWx1ZS5hc1VpbnQ2NCgpIC0gdGhpcy5hY2NydWVkX3Jld2FyZHMudmFsdWUuYXNVaW50NjQoKTsKICAgIGFwcF9nbG9iYWxfZ2V0X2V4CiAgICBhc3NlcnQgLy8gY2hlY2sgR2xvYmFsU3RhdGUgZXhpc3RzCiAgICBidG9pCiAgICAtCiAgICBkdXAKICAgIGZyYW1lX2J1cnkgMwogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjM0MgogICAgLy8gaWYgKHJld2FyZCA+IHJlbWFpbmluZykgewogICAgPgogICAgYnogdXBkYXRlUG9vbF9hZnRlcl9pZl9lbHNlQDE0CiAgICBmcmFtZV9kaWcgMwogICAgZnJhbWVfYnVyeSA0Cgp1cGRhdGVQb29sX2FmdGVyX2lmX2Vsc2VAMTQ6CiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6MzQ1CiAgICAvLyBpZiAocmV3YXJkID09PSAwKSB7CiAgICBmcmFtZV9kaWcgNAogICAgYm56IHVwZGF0ZVBvb2xfYWZ0ZXJfaWZfZWxzZUAxOAogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjM0NgogICAgLy8gaWYgKHJlbWFpbmluZyA9PT0gMCkgewogICAgZnJhbWVfZGlnIDMKICAgIGJueiB1cGRhdGVQb29sX2FmdGVyX2lmX2Vsc2VAMTcKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czo0MQogICAgLy8gcmV3YXJkc19leGhhdXN0ZWQgPSBHbG9iYWxTdGF0ZTxVaW50NjQ+KCk7CiAgICBieXRlYyAxMiAvLyAicmV3YXJkc19leGhhdXN0ZWQiCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6MzQ3CiAgICAvLyB0aGlzLnJld2FyZHNfZXhoYXVzdGVkLnZhbHVlID0gbmV3IFVpbnQ2NCgxKTsKICAgIGJ5dGVjIDE3IC8vIDB4MDAwMDAwMDAwMDAwMDAwMQogICAgYXBwX2dsb2JhbF9wdXQKCnVwZGF0ZVBvb2xfYWZ0ZXJfaWZfZWxzZUAxNzoKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czozNDkKICAgIC8vIHRoaXMubGFzdF91cGRhdGVfdGltZS52YWx1ZSA9IG5ldyBVaW50NjQoY2FwcGVkVGltZSk7CiAgICBmcmFtZV9kaWcgMgogICAgaXRvYgogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjM2CiAgICAvLyBsYXN0X3VwZGF0ZV90aW1lID0gR2xvYmFsU3RhdGU8VWludDY0PigpOwogICAgYnl0ZWMgMTEgLy8gImxhc3RfdXBkYXRlX3RpbWUiCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6MzQ5CiAgICAvLyB0aGlzLmxhc3RfdXBkYXRlX3RpbWUudmFsdWUgPSBuZXcgVWludDY0KGNhcHBlZFRpbWUpOwogICAgc3dhcAogICAgYXBwX2dsb2JhbF9wdXQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czozNTAKICAgIC8vIHJldHVybjsKICAgIHJldHN1YgoKdXBkYXRlUG9vbF9hZnRlcl9pZl9lbHNlQDE4OgogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjM1MwogICAgLy8gdGhpcy5hY2NydWVkX3Jld2FyZHMudmFsdWUgPSBuZXcgVWludDY0KHRoaXMuYWNjcnVlZF9yZXdhcmRzLnZhbHVlLmFzVWludDY0KCkgKyByZXdhcmQpOwogICAgaW50Y18wIC8vIDAKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czozOQogICAgLy8gYWNjcnVlZF9yZXdhcmRzID0gR2xvYmFsU3RhdGU8VWludDY0PigpOwogICAgYnl0ZWMgNyAvLyAiYWNjcnVlZF9yZXdhcmRzIgogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjM1MwogICAgLy8gdGhpcy5hY2NydWVkX3Jld2FyZHMudmFsdWUgPSBuZXcgVWludDY0KHRoaXMuYWNjcnVlZF9yZXdhcmRzLnZhbHVlLmFzVWludDY0KCkgKyByZXdhcmQpOwogICAgYXBwX2dsb2JhbF9nZXRfZXgKICAgIGFzc2VydCAvLyBjaGVjayBHbG9iYWxTdGF0ZSBleGlzdHMKICAgIGJ0b2kKICAgIGZyYW1lX2RpZyA0CiAgICBkdXAKICAgIGNvdmVyIDIKICAgICsKICAgIGl0b2IKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czozOQogICAgLy8gYWNjcnVlZF9yZXdhcmRzID0gR2xvYmFsU3RhdGU8VWludDY0PigpOwogICAgYnl0ZWMgNyAvLyAiYWNjcnVlZF9yZXdhcmRzIgogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjM1MwogICAgLy8gdGhpcy5hY2NydWVkX3Jld2FyZHMudmFsdWUgPSBuZXcgVWludDY0KHRoaXMuYWNjcnVlZF9yZXdhcmRzLnZhbHVlLmFzVWludDY0KCkgKyByZXdhcmQpOwogICAgc3dhcAogICAgYXBwX2dsb2JhbF9wdXQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czozNTQKICAgIC8vIGNvbnN0IGRlbHRhUlBUID0gbXVsRGl2VyhyZXdhcmQsIFBSRUNJU0lPTiwgdGhpcy50b3RhbF9zdGFrZWQudmFsdWUuYXNVaW50NjQoKSk7CiAgICBpbnRjXzAgLy8gMAogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjMxCiAgICAvLyB0b3RhbF9zdGFrZWQgPSBHbG9iYWxTdGF0ZTxVaW50NjQ+KCk7CiAgICBieXRlY18zIC8vICJ0b3RhbF9zdGFrZWQiCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6MzU0CiAgICAvLyBjb25zdCBkZWx0YVJQVCA9IG11bERpdlcocmV3YXJkLCBQUkVDSVNJT04sIHRoaXMudG90YWxfc3Rha2VkLnZhbHVlLmFzVWludDY0KCkpOwogICAgYXBwX2dsb2JhbF9nZXRfZXgKICAgIGFzc2VydCAvLyBjaGVjayBHbG9iYWxTdGF0ZSBleGlzdHMKICAgIGJ0b2kKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL2NvbmZpZy5hbGdvLnRzOjI3CiAgICAvLyBhc3NlcnQoYyA+IDAsICJtdWxEaXZXOiBkaXZpc2lvbiBieSB6ZXJvIik7CiAgICBkdXAKICAgIGFzc2VydCAvLyBtdWxEaXZXOiBkaXZpc2lvbiBieSB6ZXJvCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9jb25maWcuYWxnby50czoyOAogICAgLy8gY29uc3QgW2hpLCBsb10gPSBtdWx3KGEsIGIpOwogICAgc3dhcAogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjM1NAogICAgLy8gY29uc3QgZGVsdGFSUFQgPSBtdWxEaXZXKHJld2FyZCwgUFJFQ0lTSU9OLCB0aGlzLnRvdGFsX3N0YWtlZC52YWx1ZS5hc1VpbnQ2NCgpKTsKICAgIGludGMgNCAvLyAxMDAwMDAwMDAwMDAwMDAwCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9jb25maWcuYWxnby50czoyOAogICAgLy8gY29uc3QgW2hpLCBsb10gPSBtdWx3KGEsIGIpOwogICAgbXVsdwogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvY29uZmlnLmFsZ28udHM6MjkKICAgIC8vIHJldHVybiBkaXZ3KGhpLCBsbywgYyk7CiAgICB1bmNvdmVyIDIKICAgIGRpdncKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czozNTUKICAgIC8vIHRoaXMucmV3YXJkX3Blcl90b2tlbi52YWx1ZSA9IG5ldyBVaW50NjQodGhpcy5yZXdhcmRfcGVyX3Rva2VuLnZhbHVlLmFzVWludDY0KCkgKyBkZWx0YVJQVCk7CiAgICBpbnRjXzAgLy8gMAogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjMyCiAgICAvLyByZXdhcmRfcGVyX3Rva2VuID0gR2xvYmFsU3RhdGU8VWludDY0PigpOwogICAgYnl0ZWMgOSAvLyAicmV3YXJkX3Blcl90b2tlbiIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czozNTUKICAgIC8vIHRoaXMucmV3YXJkX3Blcl90b2tlbi52YWx1ZSA9IG5ldyBVaW50NjQodGhpcy5yZXdhcmRfcGVyX3Rva2VuLnZhbHVlLmFzVWludDY0KCkgKyBkZWx0YVJQVCk7CiAgICBhcHBfZ2xvYmFsX2dldF9leAogICAgYXNzZXJ0IC8vIGNoZWNrIEdsb2JhbFN0YXRlIGV4aXN0cwogICAgYnRvaQogICAgKwogICAgaXRvYgogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjMyCiAgICAvLyByZXdhcmRfcGVyX3Rva2VuID0gR2xvYmFsU3RhdGU8VWludDY0PigpOwogICAgYnl0ZWMgOSAvLyAicmV3YXJkX3Blcl90b2tlbiIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czozNTUKICAgIC8vIHRoaXMucmV3YXJkX3Blcl90b2tlbi52YWx1ZSA9IG5ldyBVaW50NjQodGhpcy5yZXdhcmRfcGVyX3Rva2VuLnZhbHVlLmFzVWludDY0KCkgKyBkZWx0YVJQVCk7CiAgICBzd2FwCiAgICBhcHBfZ2xvYmFsX3B1dAogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjM1NgogICAgLy8gdGhpcy5sYXN0X3VwZGF0ZV90aW1lLnZhbHVlID0gbmV3IFVpbnQ2NChjYXBwZWRUaW1lKTsKICAgIGZyYW1lX2RpZyAyCiAgICBpdG9iCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6MzYKICAgIC8vIGxhc3RfdXBkYXRlX3RpbWUgPSBHbG9iYWxTdGF0ZTxVaW50NjQ+KCk7CiAgICBieXRlYyAxMSAvLyAibGFzdF91cGRhdGVfdGltZSIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czozNTYKICAgIC8vIHRoaXMubGFzdF91cGRhdGVfdGltZS52YWx1ZSA9IG5ldyBVaW50NjQoY2FwcGVkVGltZSk7CiAgICBzd2FwCiAgICBhcHBfZ2xvYmFsX3B1dAogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjM1NwogICAgLy8gaWYgKHRoaXMuYWNjcnVlZF9yZXdhcmRzLnZhbHVlLmFzVWludDY0KCkgPT09IHRoaXMudG90YWxfcmV3YXJkcy52YWx1ZS5hc1VpbnQ2NCgpKSB7CiAgICBpbnRjXzAgLy8gMAogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjM5CiAgICAvLyBhY2NydWVkX3Jld2FyZHMgPSBHbG9iYWxTdGF0ZTxVaW50NjQ+KCk7CiAgICBieXRlYyA3IC8vICJhY2NydWVkX3Jld2FyZHMiCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6MzU3CiAgICAvLyBpZiAodGhpcy5hY2NydWVkX3Jld2FyZHMudmFsdWUuYXNVaW50NjQoKSA9PT0gdGhpcy50b3RhbF9yZXdhcmRzLnZhbHVlLmFzVWludDY0KCkpIHsKICAgIGFwcF9nbG9iYWxfZ2V0X2V4CiAgICBhc3NlcnQgLy8gY2hlY2sgR2xvYmFsU3RhdGUgZXhpc3RzCiAgICBidG9pCiAgICBpbnRjXzAgLy8gMAogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjM4CiAgICAvLyB0b3RhbF9yZXdhcmRzID0gR2xvYmFsU3RhdGU8VWludDY0PigpOwogICAgYnl0ZWMgMTMgLy8gInRvdGFsX3Jld2FyZHMiCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6MzU3CiAgICAvLyBpZiAodGhpcy5hY2NydWVkX3Jld2FyZHMudmFsdWUuYXNVaW50NjQoKSA9PT0gdGhpcy50b3RhbF9yZXdhcmRzLnZhbHVlLmFzVWludDY0KCkpIHsKICAgIGFwcF9nbG9iYWxfZ2V0X2V4CiAgICBhc3NlcnQgLy8gY2hlY2sgR2xvYmFsU3RhdGUgZXhpc3RzCiAgICBidG9pCiAgICA9PQogICAgYnogdXBkYXRlUG9vbF9hZnRlcl9pZl9lbHNlQDIwCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6NDEKICAgIC8vIHJld2FyZHNfZXhoYXVzdGVkID0gR2xvYmFsU3RhdGU8VWludDY0PigpOwogICAgYnl0ZWMgMTIgLy8gInJld2FyZHNfZXhoYXVzdGVkIgogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjM1OAogICAgLy8gdGhpcy5yZXdhcmRzX2V4aGF1c3RlZC52YWx1ZSA9IG5ldyBVaW50NjQoMSk7CiAgICBieXRlYyAxNyAvLyAweDAwMDAwMDAwMDAwMDAwMDEKICAgIGFwcF9nbG9iYWxfcHV0Cgp1cGRhdGVQb29sX2FmdGVyX2lmX2Vsc2VAMjA6CiAgICByZXRzdWIK",
        "clear": "I3ByYWdtYSB2ZXJzaW9uIDExCiNwcmFnbWEgdHlwZXRyYWNrIGZhbHNlCgovLyBAYWxnb3JhbmRmb3VuZGF0aW9uL2FsZ29yYW5kLXR5cGVzY3JpcHQvYmFzZS1jb250cmFjdC5kLnRzOjpCYXNlQ29udHJhY3QuY2xlYXJTdGF0ZVByb2dyYW0oKSAtPiB1aW50NjQ6Cm1haW46CiAgICBwdXNoaW50IDEgLy8gMQogICAgcmV0dXJuCg=="
    },
    "state": {
        "global": {
            "num_byte_slices": 20,
            "num_uints": 1
        },
        "local": {
            "num_byte_slices": 0,
            "num_uints": 0
        }
    },
    "schema": {
        "global": {
            "declared": {
                "accrued_rewards": {
                    "type": "bytes",
                    "key": "accrued_rewards"
                },
                "admin_address": {
                    "type": "bytes",
                    "key": "admin_address"
                },
                "apr_bps": {
                    "type": "bytes",
                    "key": "apr_bps"
                },
                "contract_state": {
                    "type": "bytes",
                    "key": "contract_state"
                },
                "contract_version": {
                    "type": "bytes",
                    "key": "contract_version"
                },
                "initialized": {
                    "type": "bytes",
                    "key": "initialized"
                },
                "last_update_time": {
                    "type": "bytes",
                    "key": "last_update_time"
                },
                "master_repo_app": {
                    "type": "uint64",
                    "key": "master_repo_app"
                },
                "num_stakers": {
                    "type": "bytes",
                    "key": "num_stakers"
                },
                "platform_fee_bps": {
                    "type": "bytes",
                    "key": "platform_fee_bps"
                },
                "platform_fees_accrued": {
                    "type": "bytes",
                    "key": "platform_fees_accrued"
                },
                "reward_asset_id": {
                    "type": "bytes",
                    "key": "reward_asset_id"
                },
                "reward_per_token": {
                    "type": "bytes",
                    "key": "reward_per_token"
                },
                "reward_rate": {
                    "type": "bytes",
                    "key": "reward_rate"
                },
                "rewards_exhausted": {
                    "type": "bytes",
                    "key": "rewards_exhausted"
                },
                "rewards_paid": {
                    "type": "bytes",
                    "key": "rewards_paid"
                },
                "staked_asset_id": {
                    "type": "bytes",
                    "key": "staked_asset_id"
                },
                "start_time": {
                    "type": "bytes",
                    "key": "start_time"
                },
                "super_admin_address": {
                    "type": "bytes",
                    "key": "super_admin_address"
                },
                "total_rewards": {
                    "type": "bytes",
                    "key": "total_rewards"
                },
                "total_staked": {
                    "type": "bytes",
                    "key": "total_staked"
                }
            },
            "reserved": {}
        },
        "local": {
            "declared": {},
            "reserved": {}
        }
    },
    "contract": {
        "name": "staking",
        "methods": [
            {
                "name": "createApplication",
                "args": [
                    {
                        "type": "address",
                        "name": "adminAddress"
                    },
                    {
                        "type": "uint64",
                        "name": "masterRepoApp"
                    }
                ],
                "readonly": false,
                "returns": {
                    "type": "void"
                }
            },
            {
                "name": "initApplication",
                "args": [
                    {
                        "type": "uint64",
                        "name": "stakedAssetId"
                    },
                    {
                        "type": "uint64",
                        "name": "rewardAssetId"
                    },
                    {
                        "type": "uint64",
                        "name": "rewardAmount"
                    },
                    {
                        "type": "uint64",
                        "name": "aprBps"
                    },
                    {
                        "type": "uint64",
                        "name": "startTime"
                    },
                    {
                        "type": "uint64",
                        "name": "duration"
                    },
                    {
                        "type": "pay",
                        "name": "initialBalanceTxn"
                    }
                ],
                "readonly": false,
                "returns": {
                    "type": "void"
                }
            },
            {
                "name": "fundRewards",
                "args": [
                    {
                        "type": "axfer",
                        "name": "rewardFundingTxn"
                    },
                    {
                        "type": "uint64",
                        "name": "rewardAmount"
                    }
                ],
                "readonly": false,
                "returns": {
                    "type": "void"
                }
            },
            {
                "name": "fundMoreRewards",
                "args": [
                    {
                        "type": "axfer",
                        "name": "rewardFundingTxn"
                    },
                    {
                        "type": "uint64",
                        "name": "rewardAmount"
                    }
                ],
                "readonly": false,
                "returns": {
                    "type": "void"
                }
            },
            {
                "name": "removeRewards",
                "args": [],
                "readonly": false,
                "returns": {
                    "type": "void"
                }
            },
            {
                "name": "setContractActive",
                "args": [],
                "readonly": false,
                "returns": {
                    "type": "void"
                }
            },
            {
                "name": "setContractInactive",
                "args": [],
                "readonly": false,
                "returns": {
                    "type": "void"
                }
            },
            {
                "name": "updateAdminAddress",
                "args": [
                    {
                        "type": "address",
                        "name": "adminAddress"
                    }
                ],
                "readonly": false,
                "returns": {
                    "type": "void"
                }
            },
            {
                "name": "updateSuperAdminAddress",
                "args": [
                    {
                        "type": "address",
                        "name": "superAdminAddress"
                    }
                ],
                "readonly": false,
                "returns": {
                    "type": "void"
                }
            },
            {
                "name": "withdrawPlatformFees",
                "args": [
                    {
                        "type": "address",
                        "name": "receiver"
                    }
                ],
                "readonly": false,
                "returns": {
                    "type": "void"
                }
            },
            {
                "name": "emergencyWithdrawAsset",
                "args": [
                    {
                        "type": "uint64",
                        "name": "assetId"
                    },
                    {
                        "type": "uint64",
                        "name": "amount"
                    },
                    {
                        "type": "address",
                        "name": "receiver"
                    }
                ],
                "readonly": false,
                "returns": {
                    "type": "void"
                }
            },
            {
                "name": "stake",
                "args": [
                    {
                        "type": "axfer",
                        "name": "stakeTxn"
                    },
                    {
                        "type": "uint64",
                        "name": "quantity"
                    },
                    {
                        "type": "pay",
                        "name": "mbrTxn"
                    }
                ],
                "readonly": false,
                "returns": {
                    "type": "void"
                }
            },
            {
                "name": "claimRewards",
                "args": [],
                "readonly": false,
                "returns": {
                    "type": "void"
                }
            },
            {
                "name": "unstake",
                "args": [
                    {
                        "type": "uint64",
                        "name": "quantity"
                    }
                ],
                "readonly": false,
                "returns": {
                    "type": "void"
                }
            },
            {
                "name": "deleteApplication",
                "args": [],
                "readonly": false,
                "returns": {
                    "type": "void"
                }
            },
            {
                "name": "gas",
                "args": [],
                "readonly": false,
                "returns": {
                    "type": "void"
                }
            }
        ],
        "networks": {}
    },
    "bare_call_config": {}
}