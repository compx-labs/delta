{
    "hints": {
        "createApplication(address,uint64)void": {
            "call_config": {
                "no_op": "CREATE"
            }
        },
        "initApplication(uint64,uint64,uint64,uint64,uint64,uint64,pay)void": {
            "call_config": {
                "no_op": "CALL"
            }
        },
        "fundRewards(axfer,uint64)void": {
            "call_config": {
                "no_op": "CALL"
            }
        },
        "fundMoreRewards(axfer,uint64)void": {
            "call_config": {
                "no_op": "CALL"
            }
        },
        "removeRewards()void": {
            "call_config": {
                "no_op": "CALL"
            }
        },
        "setContractActive()void": {
            "call_config": {
                "no_op": "CALL"
            }
        },
        "setContractInactive()void": {
            "call_config": {
                "no_op": "CALL"
            }
        },
        "updateAdminAddress(address)void": {
            "call_config": {
                "no_op": "CALL"
            }
        },
        "withdrawPlatformFees(address)void": {
            "call_config": {
                "no_op": "CALL"
            }
        },
        "stake(axfer,uint64,pay)void": {
            "call_config": {
                "no_op": "CALL"
            }
        },
        "claimRewards()void": {
            "call_config": {
                "no_op": "CALL"
            }
        },
        "unstake(uint64)void": {
            "call_config": {
                "no_op": "CALL"
            }
        },
        "deleteApplication()void": {
            "call_config": {
                "delete_application": "CALL"
            }
        },
        "gas()void": {
            "call_config": {
                "no_op": "CALL"
            }
        }
    },
    "source": {
        "approval": "I3ByYWdtYSB2ZXJzaW9uIDExCiNwcmFnbWEgdHlwZXRyYWNrIGZhbHNlCgovLyBAYWxnb3JhbmRmb3VuZGF0aW9uL2FsZ29yYW5kLXR5cGVzY3JpcHQvYXJjNC9pbmRleC5kLnRzOjpDb250cmFjdC5hcHByb3ZhbFByb2dyYW0oKSAtPiB1aW50NjQ6Cm1haW46CiAgICBpbnRjYmxvY2sgMCAxIDggNCAxMDAwMDAwMDAwMDAwMDAwIDEwMDAwIDIyNTAwIDMxNTM2MDAwCiAgICBieXRlY2Jsb2NrIDB4MDAwMDAwMDAwMDAwMDAwMCAiYWRtaW5fYWRkcmVzcyIgInJld2FyZHNfcGFpZCIgInN0IiAicGxhdGZvcm1fZmVlc19hY2NydWVkIiAidG90YWxfc3Rha2VkIiAicmV3YXJkX2Fzc2V0X2lkIiAiYWNjcnVlZF9yZXdhcmRzIiAiY29udHJhY3Rfc3RhdGUiICJyZXdhcmRfcGVyX3Rva2VuIiAibGFzdF91cGRhdGVfdGltZSIgInJld2FyZHNfZXhoYXVzdGVkIiAibnVtX3N0YWtlcnMiICJ0b3RhbF9yZXdhcmRzIiAweDAwMDAwMDAwMDAwMDAwMDEgInBsYXRmb3JtX2ZlZV9icHMiICJzdGFrZWRfYXNzZXRfaWQiICJzdXBlcl9hZG1pbl9hZGRyZXNzIiAibWFzdGVyX3JlcG9fYXBwIiAiaW5pdGlhbGl6ZWQiICJzdGFrZV90b19yZXdhcmRfc2NhbGVfbnVtIiAic3Rha2VfdG9fcmV3YXJkX3NjYWxlX2RlbiIgInJld2FyZF9yYXRlIiAic3RhcnRfdGltZSIgImFwcl9icHMiIDB4MTUxZjdjNzUKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czoyNC0yNQogICAgLy8gQGNvbnRyYWN0KHsgbmFtZTogInN0YWtpbmciLCBhdm1WZXJzaW9uOiAxMSB9KQogICAgLy8gZXhwb3J0IGNsYXNzIFN0YWtpbmcgZXh0ZW5kcyBDb250cmFjdCB7CiAgICBwdXNoYnl0ZXMgMHgyNDg3YzMyYyAvLyBtZXRob2QgImRlbGV0ZUFwcGxpY2F0aW9uKCl2b2lkIgogICAgdHhuYSBBcHBsaWNhdGlvbkFyZ3MgMAogICAgbWF0Y2ggbWFpbl9kZWxldGVBcHBsaWNhdGlvbl9yb3V0ZUAyCgptYWluX3N3aXRjaF9jYXNlX25leHRAMzoKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czoyNC0yNQogICAgLy8gQGNvbnRyYWN0KHsgbmFtZTogInN0YWtpbmciLCBhdm1WZXJzaW9uOiAxMSB9KQogICAgLy8gZXhwb3J0IGNsYXNzIFN0YWtpbmcgZXh0ZW5kcyBDb250cmFjdCB7CiAgICB0eG4gT25Db21wbGV0aW9uCiAgICAhCiAgICBhc3NlcnQgLy8gT25Db21wbGV0aW9uIG11c3QgYmUgTm9PcAogICAgdHhuIEFwcGxpY2F0aW9uSUQKICAgIGJ6IG1haW5fY3JlYXRlX05vT3BAMTgKICAgIHB1c2hieXRlc3MgMHg3NzM2YTQ1MSAweDgyNjRjOThlIDB4NzFiZmZmMTEgMHg1NjEzNDQxMSAweGMzYmQ3ZWQ0IDB4ZGEyNzAwNGEgMHhhM2ZlYTQwZiAweDkwN2RmM2Y2IDB4N2E5ZWUxODkgMHhhNWFlNmJkMSAweDgxM2NlODlhIDB4MzE3MmNhOWQgLy8gbWV0aG9kICJpbml0QXBwbGljYXRpb24odWludDY0LHVpbnQ2NCx1aW50NjQsdWludDY0LHVpbnQ2NCx1aW50NjQscGF5KXZvaWQiLCBtZXRob2QgImZ1bmRSZXdhcmRzKGF4ZmVyLHVpbnQ2NCl2b2lkIiwgbWV0aG9kICJmdW5kTW9yZVJld2FyZHMoYXhmZXIsdWludDY0KXZvaWQiLCBtZXRob2QgInJlbW92ZVJld2FyZHMoKXZvaWQiLCBtZXRob2QgInNldENvbnRyYWN0QWN0aXZlKCl2b2lkIiwgbWV0aG9kICJzZXRDb250cmFjdEluYWN0aXZlKCl2b2lkIiwgbWV0aG9kICJ1cGRhdGVBZG1pbkFkZHJlc3MoYWRkcmVzcyl2b2lkIiwgbWV0aG9kICJ3aXRoZHJhd1BsYXRmb3JtRmVlcyhhZGRyZXNzKXZvaWQiLCBtZXRob2QgInN0YWtlKGF4ZmVyLHVpbnQ2NCxwYXkpdm9pZCIsIG1ldGhvZCAiY2xhaW1SZXdhcmRzKCl2b2lkIiwgbWV0aG9kICJ1bnN0YWtlKHVpbnQ2NCl2b2lkIiwgbWV0aG9kICJnYXMoKXZvaWQiCiAgICB0eG5hIEFwcGxpY2F0aW9uQXJncyAwCiAgICBtYXRjaCBpbml0QXBwbGljYXRpb24gZnVuZFJld2FyZHMgZnVuZE1vcmVSZXdhcmRzIHJlbW92ZVJld2FyZHMgc2V0Q29udHJhY3RBY3RpdmUgc2V0Q29udHJhY3RJbmFjdGl2ZSB1cGRhdGVBZG1pbkFkZHJlc3Mgd2l0aGRyYXdQbGF0Zm9ybUZlZXMgc3Rha2UgY2xhaW1SZXdhcmRzIHVuc3Rha2UgbWFpbl9nYXNfcm91dGVAMTYKICAgIGVycgoKbWFpbl9nYXNfcm91dGVAMTY6CiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6NTQ5CiAgICAvLyBAYWJpbWV0aG9kKHsgYWxsb3dBY3Rpb25zOiAiTm9PcCIgfSkKICAgIGludGNfMSAvLyAxCiAgICByZXR1cm4KCm1haW5fY3JlYXRlX05vT3BAMTg6CiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6MjQtMjUKICAgIC8vIEBjb250cmFjdCh7IG5hbWU6ICJzdGFraW5nIiwgYXZtVmVyc2lvbjogMTEgfSkKICAgIC8vIGV4cG9ydCBjbGFzcyBTdGFraW5nIGV4dGVuZHMgQ29udHJhY3QgewogICAgcHVzaGJ5dGVzIDB4Y2QxOWYxYTYgLy8gbWV0aG9kICJjcmVhdGVBcHBsaWNhdGlvbihhZGRyZXNzLHVpbnQ2NCl2b2lkIgogICAgdHhuYSBBcHBsaWNhdGlvbkFyZ3MgMAogICAgbWF0Y2ggY3JlYXRlQXBwbGljYXRpb24KICAgIGVycgoKbWFpbl9kZWxldGVBcHBsaWNhdGlvbl9yb3V0ZUAyOgogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjUxNAogICAgLy8gQGFiaW1ldGhvZCh7IGFsbG93QWN0aW9uczogIkRlbGV0ZUFwcGxpY2F0aW9uIiB9KQogICAgdHhuIE9uQ29tcGxldGlvbgogICAgcHVzaGludCA1IC8vIERlbGV0ZUFwcGxpY2F0aW9uCiAgICA9PQogICAgdHhuIEFwcGxpY2F0aW9uSUQKICAgICYmCiAgICBhc3NlcnQgLy8gT25Db21wbGV0aW9uIG11c3QgYmUgRGVsZXRlQXBwbGljYXRpb24gJiYgY2FuIG9ubHkgY2FsbCB3aGVuIG5vdCBjcmVhdGluZwogICAgYiBkZWxldGVBcHBsaWNhdGlvbgoKCi8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czo6U3Rha2luZy5jcmVhdGVBcHBsaWNhdGlvbltyb3V0aW5nXSgpIC0+IHZvaWQ6CmNyZWF0ZUFwcGxpY2F0aW9uOgogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjU4CiAgICAvLyBAYWJpbWV0aG9kKHsgYWxsb3dBY3Rpb25zOiAiTm9PcCIsIG9uQ3JlYXRlOiAicmVxdWlyZSIgfSkKICAgIHR4bmEgQXBwbGljYXRpb25BcmdzIDEKICAgIGR1cAogICAgbGVuCiAgICBwdXNoaW50IDMyIC8vIDMyCiAgICA9PQogICAgYXNzZXJ0IC8vIGludmFsaWQgbnVtYmVyIG9mIGJ5dGVzIGZvciBhcmM0LnN0YXRpY19hcnJheTxhcmM0LnVpbnQ4LCAzMj4KICAgIHR4bmEgQXBwbGljYXRpb25BcmdzIDIKICAgIGR1cAogICAgbGVuCiAgICBpbnRjXzIgLy8gOAogICAgPT0KICAgIGFzc2VydCAvLyBpbnZhbGlkIG51bWJlciBvZiBieXRlcyBmb3IgYXJjNC51aW50NjQKICAgIGJ0b2kKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czo0OQogICAgLy8gYWRtaW5fYWRkcmVzcyA9IEdsb2JhbFN0YXRlPEFjY291bnQ+KCk7CiAgICBieXRlY18xIC8vICJhZG1pbl9hZGRyZXNzIgogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjYwCiAgICAvLyB0aGlzLmFkbWluX2FkZHJlc3MudmFsdWUgPSBhZG1pbkFkZHJlc3MubmF0aXZlOwogICAgdW5jb3ZlciAyCiAgICBhcHBfZ2xvYmFsX3B1dAogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjUyCiAgICAvLyBjb250cmFjdF92ZXJzaW9uID0gR2xvYmFsU3RhdGU8VWludDY0PigpOwogICAgcHVzaGJ5dGVzcyAiY29udHJhY3RfdmVyc2lvbiIgMHgwMDAwMDAwMDAwMDAwZmEwIC8vICJjb250cmFjdF92ZXJzaW9uIiwgMHgwMDAwMDAwMDAwMDAwZmEwCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6NjEKICAgIC8vIHRoaXMuY29udHJhY3RfdmVyc2lvbi52YWx1ZSA9IG5ldyBVaW50NjQoVkVSU0lPTik7CiAgICBhcHBfZ2xvYmFsX3B1dAogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjUzCiAgICAvLyBjb250cmFjdF9zdGF0ZSA9IEdsb2JhbFN0YXRlPFVpbnQ2ND4oKTsgLy8gMCA9IGluYWN0aXZlLCAxID0gYWN0aXZlCiAgICBieXRlYyA4IC8vICJjb250cmFjdF9zdGF0ZSIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czo2MgogICAgLy8gdGhpcy5jb250cmFjdF9zdGF0ZS52YWx1ZSA9IG5ldyBVaW50NjQoMCk7CiAgICBieXRlY18wIC8vIDB4MDAwMDAwMDAwMDAwMDAwMAogICAgYXBwX2dsb2JhbF9wdXQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czo1NAogICAgLy8gbWFzdGVyX3JlcG9fYXBwID0gR2xvYmFsU3RhdGU8QXBwbGljYXRpb24+KCk7CiAgICBieXRlYyAxOCAvLyAibWFzdGVyX3JlcG9fYXBwIgogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjYzCiAgICAvLyB0aGlzLm1hc3Rlcl9yZXBvX2FwcC52YWx1ZSA9IG1hc3RlclJlcG9BcHA7CiAgICBzd2FwCiAgICBhcHBfZ2xvYmFsX3B1dAogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjU1CiAgICAvLyBwbGF0Zm9ybV9mZWVfYnBzID0gR2xvYmFsU3RhdGU8VWludDY0PigpOwogICAgYnl0ZWMgMTUgLy8gInBsYXRmb3JtX2ZlZV9icHMiCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6NjQKICAgIC8vIHRoaXMucGxhdGZvcm1fZmVlX2Jwcy52YWx1ZSA9IG5ldyBVaW50NjQoMCk7CiAgICBieXRlY18wIC8vIDB4MDAwMDAwMDAwMDAwMDAwMAogICAgYXBwX2dsb2JhbF9wdXQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czo1NgogICAgLy8gcGxhdGZvcm1fZmVlc19hY2NydWVkID0gR2xvYmFsU3RhdGU8VWludDY0PigpOwogICAgYnl0ZWMgNCAvLyAicGxhdGZvcm1fZmVlc19hY2NydWVkIgogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjY1CiAgICAvLyB0aGlzLnBsYXRmb3JtX2ZlZXNfYWNjcnVlZC52YWx1ZSA9IG5ldyBVaW50NjQoMCk7CiAgICBieXRlY18wIC8vIDB4MDAwMDAwMDAwMDAwMDAwMAogICAgYXBwX2dsb2JhbF9wdXQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czo0NgogICAgLy8gcmV3YXJkc19wYWlkID0gR2xvYmFsU3RhdGU8VWludDY0PigpOwogICAgYnl0ZWNfMiAvLyAicmV3YXJkc19wYWlkIgogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjY2CiAgICAvLyB0aGlzLnJld2FyZHNfcGFpZC52YWx1ZSA9IG5ldyBVaW50NjQoMCk7CiAgICBieXRlY18wIC8vIDB4MDAwMDAwMDAwMDAwMDAwMAogICAgYXBwX2dsb2JhbF9wdXQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czo0NwogICAgLy8gaW5pdGlhbGl6ZWQgPSBHbG9iYWxTdGF0ZTxVaW50NjQ+KCk7CiAgICBieXRlYyAxOSAvLyAiaW5pdGlhbGl6ZWQiCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6NjcKICAgIC8vIHRoaXMuaW5pdGlhbGl6ZWQudmFsdWUgPSBuZXcgVWludDY0KDApOwogICAgYnl0ZWNfMCAvLyAweDAwMDAwMDAwMDAwMDAwMDAKICAgIGFwcF9nbG9iYWxfcHV0CiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6MzEKICAgIC8vIHRvdGFsX3N0YWtlZCA9IEdsb2JhbFN0YXRlPFVpbnQ2ND4oKTsKICAgIGJ5dGVjIDUgLy8gInRvdGFsX3N0YWtlZCIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czo2OAogICAgLy8gdGhpcy50b3RhbF9zdGFrZWQudmFsdWUgPSBuZXcgVWludDY0KDApOwogICAgYnl0ZWNfMCAvLyAweDAwMDAwMDAwMDAwMDAwMDAKICAgIGFwcF9nbG9iYWxfcHV0CiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6NTEKICAgIC8vIG51bV9zdGFrZXJzID0gR2xvYmFsU3RhdGU8VWludDY0PigpOwogICAgYnl0ZWMgMTIgLy8gIm51bV9zdGFrZXJzIgogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjY5CiAgICAvLyB0aGlzLm51bV9zdGFrZXJzLnZhbHVlID0gbmV3IFVpbnQ2NCgwKTsKICAgIGJ5dGVjXzAgLy8gMHgwMDAwMDAwMDAwMDAwMDAwCiAgICBhcHBfZ2xvYmFsX3B1dAogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjU4CiAgICAvLyBAYWJpbWV0aG9kKHsgYWxsb3dBY3Rpb25zOiAiTm9PcCIsIG9uQ3JlYXRlOiAicmVxdWlyZSIgfSkKICAgIGludGNfMSAvLyAxCiAgICByZXR1cm4KCgovLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6OlN0YWtpbmcuaW5pdEFwcGxpY2F0aW9uW3JvdXRpbmddKCkgLT4gdm9pZDoKaW5pdEFwcGxpY2F0aW9uOgogICAgcHVzaGJ5dGVzICIiCiAgICBkdXBuIDIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czo3MgogICAgLy8gQGFiaW1ldGhvZCh7IGFsbG93QWN0aW9uczogIk5vT3AiIH0pCiAgICB0eG5hIEFwcGxpY2F0aW9uQXJncyAxCiAgICBkdXBuIDIKICAgIGxlbgogICAgaW50Y18yIC8vIDgKICAgID09CiAgICBhc3NlcnQgLy8gaW52YWxpZCBudW1iZXIgb2YgYnl0ZXMgZm9yIGFyYzQudWludDY0CiAgICBidG9pCiAgICB0eG5hIEFwcGxpY2F0aW9uQXJncyAyCiAgICBkdXBuIDIKICAgIGxlbgogICAgaW50Y18yIC8vIDgKICAgID09CiAgICBhc3NlcnQgLy8gaW52YWxpZCBudW1iZXIgb2YgYnl0ZXMgZm9yIGFyYzQudWludDY0CiAgICBidG9pCiAgICB0eG5hIEFwcGxpY2F0aW9uQXJncyAzCiAgICBkdXBuIDIKICAgIGxlbgogICAgaW50Y18yIC8vIDgKICAgID09CiAgICBhc3NlcnQgLy8gaW52YWxpZCBudW1iZXIgb2YgYnl0ZXMgZm9yIGFyYzQudWludDY0CiAgICBidG9pCiAgICB0eG5hIEFwcGxpY2F0aW9uQXJncyA0CiAgICBkdXAKICAgIGNvdmVyIDIKICAgIGR1cAogICAgbGVuCiAgICBpbnRjXzIgLy8gOAogICAgPT0KICAgIGFzc2VydCAvLyBpbnZhbGlkIG51bWJlciBvZiBieXRlcyBmb3IgYXJjNC51aW50NjQKICAgIGJ0b2kKICAgIHR4bmEgQXBwbGljYXRpb25BcmdzIDUKICAgIGR1cAogICAgbGVuCiAgICBpbnRjXzIgLy8gOAogICAgPT0KICAgIGFzc2VydCAvLyBpbnZhbGlkIG51bWJlciBvZiBieXRlcyBmb3IgYXJjNC51aW50NjQKICAgIGJ0b2kKICAgIGR1cAogICAgY292ZXIgMwogICAgdHhuYSBBcHBsaWNhdGlvbkFyZ3MgNgogICAgZHVwCiAgICBsZW4KICAgIGludGNfMiAvLyA4CiAgICA9PQogICAgYXNzZXJ0IC8vIGludmFsaWQgbnVtYmVyIG9mIGJ5dGVzIGZvciBhcmM0LnVpbnQ2NAogICAgYnRvaQogICAgZHVwCiAgICBjb3ZlciA0CiAgICB0eG4gR3JvdXBJbmRleAogICAgaW50Y18xIC8vIDEKICAgIC0KICAgIGR1cAogICAgY292ZXIgNQogICAgZ3R4bnMgVHlwZUVudW0KICAgIGludGNfMSAvLyBwYXkKICAgID09CiAgICBhc3NlcnQgLy8gdHJhbnNhY3Rpb24gdHlwZSBpcyBwYXkKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czo4MgogICAgLy8gYXNzZXJ0KG9wLlR4bi5zZW5kZXIgPT09IHRoaXMuYWRtaW5fYWRkcmVzcy52YWx1ZSwgIk9ubHkgYWRtaW4gY2FuIGluaXQgYXBwbGljYXRpb24iKTsKICAgIHR4biBTZW5kZXIKICAgIGludGNfMCAvLyAwCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6NDkKICAgIC8vIGFkbWluX2FkZHJlc3MgPSBHbG9iYWxTdGF0ZTxBY2NvdW50PigpOwogICAgYnl0ZWNfMSAvLyAiYWRtaW5fYWRkcmVzcyIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czo4MgogICAgLy8gYXNzZXJ0KG9wLlR4bi5zZW5kZXIgPT09IHRoaXMuYWRtaW5fYWRkcmVzcy52YWx1ZSwgIk9ubHkgYWRtaW4gY2FuIGluaXQgYXBwbGljYXRpb24iKTsKICAgIGFwcF9nbG9iYWxfZ2V0X2V4CiAgICBhc3NlcnQgLy8gY2hlY2sgR2xvYmFsU3RhdGUgZXhpc3RzCiAgICA9PQogICAgYXNzZXJ0IC8vIE9ubHkgYWRtaW4gY2FuIGluaXQgYXBwbGljYXRpb24KICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czo4MwogICAgLy8gYXNzZXJ0KHRoaXMuaW5pdGlhbGl6ZWQudmFsdWUuYXNVaW50NjQoKSA9PT0gMCwgIkFscmVhZHkgaW5pdGlhbGl6ZWQiKTsKICAgIGludGNfMCAvLyAwCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6NDcKICAgIC8vIGluaXRpYWxpemVkID0gR2xvYmFsU3RhdGU8VWludDY0PigpOwogICAgYnl0ZWMgMTkgLy8gImluaXRpYWxpemVkIgogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjgzCiAgICAvLyBhc3NlcnQodGhpcy5pbml0aWFsaXplZC52YWx1ZS5hc1VpbnQ2NCgpID09PSAwLCAiQWxyZWFkeSBpbml0aWFsaXplZCIpOwogICAgYXBwX2dsb2JhbF9nZXRfZXgKICAgIGFzc2VydCAvLyBjaGVjayBHbG9iYWxTdGF0ZSBleGlzdHMKICAgIGJ0b2kKICAgICEKICAgIGFzc2VydCAvLyBBbHJlYWR5IGluaXRpYWxpemVkCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6ODQKICAgIC8vIGFzc2VydCh0aGlzLmNvbnRyYWN0X3N0YXRlLnZhbHVlLmFzVWludDY0KCkgPT09IDAsICJQb29sIG11c3QgYmUgaW5hY3RpdmUiKTsKICAgIGludGNfMCAvLyAwCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6NTMKICAgIC8vIGNvbnRyYWN0X3N0YXRlID0gR2xvYmFsU3RhdGU8VWludDY0PigpOyAvLyAwID0gaW5hY3RpdmUsIDEgPSBhY3RpdmUKICAgIGJ5dGVjIDggLy8gImNvbnRyYWN0X3N0YXRlIgogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjg0CiAgICAvLyBhc3NlcnQodGhpcy5jb250cmFjdF9zdGF0ZS52YWx1ZS5hc1VpbnQ2NCgpID09PSAwLCAiUG9vbCBtdXN0IGJlIGluYWN0aXZlIik7CiAgICBhcHBfZ2xvYmFsX2dldF9leAogICAgYXNzZXJ0IC8vIGNoZWNrIEdsb2JhbFN0YXRlIGV4aXN0cwogICAgYnRvaQogICAgIQogICAgYXNzZXJ0IC8vIFBvb2wgbXVzdCBiZSBpbmFjdGl2ZQogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjg1CiAgICAvLyBhc3NlcnQodGhpcy50b3RhbF9zdGFrZWQudmFsdWUuYXNVaW50NjQoKSA9PT0gMCwgIlN0YWtlZCBhc3NldHMgc3RpbGwgZXhpc3QiKTsKICAgIGludGNfMCAvLyAwCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6MzEKICAgIC8vIHRvdGFsX3N0YWtlZCA9IEdsb2JhbFN0YXRlPFVpbnQ2ND4oKTsKICAgIGJ5dGVjIDUgLy8gInRvdGFsX3N0YWtlZCIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czo4NQogICAgLy8gYXNzZXJ0KHRoaXMudG90YWxfc3Rha2VkLnZhbHVlLmFzVWludDY0KCkgPT09IDAsICJTdGFrZWQgYXNzZXRzIHN0aWxsIGV4aXN0Iik7CiAgICBhcHBfZ2xvYmFsX2dldF9leAogICAgYXNzZXJ0IC8vIGNoZWNrIEdsb2JhbFN0YXRlIGV4aXN0cwogICAgYnRvaQogICAgIQogICAgYXNzZXJ0IC8vIFN0YWtlZCBhc3NldHMgc3RpbGwgZXhpc3QKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czo4NgogICAgLy8gYXNzZXJ0KHRoaXMubnVtX3N0YWtlcnMudmFsdWUuYXNVaW50NjQoKSA9PT0gMCwgIlN0YWtlcnMgZXhpc3QiKTsKICAgIGludGNfMCAvLyAwCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6NTEKICAgIC8vIG51bV9zdGFrZXJzID0gR2xvYmFsU3RhdGU8VWludDY0PigpOwogICAgYnl0ZWMgMTIgLy8gIm51bV9zdGFrZXJzIgogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjg2CiAgICAvLyBhc3NlcnQodGhpcy5udW1fc3Rha2Vycy52YWx1ZS5hc1VpbnQ2NCgpID09PSAwLCAiU3Rha2VycyBleGlzdCIpOwogICAgYXBwX2dsb2JhbF9nZXRfZXgKICAgIGFzc2VydCAvLyBjaGVjayBHbG9iYWxTdGF0ZSBleGlzdHMKICAgIGJ0b2kKICAgICEKICAgIGFzc2VydCAvLyBTdGFrZXJzIGV4aXN0CiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6ODcKICAgIC8vIGFzc2VydChyZXdhcmRBbW91bnQgPiAwLCAiSW52YWxpZCByZXdhcmQgYW1vdW50Iik7CiAgICB1bmNvdmVyIDMKICAgIGFzc2VydCAvLyBJbnZhbGlkIHJld2FyZCBhbW91bnQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czo4OAogICAgLy8gYXNzZXJ0KGR1cmF0aW9uID4gMCwgIkludmFsaWQgZHVyYXRpb24iKTsKICAgIGFzc2VydCAvLyBJbnZhbGlkIGR1cmF0aW9uCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6ODkKICAgIC8vIGFzc2VydChhcHJCcHMgPiAwLCAiSW52YWxpZCBBUFIiKTsKICAgIHN3YXAKICAgIGFzc2VydCAvLyBJbnZhbGlkIEFQUgogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjkxCiAgICAvLyBjb25zdCBzdGFydDogdWludDY0ID0gc3RhcnRUaW1lID09PSAwID8gR2xvYmFsLmxhdGVzdFRpbWVzdGFtcCA6IHN0YXJ0VGltZTsKICAgIGJueiBpbml0QXBwbGljYXRpb25fdGVybmFyeV9mYWxzZUAzCiAgICBnbG9iYWwgTGF0ZXN0VGltZXN0YW1wCiAgICBidXJ5IDEwCgppbml0QXBwbGljYXRpb25fdGVybmFyeV9tZXJnZUA0OgogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjkyCiAgICAvLyBjb25zdCBlbmQ6IHVpbnQ2NCA9IHN0YXJ0ICsgZHVyYXRpb247CiAgICBkaWcgOQogICAgZHVwCiAgICBkaWcgMwogICAgKwogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjkzCiAgICAvLyBhc3NlcnQoZW5kID4gc3RhcnQsICJJbnZhbGlkIHRpbWUgcmFuZ2UiKTsKICAgIDwKICAgIGFzc2VydCAvLyBJbnZhbGlkIHRpbWUgcmFuZ2UKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czo5NAogICAgLy8gY29uc3QgW3N0YWtlRGVjaW1hbHMsIGhhc1N0YWtlRGVjaW1hbHNdID0gb3AuQXNzZXRQYXJhbXMuYXNzZXREZWNpbWFscyhBc3NldChzdGFrZWRBc3NldElkKSk7CiAgICBkaWcgNwogICAgYXNzZXRfcGFyYW1zX2dldCBBc3NldERlY2ltYWxzCiAgICBzd2FwCiAgICBkdXAKICAgIGNvdmVyIDIKICAgIGJ1cnkgMTMKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czo5NQogICAgLy8gYXNzZXJ0KGhhc1N0YWtlRGVjaW1hbHMsICJJbnZhbGlkIHN0YWtlZCBhc3NldCIpOwogICAgYXNzZXJ0IC8vIEludmFsaWQgc3Rha2VkIGFzc2V0CiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6OTYKICAgIC8vIGNvbnN0IFtyZXdhcmREZWNpbWFscywgaGFzUmV3YXJkRGVjaW1hbHNdID0gb3AuQXNzZXRQYXJhbXMuYXNzZXREZWNpbWFscyhBc3NldChyZXdhcmRBc3NldElkKSk7CiAgICBkaWcgNgogICAgYXNzZXRfcGFyYW1zX2dldCBBc3NldERlY2ltYWxzCiAgICBzd2FwCiAgICBidXJ5IDE0CiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6OTcKICAgIC8vIGFzc2VydChoYXNSZXdhcmREZWNpbWFscywgIkludmFsaWQgcmV3YXJkIGFzc2V0Iik7CiAgICBhc3NlcnQgLy8gSW52YWxpZCByZXdhcmQgYXNzZXQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czo5OAogICAgLy8gYXNzZXJ0KHN0YWtlRGVjaW1hbHMgPD0gMTkgJiYgcmV3YXJkRGVjaW1hbHMgPD0gMTksICJVbnN1cHBvcnRlZCBhc3NldCBkZWNpbWFscyIpOwogICAgcHVzaGludCAxOSAvLyAxOQogICAgPD0KICAgIGJ6IGluaXRBcHBsaWNhdGlvbl9ib29sX2ZhbHNlQDcKICAgIGRpZyAxMQogICAgcHVzaGludCAxOSAvLyAxOQogICAgPD0KICAgIGJ6IGluaXRBcHBsaWNhdGlvbl9ib29sX2ZhbHNlQDcKICAgIGludGNfMSAvLyAxCgppbml0QXBwbGljYXRpb25fYm9vbF9tZXJnZUA4OgogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjk4CiAgICAvLyBhc3NlcnQoc3Rha2VEZWNpbWFscyA8PSAxOSAmJiByZXdhcmREZWNpbWFscyA8PSAxOSwgIlVuc3VwcG9ydGVkIGFzc2V0IGRlY2ltYWxzIik7CiAgICBhc3NlcnQgLy8gVW5zdXBwb3J0ZWQgYXNzZXQgZGVjaW1hbHMKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czoyOAogICAgLy8gc3Rha2VkX2Fzc2V0X2lkID0gR2xvYmFsU3RhdGU8VWludDY0PigpOwogICAgYnl0ZWMgMTYgLy8gInN0YWtlZF9hc3NldF9pZCIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czoxMDAKICAgIC8vIHRoaXMuc3Rha2VkX2Fzc2V0X2lkLnZhbHVlID0gbmV3IFVpbnQ2NChzdGFrZWRBc3NldElkKTsKICAgIGRpZyA5CiAgICBhcHBfZ2xvYmFsX3B1dAogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjI5CiAgICAvLyByZXdhcmRfYXNzZXRfaWQgPSBHbG9iYWxTdGF0ZTxVaW50NjQ+KCk7CiAgICBieXRlYyA2IC8vICJyZXdhcmRfYXNzZXRfaWQiCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6MTAxCiAgICAvLyB0aGlzLnJld2FyZF9hc3NldF9pZC52YWx1ZSA9IG5ldyBVaW50NjQocmV3YXJkQXNzZXRJZCk7CiAgICBkaWcgNwogICAgYXBwX2dsb2JhbF9wdXQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czo0MgogICAgLy8gdG90YWxfcmV3YXJkcyA9IEdsb2JhbFN0YXRlPFVpbnQ2ND4oKTsKICAgIGJ5dGVjIDEzIC8vICJ0b3RhbF9yZXdhcmRzIgogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjEwMgogICAgLy8gdGhpcy50b3RhbF9yZXdhcmRzLnZhbHVlID0gbmV3IFVpbnQ2NChyZXdhcmRBbW91bnQpOwogICAgZGlnIDUKICAgIGFwcF9nbG9iYWxfcHV0CiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6MzQKICAgIC8vIHJld2FyZF9yYXRlID0gR2xvYmFsU3RhdGU8VWludDY0PigpOwogICAgYnl0ZWMgMjIgLy8gInJld2FyZF9yYXRlIgogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjEwMwogICAgLy8gdGhpcy5yZXdhcmRfcmF0ZS52YWx1ZSA9IG5ldyBVaW50NjQoMCk7CiAgICBieXRlY18wIC8vIDB4MDAwMDAwMDAwMDAwMDAwMAogICAgYXBwX2dsb2JhbF9wdXQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czoxMDQKICAgIC8vIHRoaXMuc3RhcnRfdGltZS52YWx1ZSA9IG5ldyBVaW50NjQoc3RhcnQpOwogICAgZGlnIDkKICAgIGl0b2IKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czozNQogICAgLy8gc3RhcnRfdGltZSA9IEdsb2JhbFN0YXRlPFVpbnQ2ND4oKTsKICAgIGJ5dGVjIDIzIC8vICJzdGFydF90aW1lIgogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjEwNAogICAgLy8gdGhpcy5zdGFydF90aW1lLnZhbHVlID0gbmV3IFVpbnQ2NChzdGFydCk7CiAgICBkaWcgMQogICAgYXBwX2dsb2JhbF9wdXQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czozNgogICAgLy8gbGFzdF91cGRhdGVfdGltZSA9IEdsb2JhbFN0YXRlPFVpbnQ2ND4oKTsKICAgIGJ5dGVjIDEwIC8vICJsYXN0X3VwZGF0ZV90aW1lIgogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjEwNQogICAgLy8gdGhpcy5sYXN0X3VwZGF0ZV90aW1lLnZhbHVlID0gbmV3IFVpbnQ2NChzdGFydCk7CiAgICBzd2FwCiAgICBhcHBfZ2xvYmFsX3B1dAogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjMyCiAgICAvLyByZXdhcmRfcGVyX3Rva2VuID0gR2xvYmFsU3RhdGU8VWludDY0PigpOwogICAgYnl0ZWMgOSAvLyAicmV3YXJkX3Blcl90b2tlbiIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czoxMDYKICAgIC8vIHRoaXMucmV3YXJkX3Blcl90b2tlbi52YWx1ZSA9IG5ldyBVaW50NjQoMCk7CiAgICBieXRlY18wIC8vIDB4MDAwMDAwMDAwMDAwMDAwMAogICAgYXBwX2dsb2JhbF9wdXQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czo0MwogICAgLy8gYWNjcnVlZF9yZXdhcmRzID0gR2xvYmFsU3RhdGU8VWludDY0PigpOwogICAgYnl0ZWMgNyAvLyAiYWNjcnVlZF9yZXdhcmRzIgogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjEwNwogICAgLy8gdGhpcy5hY2NydWVkX3Jld2FyZHMudmFsdWUgPSBuZXcgVWludDY0KDApOwogICAgYnl0ZWNfMCAvLyAweDAwMDAwMDAwMDAwMDAwMDAKICAgIGFwcF9nbG9iYWxfcHV0CiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6NDQKICAgIC8vIGFwcl9icHMgPSBHbG9iYWxTdGF0ZTxVaW50NjQ+KCk7CiAgICBieXRlYyAyNCAvLyAiYXByX2JwcyIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czoxMDgKICAgIC8vIHRoaXMuYXByX2Jwcy52YWx1ZSA9IG5ldyBVaW50NjQoYXByQnBzKTsKICAgIGRpZyA0CiAgICBhcHBfZ2xvYmFsX3B1dAogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjU2CiAgICAvLyBwbGF0Zm9ybV9mZWVzX2FjY3J1ZWQgPSBHbG9iYWxTdGF0ZTxVaW50NjQ+KCk7CiAgICBieXRlYyA0IC8vICJwbGF0Zm9ybV9mZWVzX2FjY3J1ZWQiCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6MTA5CiAgICAvLyB0aGlzLnBsYXRmb3JtX2ZlZXNfYWNjcnVlZC52YWx1ZSA9IG5ldyBVaW50NjQoMCk7CiAgICBieXRlY18wIC8vIDB4MDAwMDAwMDAwMDAwMDAwMAogICAgYXBwX2dsb2JhbF9wdXQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czo0NQogICAgLy8gcmV3YXJkc19leGhhdXN0ZWQgPSBHbG9iYWxTdGF0ZTxVaW50NjQ+KCk7CiAgICBieXRlYyAxMSAvLyAicmV3YXJkc19leGhhdXN0ZWQiCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6MTEwCiAgICAvLyB0aGlzLnJld2FyZHNfZXhoYXVzdGVkLnZhbHVlID0gbmV3IFVpbnQ2NCgwKTsKICAgIGJ5dGVjXzAgLy8gMHgwMDAwMDAwMDAwMDAwMDAwCiAgICBhcHBfZ2xvYmFsX3B1dAogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjQ2CiAgICAvLyByZXdhcmRzX3BhaWQgPSBHbG9iYWxTdGF0ZTxVaW50NjQ+KCk7CiAgICBieXRlY18yIC8vICJyZXdhcmRzX3BhaWQiCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6MTExCiAgICAvLyB0aGlzLnJld2FyZHNfcGFpZC52YWx1ZSA9IG5ldyBVaW50NjQoMCk7CiAgICBieXRlY18wIC8vIDB4MDAwMDAwMDAwMDAwMDAwMAogICAgYXBwX2dsb2JhbF9wdXQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czo0NwogICAgLy8gaW5pdGlhbGl6ZWQgPSBHbG9iYWxTdGF0ZTxVaW50NjQ+KCk7CiAgICBieXRlYyAxOSAvLyAiaW5pdGlhbGl6ZWQiCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6MTEyCiAgICAvLyB0aGlzLmluaXRpYWxpemVkLnZhbHVlID0gbmV3IFVpbnQ2NCgxKTsKICAgIGJ5dGVjIDE0IC8vIDB4MDAwMDAwMDAwMDAwMDAwMQogICAgYXBwX2dsb2JhbF9wdXQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czoxMTMKICAgIC8vIHRoaXMuc3Rha2VfYXNzZXRfZGVjaW1hbHMudmFsdWUgPSBuZXcgVWludDY0KHN0YWtlRGVjaW1hbHMpOwogICAgZGlnIDEwCiAgICBkdXAKICAgIGl0b2IKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czozNwogICAgLy8gc3Rha2VfYXNzZXRfZGVjaW1hbHMgPSBHbG9iYWxTdGF0ZTxVaW50NjQ+KCk7CiAgICBwdXNoYnl0ZXMgInN0YWtlX2Fzc2V0X2RlY2ltYWxzIgogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjExMwogICAgLy8gdGhpcy5zdGFrZV9hc3NldF9kZWNpbWFscy52YWx1ZSA9IG5ldyBVaW50NjQoc3Rha2VEZWNpbWFscyk7CiAgICBzd2FwCiAgICBhcHBfZ2xvYmFsX3B1dAogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjExNAogICAgLy8gdGhpcy5yZXdhcmRfYXNzZXRfZGVjaW1hbHMudmFsdWUgPSBuZXcgVWludDY0KHJld2FyZERlY2ltYWxzKTsKICAgIGRpZyAxMgogICAgZHVwCiAgICBpdG9iCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6MzgKICAgIC8vIHJld2FyZF9hc3NldF9kZWNpbWFscyA9IEdsb2JhbFN0YXRlPFVpbnQ2ND4oKTsKICAgIHB1c2hieXRlcyAicmV3YXJkX2Fzc2V0X2RlY2ltYWxzIgogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjExNAogICAgLy8gdGhpcy5yZXdhcmRfYXNzZXRfZGVjaW1hbHMudmFsdWUgPSBuZXcgVWludDY0KHJld2FyZERlY2ltYWxzKTsKICAgIHN3YXAKICAgIGFwcF9nbG9iYWxfcHV0CiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6MTE2CiAgICAvLyBpZiAocmV3YXJkRGVjaW1hbHMgPj0gc3Rha2VEZWNpbWFscykgewogICAgPD0KICAgIGJ6IGluaXRBcHBsaWNhdGlvbl9lbHNlX2JvZHlAMTAKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czoxMTcKICAgIC8vIGNvbnN0IGRpZmY6IHVpbnQ2NCA9IHJld2FyZERlY2ltYWxzIC0gc3Rha2VEZWNpbWFsczsKICAgIGRpZyAxMQogICAgZGlnIDExCiAgICAtCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6MTE4CiAgICAvLyB0aGlzLnN0YWtlX3RvX3Jld2FyZF9zY2FsZV9udW0udmFsdWUgPSBuZXcgVWludDY0KHRoaXMucG93MTAoZGlmZikpOwogICAgY2FsbHN1YiBwb3cxMAogICAgaXRvYgogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjM5CiAgICAvLyBzdGFrZV90b19yZXdhcmRfc2NhbGVfbnVtID0gR2xvYmFsU3RhdGU8VWludDY0PigpOwogICAgYnl0ZWMgMjAgLy8gInN0YWtlX3RvX3Jld2FyZF9zY2FsZV9udW0iCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6MTE4CiAgICAvLyB0aGlzLnN0YWtlX3RvX3Jld2FyZF9zY2FsZV9udW0udmFsdWUgPSBuZXcgVWludDY0KHRoaXMucG93MTAoZGlmZikpOwogICAgc3dhcAogICAgYXBwX2dsb2JhbF9wdXQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czo0MAogICAgLy8gc3Rha2VfdG9fcmV3YXJkX3NjYWxlX2RlbiA9IEdsb2JhbFN0YXRlPFVpbnQ2ND4oKTsKICAgIGJ5dGVjIDIxIC8vICJzdGFrZV90b19yZXdhcmRfc2NhbGVfZGVuIgogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjExOQogICAgLy8gdGhpcy5zdGFrZV90b19yZXdhcmRfc2NhbGVfZGVuLnZhbHVlID0gbmV3IFVpbnQ2NCgxKTsKICAgIGJ5dGVjIDE0IC8vIDB4MDAwMDAwMDAwMDAwMDAwMQogICAgYXBwX2dsb2JhbF9wdXQKCmluaXRBcHBsaWNhdGlvbl9hZnRlcl9pZl9lbHNlQDExOgogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjEyNi0xMjkKICAgIC8vIGFzc2VydE1hdGNoKGluaXRpYWxCYWxhbmNlVHhuLCB7CiAgICAvLyAgIHJlY2VpdmVyOiBHbG9iYWwuY3VycmVudEFwcGxpY2F0aW9uQWRkcmVzcywKICAgIC8vICAgYW1vdW50OiBJTklUSUFMX1BBWV9BTU9VTlQsCiAgICAvLyB9KTsKICAgIGR1cG4gMgogICAgZ3R4bnMgUmVjZWl2ZXIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czoxMjcKICAgIC8vIHJlY2VpdmVyOiBHbG9iYWwuY3VycmVudEFwcGxpY2F0aW9uQWRkcmVzcywKICAgIGdsb2JhbCBDdXJyZW50QXBwbGljYXRpb25BZGRyZXNzCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6MTI2LTEyOQogICAgLy8gYXNzZXJ0TWF0Y2goaW5pdGlhbEJhbGFuY2VUeG4sIHsKICAgIC8vICAgcmVjZWl2ZXI6IEdsb2JhbC5jdXJyZW50QXBwbGljYXRpb25BZGRyZXNzLAogICAgLy8gICBhbW91bnQ6IElOSVRJQUxfUEFZX0FNT1VOVCwKICAgIC8vIH0pOwogICAgPT0KICAgIHN3YXAKICAgIGd0eG5zIEFtb3VudAogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjEyOAogICAgLy8gYW1vdW50OiBJTklUSUFMX1BBWV9BTU9VTlQsCiAgICBwdXNoaW50IDQwMDAwMCAvLyA0MDAwMDAKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czoxMjYtMTI5CiAgICAvLyBhc3NlcnRNYXRjaChpbml0aWFsQmFsYW5jZVR4biwgewogICAgLy8gICByZWNlaXZlcjogR2xvYmFsLmN1cnJlbnRBcHBsaWNhdGlvbkFkZHJlc3MsCiAgICAvLyAgIGFtb3VudDogSU5JVElBTF9QQVlfQU1PVU5ULAogICAgLy8gfSk7CiAgICA9PQogICAgJiYKICAgIGFzc2VydCAvLyBhc3NlcnQgdGFyZ2V0IGlzIG1hdGNoIGZvciBjb25kaXRpb25zCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6MTMxLTEzOAogICAgLy8gaXR4bgogICAgLy8gICAuYXNzZXRUcmFuc2Zlcih7CiAgICAvLyAgICAgeGZlckFzc2V0OiBzdGFrZWRBc3NldElkLAogICAgLy8gICAgIGFzc2V0UmVjZWl2ZXI6IEdsb2JhbC5jdXJyZW50QXBwbGljYXRpb25BZGRyZXNzLAogICAgLy8gICAgIGFzc2V0QW1vdW50OiAwLAogICAgLy8gICAgIGZlZTogMCwKICAgIC8vICAgfSkKICAgIC8vICAgLnN1Ym1pdCgpOwogICAgaXR4bl9iZWdpbgogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjEzNAogICAgLy8gYXNzZXRSZWNlaXZlcjogR2xvYmFsLmN1cnJlbnRBcHBsaWNhdGlvbkFkZHJlc3MsCiAgICBnbG9iYWwgQ3VycmVudEFwcGxpY2F0aW9uQWRkcmVzcwogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjEzNQogICAgLy8gYXNzZXRBbW91bnQ6IDAsCiAgICBpbnRjXzAgLy8gMAogICAgaXR4bl9maWVsZCBBc3NldEFtb3VudAogICAgaXR4bl9maWVsZCBBc3NldFJlY2VpdmVyCiAgICBkaWcgNwogICAgZHVwCiAgICBpdHhuX2ZpZWxkIFhmZXJBc3NldAogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjEzMS0xMzcKICAgIC8vIGl0eG4KICAgIC8vICAgLmFzc2V0VHJhbnNmZXIoewogICAgLy8gICAgIHhmZXJBc3NldDogc3Rha2VkQXNzZXRJZCwKICAgIC8vICAgICBhc3NldFJlY2VpdmVyOiBHbG9iYWwuY3VycmVudEFwcGxpY2F0aW9uQWRkcmVzcywKICAgIC8vICAgICBhc3NldEFtb3VudDogMCwKICAgIC8vICAgICBmZWU6IDAsCiAgICAvLyAgIH0pCiAgICBpbnRjXzMgLy8gNAogICAgaXR4bl9maWVsZCBUeXBlRW51bQogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjEzNgogICAgLy8gZmVlOiAwLAogICAgaW50Y18wIC8vIDAKICAgIGl0eG5fZmllbGQgRmVlCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6MTMxLTEzOAogICAgLy8gaXR4bgogICAgLy8gICAuYXNzZXRUcmFuc2Zlcih7CiAgICAvLyAgICAgeGZlckFzc2V0OiBzdGFrZWRBc3NldElkLAogICAgLy8gICAgIGFzc2V0UmVjZWl2ZXI6IEdsb2JhbC5jdXJyZW50QXBwbGljYXRpb25BZGRyZXNzLAogICAgLy8gICAgIGFzc2V0QW1vdW50OiAwLAogICAgLy8gICAgIGZlZTogMCwKICAgIC8vICAgfSkKICAgIC8vICAgLnN1Ym1pdCgpOwogICAgaXR4bl9zdWJtaXQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czoxNDAKICAgIC8vIGlmIChyZXdhcmRBc3NldElkICE9PSBzdGFrZWRBc3NldElkKSB7CiAgICBkaWcgNgogICAgIT0KICAgIGJ6IGluaXRBcHBsaWNhdGlvbl9hZnRlcl9pZl9lbHNlQDE1CiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6MTQxLTE0OAogICAgLy8gaXR4bgogICAgLy8gICAuYXNzZXRUcmFuc2Zlcih7CiAgICAvLyAgICAgeGZlckFzc2V0OiByZXdhcmRBc3NldElkLAogICAgLy8gICAgIGFzc2V0UmVjZWl2ZXI6IEdsb2JhbC5jdXJyZW50QXBwbGljYXRpb25BZGRyZXNzLAogICAgLy8gICAgIGFzc2V0QW1vdW50OiAwLAogICAgLy8gICAgIGZlZTogMCwKICAgIC8vICAgfSkKICAgIC8vICAgLnN1Ym1pdCgpOwogICAgaXR4bl9iZWdpbgogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjE0NAogICAgLy8gYXNzZXRSZWNlaXZlcjogR2xvYmFsLmN1cnJlbnRBcHBsaWNhdGlvbkFkZHJlc3MsCiAgICBnbG9iYWwgQ3VycmVudEFwcGxpY2F0aW9uQWRkcmVzcwogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjE0NQogICAgLy8gYXNzZXRBbW91bnQ6IDAsCiAgICBpbnRjXzAgLy8gMAogICAgaXR4bl9maWVsZCBBc3NldEFtb3VudAogICAgaXR4bl9maWVsZCBBc3NldFJlY2VpdmVyCiAgICBkaWcgNQogICAgaXR4bl9maWVsZCBYZmVyQXNzZXQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czoxNDEtMTQ3CiAgICAvLyBpdHhuCiAgICAvLyAgIC5hc3NldFRyYW5zZmVyKHsKICAgIC8vICAgICB4ZmVyQXNzZXQ6IHJld2FyZEFzc2V0SWQsCiAgICAvLyAgICAgYXNzZXRSZWNlaXZlcjogR2xvYmFsLmN1cnJlbnRBcHBsaWNhdGlvbkFkZHJlc3MsCiAgICAvLyAgICAgYXNzZXRBbW91bnQ6IDAsCiAgICAvLyAgICAgZmVlOiAwLAogICAgLy8gICB9KQogICAgaW50Y18zIC8vIDQKICAgIGl0eG5fZmllbGQgVHlwZUVudW0KICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czoxNDYKICAgIC8vIGZlZTogMCwKICAgIGludGNfMCAvLyAwCiAgICBpdHhuX2ZpZWxkIEZlZQogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjE0MS0xNDgKICAgIC8vIGl0eG4KICAgIC8vICAgLmFzc2V0VHJhbnNmZXIoewogICAgLy8gICAgIHhmZXJBc3NldDogcmV3YXJkQXNzZXRJZCwKICAgIC8vICAgICBhc3NldFJlY2VpdmVyOiBHbG9iYWwuY3VycmVudEFwcGxpY2F0aW9uQWRkcmVzcywKICAgIC8vICAgICBhc3NldEFtb3VudDogMCwKICAgIC8vICAgICBmZWU6IDAsCiAgICAvLyAgIH0pCiAgICAvLyAgIC5zdWJtaXQoKTsKICAgIGl0eG5fc3VibWl0Cgppbml0QXBwbGljYXRpb25fYWZ0ZXJfaWZfZWxzZUAxNToKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czo3MgogICAgLy8gQGFiaW1ldGhvZCh7IGFsbG93QWN0aW9uczogIk5vT3AiIH0pCiAgICBpbnRjXzEgLy8gMQogICAgcmV0dXJuCgppbml0QXBwbGljYXRpb25fZWxzZV9ib2R5QDEwOgogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjEyMQogICAgLy8gY29uc3QgZGlmZjogdWludDY0ID0gc3Rha2VEZWNpbWFscyAtIHJld2FyZERlY2ltYWxzOwogICAgZGlnIDEwCiAgICBkaWcgMTIKICAgIC0KICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czozOQogICAgLy8gc3Rha2VfdG9fcmV3YXJkX3NjYWxlX251bSA9IEdsb2JhbFN0YXRlPFVpbnQ2ND4oKTsKICAgIGJ5dGVjIDIwIC8vICJzdGFrZV90b19yZXdhcmRfc2NhbGVfbnVtIgogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjEyMgogICAgLy8gdGhpcy5zdGFrZV90b19yZXdhcmRfc2NhbGVfbnVtLnZhbHVlID0gbmV3IFVpbnQ2NCgxKTsKICAgIGJ5dGVjIDE0IC8vIDB4MDAwMDAwMDAwMDAwMDAwMQogICAgYXBwX2dsb2JhbF9wdXQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czoxMjMKICAgIC8vIHRoaXMuc3Rha2VfdG9fcmV3YXJkX3NjYWxlX2Rlbi52YWx1ZSA9IG5ldyBVaW50NjQodGhpcy5wb3cxMChkaWZmKSk7CiAgICBjYWxsc3ViIHBvdzEwCiAgICBpdG9iCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6NDAKICAgIC8vIHN0YWtlX3RvX3Jld2FyZF9zY2FsZV9kZW4gPSBHbG9iYWxTdGF0ZTxVaW50NjQ+KCk7CiAgICBieXRlYyAyMSAvLyAic3Rha2VfdG9fcmV3YXJkX3NjYWxlX2RlbiIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czoxMjMKICAgIC8vIHRoaXMuc3Rha2VfdG9fcmV3YXJkX3NjYWxlX2Rlbi52YWx1ZSA9IG5ldyBVaW50NjQodGhpcy5wb3cxMChkaWZmKSk7CiAgICBzd2FwCiAgICBhcHBfZ2xvYmFsX3B1dAogICAgYiBpbml0QXBwbGljYXRpb25fYWZ0ZXJfaWZfZWxzZUAxMQoKaW5pdEFwcGxpY2F0aW9uX2Jvb2xfZmFsc2VANzoKICAgIGludGNfMCAvLyAwCiAgICBiIGluaXRBcHBsaWNhdGlvbl9ib29sX21lcmdlQDgKCmluaXRBcHBsaWNhdGlvbl90ZXJuYXJ5X2ZhbHNlQDM6CiAgICBkaWcgMgogICAgYnVyeSAxMAogICAgYiBpbml0QXBwbGljYXRpb25fdGVybmFyeV9tZXJnZUA0CgoKLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjpTdGFraW5nLmZ1bmRSZXdhcmRzW3JvdXRpbmddKCkgLT4gdm9pZDoKZnVuZFJld2FyZHM6CiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6MTUyCiAgICAvLyBAYWJpbWV0aG9kKHsgYWxsb3dBY3Rpb25zOiAiTm9PcCIgfSkKICAgIHR4biBHcm91cEluZGV4CiAgICBpbnRjXzEgLy8gMQogICAgLQogICAgZHVwCiAgICBndHhucyBUeXBlRW51bQogICAgaW50Y18zIC8vIGF4ZmVyCiAgICA9PQogICAgYXNzZXJ0IC8vIHRyYW5zYWN0aW9uIHR5cGUgaXMgYXhmZXIKICAgIHR4bmEgQXBwbGljYXRpb25BcmdzIDEKICAgIGR1cAogICAgbGVuCiAgICBpbnRjXzIgLy8gOAogICAgPT0KICAgIGFzc2VydCAvLyBpbnZhbGlkIG51bWJlciBvZiBieXRlcyBmb3IgYXJjNC51aW50NjQKICAgIGJ0b2kKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czoxNTQKICAgIC8vIGFzc2VydChvcC5UeG4uc2VuZGVyID09PSB0aGlzLmFkbWluX2FkZHJlc3MudmFsdWUsICJPbmx5IGFkbWluIGNhbiBmdW5kIHJld2FyZHMiKTsKICAgIHR4biBTZW5kZXIKICAgIGludGNfMCAvLyAwCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6NDkKICAgIC8vIGFkbWluX2FkZHJlc3MgPSBHbG9iYWxTdGF0ZTxBY2NvdW50PigpOwogICAgYnl0ZWNfMSAvLyAiYWRtaW5fYWRkcmVzcyIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czoxNTQKICAgIC8vIGFzc2VydChvcC5UeG4uc2VuZGVyID09PSB0aGlzLmFkbWluX2FkZHJlc3MudmFsdWUsICJPbmx5IGFkbWluIGNhbiBmdW5kIHJld2FyZHMiKTsKICAgIGFwcF9nbG9iYWxfZ2V0X2V4CiAgICBhc3NlcnQgLy8gY2hlY2sgR2xvYmFsU3RhdGUgZXhpc3RzCiAgICBzd2FwCiAgICBkaWcgMQogICAgPT0KICAgIGFzc2VydCAvLyBPbmx5IGFkbWluIGNhbiBmdW5kIHJld2FyZHMKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czoxNTUKICAgIC8vIGFzc2VydCh0aGlzLmNvbnRyYWN0X3N0YXRlLnZhbHVlID09PSBuZXcgVWludDY0KDApLCAiUG9vbCBtdXN0IGJlIGluYWN0aXZlIik7CiAgICBpbnRjXzAgLy8gMAogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjUzCiAgICAvLyBjb250cmFjdF9zdGF0ZSA9IEdsb2JhbFN0YXRlPFVpbnQ2ND4oKTsgLy8gMCA9IGluYWN0aXZlLCAxID0gYWN0aXZlCiAgICBieXRlYyA4IC8vICJjb250cmFjdF9zdGF0ZSIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czoxNTUKICAgIC8vIGFzc2VydCh0aGlzLmNvbnRyYWN0X3N0YXRlLnZhbHVlID09PSBuZXcgVWludDY0KDApLCAiUG9vbCBtdXN0IGJlIGluYWN0aXZlIik7CiAgICBhcHBfZ2xvYmFsX2dldF9leAogICAgYXNzZXJ0IC8vIGNoZWNrIEdsb2JhbFN0YXRlIGV4aXN0cwogICAgYnl0ZWNfMCAvLyAweDAwMDAwMDAwMDAwMDAwMDAKICAgID09CiAgICBhc3NlcnQgLy8gUG9vbCBtdXN0IGJlIGluYWN0aXZlCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6MTU2CiAgICAvLyBhc3NlcnQodGhpcy5hY2NydWVkX3Jld2FyZHMudmFsdWUuYXNVaW50NjQoKSA9PT0gMCwgIlJld2FyZHMgYWxyZWFkeSBzdGFydGVkIik7CiAgICBpbnRjXzAgLy8gMAogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjQzCiAgICAvLyBhY2NydWVkX3Jld2FyZHMgPSBHbG9iYWxTdGF0ZTxVaW50NjQ+KCk7CiAgICBieXRlYyA3IC8vICJhY2NydWVkX3Jld2FyZHMiCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6MTU2CiAgICAvLyBhc3NlcnQodGhpcy5hY2NydWVkX3Jld2FyZHMudmFsdWUuYXNVaW50NjQoKSA9PT0gMCwgIlJld2FyZHMgYWxyZWFkeSBzdGFydGVkIik7CiAgICBhcHBfZ2xvYmFsX2dldF9leAogICAgYXNzZXJ0IC8vIGNoZWNrIEdsb2JhbFN0YXRlIGV4aXN0cwogICAgYnRvaQogICAgIQogICAgYXNzZXJ0IC8vIFJld2FyZHMgYWxyZWFkeSBzdGFydGVkCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6MTU3CiAgICAvLyBhc3NlcnQocmV3YXJkQW1vdW50ID09PSB0aGlzLnRvdGFsX3Jld2FyZHMudmFsdWUuYXNVaW50NjQoKSwgIlJld2FyZCBhbW91bnQgbWlzbWF0Y2giKTsKICAgIGludGNfMCAvLyAwCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6NDIKICAgIC8vIHRvdGFsX3Jld2FyZHMgPSBHbG9iYWxTdGF0ZTxVaW50NjQ+KCk7CiAgICBieXRlYyAxMyAvLyAidG90YWxfcmV3YXJkcyIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czoxNTcKICAgIC8vIGFzc2VydChyZXdhcmRBbW91bnQgPT09IHRoaXMudG90YWxfcmV3YXJkcy52YWx1ZS5hc1VpbnQ2NCgpLCAiUmV3YXJkIGFtb3VudCBtaXNtYXRjaCIpOwogICAgYXBwX2dsb2JhbF9nZXRfZXgKICAgIGFzc2VydCAvLyBjaGVjayBHbG9iYWxTdGF0ZSBleGlzdHMKICAgIGJ0b2kKICAgIGRpZyAyCiAgICA9PQogICAgYXNzZXJ0IC8vIFJld2FyZCBhbW91bnQgbWlzbWF0Y2gKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czoxNTktMTY0CiAgICAvLyBhc3NlcnRNYXRjaChyZXdhcmRGdW5kaW5nVHhuLCB7CiAgICAvLyAgIHNlbmRlcjogdGhpcy5hZG1pbl9hZGRyZXNzLnZhbHVlLAogICAgLy8gICBhc3NldFJlY2VpdmVyOiBHbG9iYWwuY3VycmVudEFwcGxpY2F0aW9uQWRkcmVzcywKICAgIC8vICAgeGZlckFzc2V0OiBBc3NldCh0aGlzLnJld2FyZF9hc3NldF9pZC52YWx1ZS5hc1VpbnQ2NCgpKSwKICAgIC8vICAgYXNzZXRBbW91bnQ6IHJld2FyZEFtb3VudCwKICAgIC8vIH0pOwogICAgZGlnIDIKICAgIGd0eG5zIFNlbmRlcgogICAgPT0KICAgIGRpZyAyCiAgICBndHhucyBBc3NldFJlY2VpdmVyCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6MTYxCiAgICAvLyBhc3NldFJlY2VpdmVyOiBHbG9iYWwuY3VycmVudEFwcGxpY2F0aW9uQWRkcmVzcywKICAgIGdsb2JhbCBDdXJyZW50QXBwbGljYXRpb25BZGRyZXNzCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6MTU5LTE2NAogICAgLy8gYXNzZXJ0TWF0Y2gocmV3YXJkRnVuZGluZ1R4biwgewogICAgLy8gICBzZW5kZXI6IHRoaXMuYWRtaW5fYWRkcmVzcy52YWx1ZSwKICAgIC8vICAgYXNzZXRSZWNlaXZlcjogR2xvYmFsLmN1cnJlbnRBcHBsaWNhdGlvbkFkZHJlc3MsCiAgICAvLyAgIHhmZXJBc3NldDogQXNzZXQodGhpcy5yZXdhcmRfYXNzZXRfaWQudmFsdWUuYXNVaW50NjQoKSksCiAgICAvLyAgIGFzc2V0QW1vdW50OiByZXdhcmRBbW91bnQsCiAgICAvLyB9KTsKICAgID09CiAgICAmJgogICAgZGlnIDIKICAgIGd0eG5zIFhmZXJBc3NldAogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjE2MgogICAgLy8geGZlckFzc2V0OiBBc3NldCh0aGlzLnJld2FyZF9hc3NldF9pZC52YWx1ZS5hc1VpbnQ2NCgpKSwKICAgIGludGNfMCAvLyAwCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6MjkKICAgIC8vIHJld2FyZF9hc3NldF9pZCA9IEdsb2JhbFN0YXRlPFVpbnQ2ND4oKTsKICAgIGJ5dGVjIDYgLy8gInJld2FyZF9hc3NldF9pZCIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czoxNjIKICAgIC8vIHhmZXJBc3NldDogQXNzZXQodGhpcy5yZXdhcmRfYXNzZXRfaWQudmFsdWUuYXNVaW50NjQoKSksCiAgICBhcHBfZ2xvYmFsX2dldF9leAogICAgYXNzZXJ0IC8vIGNoZWNrIEdsb2JhbFN0YXRlIGV4aXN0cwogICAgYnRvaQogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjE1OS0xNjQKICAgIC8vIGFzc2VydE1hdGNoKHJld2FyZEZ1bmRpbmdUeG4sIHsKICAgIC8vICAgc2VuZGVyOiB0aGlzLmFkbWluX2FkZHJlc3MudmFsdWUsCiAgICAvLyAgIGFzc2V0UmVjZWl2ZXI6IEdsb2JhbC5jdXJyZW50QXBwbGljYXRpb25BZGRyZXNzLAogICAgLy8gICB4ZmVyQXNzZXQ6IEFzc2V0KHRoaXMucmV3YXJkX2Fzc2V0X2lkLnZhbHVlLmFzVWludDY0KCkpLAogICAgLy8gICBhc3NldEFtb3VudDogcmV3YXJkQW1vdW50LAogICAgLy8gfSk7CiAgICA9PQogICAgJiYKICAgIHVuY292ZXIgMgogICAgZ3R4bnMgQXNzZXRBbW91bnQKICAgIHVuY292ZXIgMgogICAgPT0KICAgICYmCiAgICBhc3NlcnQgLy8gYXNzZXJ0IHRhcmdldCBpcyBtYXRjaCBmb3IgY29uZGl0aW9ucwogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjQ1CiAgICAvLyByZXdhcmRzX2V4aGF1c3RlZCA9IEdsb2JhbFN0YXRlPFVpbnQ2ND4oKTsKICAgIGJ5dGVjIDExIC8vICJyZXdhcmRzX2V4aGF1c3RlZCIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czoxNjUKICAgIC8vIHRoaXMucmV3YXJkc19leGhhdXN0ZWQudmFsdWUgPSBuZXcgVWludDY0KDApOwogICAgYnl0ZWNfMCAvLyAweDAwMDAwMDAwMDAwMDAwMDAKICAgIGFwcF9nbG9iYWxfcHV0CiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6MTUyCiAgICAvLyBAYWJpbWV0aG9kKHsgYWxsb3dBY3Rpb25zOiAiTm9PcCIgfSkKICAgIGludGNfMSAvLyAxCiAgICByZXR1cm4KCgovLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6OlN0YWtpbmcuZnVuZE1vcmVSZXdhcmRzW3JvdXRpbmddKCkgLT4gdm9pZDoKZnVuZE1vcmVSZXdhcmRzOgogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjE2OAogICAgLy8gQGFiaW1ldGhvZCh7IGFsbG93QWN0aW9uczogIk5vT3AiIH0pCiAgICB0eG4gR3JvdXBJbmRleAogICAgaW50Y18xIC8vIDEKICAgIC0KICAgIGR1cAogICAgZ3R4bnMgVHlwZUVudW0KICAgIGludGNfMyAvLyBheGZlcgogICAgPT0KICAgIGFzc2VydCAvLyB0cmFuc2FjdGlvbiB0eXBlIGlzIGF4ZmVyCiAgICB0eG5hIEFwcGxpY2F0aW9uQXJncyAxCiAgICBkdXAKICAgIGxlbgogICAgaW50Y18yIC8vIDgKICAgID09CiAgICBhc3NlcnQgLy8gaW52YWxpZCBudW1iZXIgb2YgYnl0ZXMgZm9yIGFyYzQudWludDY0CiAgICBidG9pCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6MTcwCiAgICAvLyBhc3NlcnQob3AuVHhuLnNlbmRlciA9PT0gdGhpcy5hZG1pbl9hZGRyZXNzLnZhbHVlLCAiT25seSBhZG1pbiBjYW4gZnVuZCByZXdhcmRzIik7CiAgICB0eG4gU2VuZGVyCiAgICBpbnRjXzAgLy8gMAogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjQ5CiAgICAvLyBhZG1pbl9hZGRyZXNzID0gR2xvYmFsU3RhdGU8QWNjb3VudD4oKTsKICAgIGJ5dGVjXzEgLy8gImFkbWluX2FkZHJlc3MiCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6MTcwCiAgICAvLyBhc3NlcnQob3AuVHhuLnNlbmRlciA9PT0gdGhpcy5hZG1pbl9hZGRyZXNzLnZhbHVlLCAiT25seSBhZG1pbiBjYW4gZnVuZCByZXdhcmRzIik7CiAgICBhcHBfZ2xvYmFsX2dldF9leAogICAgYXNzZXJ0IC8vIGNoZWNrIEdsb2JhbFN0YXRlIGV4aXN0cwogICAgc3dhcAogICAgZGlnIDEKICAgID09CiAgICBhc3NlcnQgLy8gT25seSBhZG1pbiBjYW4gZnVuZCByZXdhcmRzCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6MTcxCiAgICAvLyBhc3NlcnQocmV3YXJkQW1vdW50ID4gMCwgIkludmFsaWQgcmV3YXJkIGFtb3VudCIpOwogICAgZGlnIDEKICAgIGFzc2VydCAvLyBJbnZhbGlkIHJld2FyZCBhbW91bnQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czoxNzMtMTc4CiAgICAvLyBhc3NlcnRNYXRjaChyZXdhcmRGdW5kaW5nVHhuLCB7CiAgICAvLyAgIHNlbmRlcjogdGhpcy5hZG1pbl9hZGRyZXNzLnZhbHVlLAogICAgLy8gICBhc3NldFJlY2VpdmVyOiBHbG9iYWwuY3VycmVudEFwcGxpY2F0aW9uQWRkcmVzcywKICAgIC8vICAgeGZlckFzc2V0OiBBc3NldCh0aGlzLnJld2FyZF9hc3NldF9pZC52YWx1ZS5hc1VpbnQ2NCgpKSwKICAgIC8vICAgYXNzZXRBbW91bnQ6IHJld2FyZEFtb3VudCwKICAgIC8vIH0pOwogICAgZGlnIDIKICAgIGd0eG5zIFNlbmRlcgogICAgPT0KICAgIGRpZyAyCiAgICBndHhucyBBc3NldFJlY2VpdmVyCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6MTc1CiAgICAvLyBhc3NldFJlY2VpdmVyOiBHbG9iYWwuY3VycmVudEFwcGxpY2F0aW9uQWRkcmVzcywKICAgIGdsb2JhbCBDdXJyZW50QXBwbGljYXRpb25BZGRyZXNzCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6MTczLTE3OAogICAgLy8gYXNzZXJ0TWF0Y2gocmV3YXJkRnVuZGluZ1R4biwgewogICAgLy8gICBzZW5kZXI6IHRoaXMuYWRtaW5fYWRkcmVzcy52YWx1ZSwKICAgIC8vICAgYXNzZXRSZWNlaXZlcjogR2xvYmFsLmN1cnJlbnRBcHBsaWNhdGlvbkFkZHJlc3MsCiAgICAvLyAgIHhmZXJBc3NldDogQXNzZXQodGhpcy5yZXdhcmRfYXNzZXRfaWQudmFsdWUuYXNVaW50NjQoKSksCiAgICAvLyAgIGFzc2V0QW1vdW50OiByZXdhcmRBbW91bnQsCiAgICAvLyB9KTsKICAgID09CiAgICAmJgogICAgZGlnIDIKICAgIGd0eG5zIFhmZXJBc3NldAogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjE3NgogICAgLy8geGZlckFzc2V0OiBBc3NldCh0aGlzLnJld2FyZF9hc3NldF9pZC52YWx1ZS5hc1VpbnQ2NCgpKSwKICAgIGludGNfMCAvLyAwCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6MjkKICAgIC8vIHJld2FyZF9hc3NldF9pZCA9IEdsb2JhbFN0YXRlPFVpbnQ2ND4oKTsKICAgIGJ5dGVjIDYgLy8gInJld2FyZF9hc3NldF9pZCIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czoxNzYKICAgIC8vIHhmZXJBc3NldDogQXNzZXQodGhpcy5yZXdhcmRfYXNzZXRfaWQudmFsdWUuYXNVaW50NjQoKSksCiAgICBhcHBfZ2xvYmFsX2dldF9leAogICAgYXNzZXJ0IC8vIGNoZWNrIEdsb2JhbFN0YXRlIGV4aXN0cwogICAgYnRvaQogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjE3My0xNzgKICAgIC8vIGFzc2VydE1hdGNoKHJld2FyZEZ1bmRpbmdUeG4sIHsKICAgIC8vICAgc2VuZGVyOiB0aGlzLmFkbWluX2FkZHJlc3MudmFsdWUsCiAgICAvLyAgIGFzc2V0UmVjZWl2ZXI6IEdsb2JhbC5jdXJyZW50QXBwbGljYXRpb25BZGRyZXNzLAogICAgLy8gICB4ZmVyQXNzZXQ6IEFzc2V0KHRoaXMucmV3YXJkX2Fzc2V0X2lkLnZhbHVlLmFzVWludDY0KCkpLAogICAgLy8gICBhc3NldEFtb3VudDogcmV3YXJkQW1vdW50LAogICAgLy8gfSk7CiAgICA9PQogICAgJiYKICAgIHVuY292ZXIgMgogICAgZ3R4bnMgQXNzZXRBbW91bnQKICAgIGRpZyAyCiAgICA9PQogICAgJiYKICAgIGFzc2VydCAvLyBhc3NlcnQgdGFyZ2V0IGlzIG1hdGNoIGZvciBjb25kaXRpb25zCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6MTgwCiAgICAvLyB0aGlzLnRvdGFsX3Jld2FyZHMudmFsdWUgPSBuZXcgVWludDY0KHRoaXMudG90YWxfcmV3YXJkcy52YWx1ZS5hc1VpbnQ2NCgpICsgcmV3YXJkQW1vdW50KTsKICAgIGludGNfMCAvLyAwCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6NDIKICAgIC8vIHRvdGFsX3Jld2FyZHMgPSBHbG9iYWxTdGF0ZTxVaW50NjQ+KCk7CiAgICBieXRlYyAxMyAvLyAidG90YWxfcmV3YXJkcyIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czoxODAKICAgIC8vIHRoaXMudG90YWxfcmV3YXJkcy52YWx1ZSA9IG5ldyBVaW50NjQodGhpcy50b3RhbF9yZXdhcmRzLnZhbHVlLmFzVWludDY0KCkgKyByZXdhcmRBbW91bnQpOwogICAgYXBwX2dsb2JhbF9nZXRfZXgKICAgIGFzc2VydCAvLyBjaGVjayBHbG9iYWxTdGF0ZSBleGlzdHMKICAgIGJ0b2kKICAgICsKICAgIGl0b2IKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czo0MgogICAgLy8gdG90YWxfcmV3YXJkcyA9IEdsb2JhbFN0YXRlPFVpbnQ2ND4oKTsKICAgIGJ5dGVjIDEzIC8vICJ0b3RhbF9yZXdhcmRzIgogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjE4MAogICAgLy8gdGhpcy50b3RhbF9yZXdhcmRzLnZhbHVlID0gbmV3IFVpbnQ2NCh0aGlzLnRvdGFsX3Jld2FyZHMudmFsdWUuYXNVaW50NjQoKSArIHJld2FyZEFtb3VudCk7CiAgICBzd2FwCiAgICBhcHBfZ2xvYmFsX3B1dAogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjQ1CiAgICAvLyByZXdhcmRzX2V4aGF1c3RlZCA9IEdsb2JhbFN0YXRlPFVpbnQ2ND4oKTsKICAgIGJ5dGVjIDExIC8vICJyZXdhcmRzX2V4aGF1c3RlZCIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czoxODEKICAgIC8vIHRoaXMucmV3YXJkc19leGhhdXN0ZWQudmFsdWUgPSBuZXcgVWludDY0KDApOwogICAgYnl0ZWNfMCAvLyAweDAwMDAwMDAwMDAwMDAwMDAKICAgIGFwcF9nbG9iYWxfcHV0CiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6MTY4CiAgICAvLyBAYWJpbWV0aG9kKHsgYWxsb3dBY3Rpb25zOiAiTm9PcCIgfSkKICAgIGludGNfMSAvLyAxCiAgICByZXR1cm4KCgovLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6OlN0YWtpbmcucmVtb3ZlUmV3YXJkc1tyb3V0aW5nXSgpIC0+IHZvaWQ6CnJlbW92ZVJld2FyZHM6CiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6MTg2CiAgICAvLyBhc3NlcnQob3AuVHhuLnNlbmRlciA9PT0gdGhpcy5hZG1pbl9hZGRyZXNzLnZhbHVlLCAiT25seSBhZG1pbiBjYW4gZnVuZCByZXdhcmRzIik7CiAgICB0eG4gU2VuZGVyCiAgICBpbnRjXzAgLy8gMAogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjQ5CiAgICAvLyBhZG1pbl9hZGRyZXNzID0gR2xvYmFsU3RhdGU8QWNjb3VudD4oKTsKICAgIGJ5dGVjXzEgLy8gImFkbWluX2FkZHJlc3MiCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6MTg2CiAgICAvLyBhc3NlcnQob3AuVHhuLnNlbmRlciA9PT0gdGhpcy5hZG1pbl9hZGRyZXNzLnZhbHVlLCAiT25seSBhZG1pbiBjYW4gZnVuZCByZXdhcmRzIik7CiAgICBhcHBfZ2xvYmFsX2dldF9leAogICAgYXNzZXJ0IC8vIGNoZWNrIEdsb2JhbFN0YXRlIGV4aXN0cwogICAgc3dhcAogICAgZGlnIDEKICAgID09CiAgICBhc3NlcnQgLy8gT25seSBhZG1pbiBjYW4gZnVuZCByZXdhcmRzCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6MTg3CiAgICAvLyBhc3NlcnQodGhpcy5jb250cmFjdF9zdGF0ZS52YWx1ZSA9PT0gbmV3IFVpbnQ2NCgwKSwgIlBvb2wgbXVzdCBiZSBpbmFjdGl2ZSIpOwogICAgaW50Y18wIC8vIDAKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czo1MwogICAgLy8gY29udHJhY3Rfc3RhdGUgPSBHbG9iYWxTdGF0ZTxVaW50NjQ+KCk7IC8vIDAgPSBpbmFjdGl2ZSwgMSA9IGFjdGl2ZQogICAgYnl0ZWMgOCAvLyAiY29udHJhY3Rfc3RhdGUiCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6MTg3CiAgICAvLyBhc3NlcnQodGhpcy5jb250cmFjdF9zdGF0ZS52YWx1ZSA9PT0gbmV3IFVpbnQ2NCgwKSwgIlBvb2wgbXVzdCBiZSBpbmFjdGl2ZSIpOwogICAgYXBwX2dsb2JhbF9nZXRfZXgKICAgIGFzc2VydCAvLyBjaGVjayBHbG9iYWxTdGF0ZSBleGlzdHMKICAgIGJ5dGVjXzAgLy8gMHgwMDAwMDAwMDAwMDAwMDAwCiAgICA9PQogICAgYXNzZXJ0IC8vIFBvb2wgbXVzdCBiZSBpbmFjdGl2ZQogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjE4OQogICAgLy8gY29uc3QgYXZhaWxhYmxlOiB1aW50NjQgPSB0aGlzLnRvdGFsX3Jld2FyZHMudmFsdWUuYXNVaW50NjQoKSAtIHRoaXMuYWNjcnVlZF9yZXdhcmRzLnZhbHVlLmFzVWludDY0KCk7CiAgICBpbnRjXzAgLy8gMAogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjQyCiAgICAvLyB0b3RhbF9yZXdhcmRzID0gR2xvYmFsU3RhdGU8VWludDY0PigpOwogICAgYnl0ZWMgMTMgLy8gInRvdGFsX3Jld2FyZHMiCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6MTg5CiAgICAvLyBjb25zdCBhdmFpbGFibGU6IHVpbnQ2NCA9IHRoaXMudG90YWxfcmV3YXJkcy52YWx1ZS5hc1VpbnQ2NCgpIC0gdGhpcy5hY2NydWVkX3Jld2FyZHMudmFsdWUuYXNVaW50NjQoKTsKICAgIGFwcF9nbG9iYWxfZ2V0X2V4CiAgICBhc3NlcnQgLy8gY2hlY2sgR2xvYmFsU3RhdGUgZXhpc3RzCiAgICBidG9pCiAgICBpbnRjXzAgLy8gMAogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjQzCiAgICAvLyBhY2NydWVkX3Jld2FyZHMgPSBHbG9iYWxTdGF0ZTxVaW50NjQ+KCk7CiAgICBieXRlYyA3IC8vICJhY2NydWVkX3Jld2FyZHMiCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6MTg5CiAgICAvLyBjb25zdCBhdmFpbGFibGU6IHVpbnQ2NCA9IHRoaXMudG90YWxfcmV3YXJkcy52YWx1ZS5hc1VpbnQ2NCgpIC0gdGhpcy5hY2NydWVkX3Jld2FyZHMudmFsdWUuYXNVaW50NjQoKTsKICAgIGFwcF9nbG9iYWxfZ2V0X2V4CiAgICBhc3NlcnQgLy8gY2hlY2sgR2xvYmFsU3RhdGUgZXhpc3RzCiAgICBidG9pCiAgICAtCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6MTkwCiAgICAvLyBhc3NlcnQoYXZhaWxhYmxlID4gMCwgIk5vIHJld2FyZHMgdG8gcmVtb3ZlIik7CiAgICBkdXAKICAgIGFzc2VydCAvLyBObyByZXdhcmRzIHRvIHJlbW92ZQogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjE5MS0xOTkKICAgIC8vIGl0eG4KICAgIC8vICAgLmFzc2V0VHJhbnNmZXIoewogICAgLy8gICAgIHhmZXJBc3NldDogdGhpcy5yZXdhcmRfYXNzZXRfaWQudmFsdWUuYXNVaW50NjQoKSwKICAgIC8vICAgICBhc3NldFJlY2VpdmVyOiB0aGlzLmFkbWluX2FkZHJlc3MudmFsdWUsCiAgICAvLyAgICAgc2VuZGVyOiBHbG9iYWwuY3VycmVudEFwcGxpY2F0aW9uQWRkcmVzcywKICAgIC8vICAgICBhc3NldEFtb3VudDogYXZhaWxhYmxlLAogICAgLy8gICAgIGZlZTogMCwKICAgIC8vICAgfSkKICAgIC8vICAgLnN1Ym1pdCgpOwogICAgaXR4bl9iZWdpbgogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjE5MwogICAgLy8geGZlckFzc2V0OiB0aGlzLnJld2FyZF9hc3NldF9pZC52YWx1ZS5hc1VpbnQ2NCgpLAogICAgaW50Y18wIC8vIDAKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czoyOQogICAgLy8gcmV3YXJkX2Fzc2V0X2lkID0gR2xvYmFsU3RhdGU8VWludDY0PigpOwogICAgYnl0ZWMgNiAvLyAicmV3YXJkX2Fzc2V0X2lkIgogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjE5MwogICAgLy8geGZlckFzc2V0OiB0aGlzLnJld2FyZF9hc3NldF9pZC52YWx1ZS5hc1VpbnQ2NCgpLAogICAgYXBwX2dsb2JhbF9nZXRfZXgKICAgIGFzc2VydCAvLyBjaGVjayBHbG9iYWxTdGF0ZSBleGlzdHMKICAgIGJ0b2kKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czoxOTUKICAgIC8vIHNlbmRlcjogR2xvYmFsLmN1cnJlbnRBcHBsaWNhdGlvbkFkZHJlc3MsCiAgICBnbG9iYWwgQ3VycmVudEFwcGxpY2F0aW9uQWRkcmVzcwogICAgdW5jb3ZlciAyCiAgICBpdHhuX2ZpZWxkIEFzc2V0QW1vdW50CiAgICBpdHhuX2ZpZWxkIFNlbmRlcgogICAgaXR4bl9maWVsZCBYZmVyQXNzZXQKICAgIGl0eG5fZmllbGQgQXNzZXRSZWNlaXZlcgogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjE5MS0xOTgKICAgIC8vIGl0eG4KICAgIC8vICAgLmFzc2V0VHJhbnNmZXIoewogICAgLy8gICAgIHhmZXJBc3NldDogdGhpcy5yZXdhcmRfYXNzZXRfaWQudmFsdWUuYXNVaW50NjQoKSwKICAgIC8vICAgICBhc3NldFJlY2VpdmVyOiB0aGlzLmFkbWluX2FkZHJlc3MudmFsdWUsCiAgICAvLyAgICAgc2VuZGVyOiBHbG9iYWwuY3VycmVudEFwcGxpY2F0aW9uQWRkcmVzcywKICAgIC8vICAgICBhc3NldEFtb3VudDogYXZhaWxhYmxlLAogICAgLy8gICAgIGZlZTogMCwKICAgIC8vICAgfSkKICAgIGludGNfMyAvLyA0CiAgICBpdHhuX2ZpZWxkIFR5cGVFbnVtCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6MTk3CiAgICAvLyBmZWU6IDAsCiAgICBpbnRjXzAgLy8gMAogICAgaXR4bl9maWVsZCBGZWUKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czoxOTEtMTk5CiAgICAvLyBpdHhuCiAgICAvLyAgIC5hc3NldFRyYW5zZmVyKHsKICAgIC8vICAgICB4ZmVyQXNzZXQ6IHRoaXMucmV3YXJkX2Fzc2V0X2lkLnZhbHVlLmFzVWludDY0KCksCiAgICAvLyAgICAgYXNzZXRSZWNlaXZlcjogdGhpcy5hZG1pbl9hZGRyZXNzLnZhbHVlLAogICAgLy8gICAgIHNlbmRlcjogR2xvYmFsLmN1cnJlbnRBcHBsaWNhdGlvbkFkZHJlc3MsCiAgICAvLyAgICAgYXNzZXRBbW91bnQ6IGF2YWlsYWJsZSwKICAgIC8vICAgICBmZWU6IDAsCiAgICAvLyAgIH0pCiAgICAvLyAgIC5zdWJtaXQoKTsKICAgIGl0eG5fc3VibWl0CiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6NDUKICAgIC8vIHJld2FyZHNfZXhoYXVzdGVkID0gR2xvYmFsU3RhdGU8VWludDY0PigpOwogICAgYnl0ZWMgMTEgLy8gInJld2FyZHNfZXhoYXVzdGVkIgogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjIwMAogICAgLy8gdGhpcy5yZXdhcmRzX2V4aGF1c3RlZC52YWx1ZSA9IG5ldyBVaW50NjQoMSk7CiAgICBieXRlYyAxNCAvLyAweDAwMDAwMDAwMDAwMDAwMDEKICAgIGFwcF9nbG9iYWxfcHV0CiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6MTg0CiAgICAvLyBAYWJpbWV0aG9kKHsgYWxsb3dBY3Rpb25zOiAiTm9PcCIgfSkKICAgIGludGNfMSAvLyAxCiAgICByZXR1cm4KCgovLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6OlN0YWtpbmcuc2V0Q29udHJhY3RBY3RpdmVbcm91dGluZ10oKSAtPiB2b2lkOgpzZXRDb250cmFjdEFjdGl2ZToKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czoyMDUKICAgIC8vIGFzc2VydChvcC5UeG4uc2VuZGVyID09PSB0aGlzLmFkbWluX2FkZHJlc3MudmFsdWUsICJPbmx5IGFkbWluIGNhbiBzZXQgYWN0aXZlIik7CiAgICB0eG4gU2VuZGVyCiAgICBpbnRjXzAgLy8gMAogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjQ5CiAgICAvLyBhZG1pbl9hZGRyZXNzID0gR2xvYmFsU3RhdGU8QWNjb3VudD4oKTsKICAgIGJ5dGVjXzEgLy8gImFkbWluX2FkZHJlc3MiCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6MjA1CiAgICAvLyBhc3NlcnQob3AuVHhuLnNlbmRlciA9PT0gdGhpcy5hZG1pbl9hZGRyZXNzLnZhbHVlLCAiT25seSBhZG1pbiBjYW4gc2V0IGFjdGl2ZSIpOwogICAgYXBwX2dsb2JhbF9nZXRfZXgKICAgIGFzc2VydCAvLyBjaGVjayBHbG9iYWxTdGF0ZSBleGlzdHMKICAgID09CiAgICBhc3NlcnQgLy8gT25seSBhZG1pbiBjYW4gc2V0IGFjdGl2ZQogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjIwNi0yMTEKICAgIC8vIGNvbnN0IHN1cGVyQWRtaW5SZXN1bHQgPSBhYmlDYWxsKHsKICAgIC8vICAgYXBwSWQ6IHRoaXMubWFzdGVyX3JlcG9fYXBwLnZhbHVlLAogICAgLy8gICBtZXRob2Q6IE1hc3RlclJlcG9TdHViLnByb3RvdHlwZS5nZXRTdXBlckFkbWluQWRkcmVzcywKICAgIC8vICAgYXJnczogW10sCiAgICAvLyAgIGZlZTogMCwKICAgIC8vIH0pLnJldHVyblZhbHVlOwogICAgaXR4bl9iZWdpbgogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjIwNwogICAgLy8gYXBwSWQ6IHRoaXMubWFzdGVyX3JlcG9fYXBwLnZhbHVlLAogICAgaW50Y18wIC8vIDAKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czo1NAogICAgLy8gbWFzdGVyX3JlcG9fYXBwID0gR2xvYmFsU3RhdGU8QXBwbGljYXRpb24+KCk7CiAgICBieXRlYyAxOCAvLyAibWFzdGVyX3JlcG9fYXBwIgogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjIwNwogICAgLy8gYXBwSWQ6IHRoaXMubWFzdGVyX3JlcG9fYXBwLnZhbHVlLAogICAgYXBwX2dsb2JhbF9nZXRfZXgKICAgIGFzc2VydCAvLyBjaGVjayBHbG9iYWxTdGF0ZSBleGlzdHMKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czoyMDYtMjExCiAgICAvLyBjb25zdCBzdXBlckFkbWluUmVzdWx0ID0gYWJpQ2FsbCh7CiAgICAvLyAgIGFwcElkOiB0aGlzLm1hc3Rlcl9yZXBvX2FwcC52YWx1ZSwKICAgIC8vICAgbWV0aG9kOiBNYXN0ZXJSZXBvU3R1Yi5wcm90b3R5cGUuZ2V0U3VwZXJBZG1pbkFkZHJlc3MsCiAgICAvLyAgIGFyZ3M6IFtdLAogICAgLy8gICBmZWU6IDAsCiAgICAvLyB9KS5yZXR1cm5WYWx1ZTsKICAgIHB1c2hieXRlcyAweGIzYjNiN2UyIC8vIG1ldGhvZCAiZ2V0U3VwZXJBZG1pbkFkZHJlc3MoKWFkZHJlc3MiCiAgICBpdHhuX2ZpZWxkIEFwcGxpY2F0aW9uQXJncwogICAgaXR4bl9maWVsZCBBcHBsaWNhdGlvbklECiAgICBwdXNoaW50IDYgLy8gYXBwbAogICAgaXR4bl9maWVsZCBUeXBlRW51bQogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjIxMAogICAgLy8gZmVlOiAwLAogICAgaW50Y18wIC8vIDAKICAgIGl0eG5fZmllbGQgRmVlCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6MjA2LTIxMQogICAgLy8gY29uc3Qgc3VwZXJBZG1pblJlc3VsdCA9IGFiaUNhbGwoewogICAgLy8gICBhcHBJZDogdGhpcy5tYXN0ZXJfcmVwb19hcHAudmFsdWUsCiAgICAvLyAgIG1ldGhvZDogTWFzdGVyUmVwb1N0dWIucHJvdG90eXBlLmdldFN1cGVyQWRtaW5BZGRyZXNzLAogICAgLy8gICBhcmdzOiBbXSwKICAgIC8vICAgZmVlOiAwLAogICAgLy8gfSkucmV0dXJuVmFsdWU7CiAgICBpdHhuX3N1Ym1pdAogICAgaXR4biBMYXN0TG9nCiAgICBkdXAKICAgIGV4dHJhY3QgNCAwCiAgICBzd2FwCiAgICBleHRyYWN0IDAgNAogICAgYnl0ZWMgMjUgLy8gMHgxNTFmN2M3NQogICAgPT0KICAgIGFzc2VydCAvLyBCeXRlcyBoYXMgdmFsaWQgcHJlZml4CiAgICBkdXAKICAgIGxlbgogICAgcHVzaGludCAzMiAvLyAzMgogICAgPT0KICAgIGFzc2VydCAvLyBpbnZhbGlkIG51bWJlciBvZiBieXRlcyBmb3IgYXJjNC5zdGF0aWNfYXJyYXk8YXJjNC51aW50OCwgMzI+CiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6NTAKICAgIC8vIHN1cGVyX2FkbWluX2FkZHJlc3MgPSBHbG9iYWxTdGF0ZTxBY2NvdW50PigpOwogICAgYnl0ZWMgMTcgLy8gInN1cGVyX2FkbWluX2FkZHJlc3MiCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6MjEyCiAgICAvLyB0aGlzLnN1cGVyX2FkbWluX2FkZHJlc3MudmFsdWUgPSBzdXBlckFkbWluUmVzdWx0OwogICAgc3dhcAogICAgYXBwX2dsb2JhbF9wdXQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czoyMTQtMjE5CiAgICAvLyBjb25zdCBwbGF0Zm9ybUZlZVJlc3VsdCA9IGFiaUNhbGwoewogICAgLy8gICBhcHBJZDogdGhpcy5tYXN0ZXJfcmVwb19hcHAudmFsdWUsCiAgICAvLyAgIG1ldGhvZDogTWFzdGVyUmVwb1N0dWIucHJvdG90eXBlLmdldFBsYXRmb3JtRmVlQnBzLAogICAgLy8gICBhcmdzOiBbXSwKICAgIC8vICAgZmVlOiAwLAogICAgLy8gfSkucmV0dXJuVmFsdWU7CiAgICBpdHhuX2JlZ2luCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6MjE1CiAgICAvLyBhcHBJZDogdGhpcy5tYXN0ZXJfcmVwb19hcHAudmFsdWUsCiAgICBpbnRjXzAgLy8gMAogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjU0CiAgICAvLyBtYXN0ZXJfcmVwb19hcHAgPSBHbG9iYWxTdGF0ZTxBcHBsaWNhdGlvbj4oKTsKICAgIGJ5dGVjIDE4IC8vICJtYXN0ZXJfcmVwb19hcHAiCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6MjE1CiAgICAvLyBhcHBJZDogdGhpcy5tYXN0ZXJfcmVwb19hcHAudmFsdWUsCiAgICBhcHBfZ2xvYmFsX2dldF9leAogICAgYXNzZXJ0IC8vIGNoZWNrIEdsb2JhbFN0YXRlIGV4aXN0cwogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjIxNC0yMTkKICAgIC8vIGNvbnN0IHBsYXRmb3JtRmVlUmVzdWx0ID0gYWJpQ2FsbCh7CiAgICAvLyAgIGFwcElkOiB0aGlzLm1hc3Rlcl9yZXBvX2FwcC52YWx1ZSwKICAgIC8vICAgbWV0aG9kOiBNYXN0ZXJSZXBvU3R1Yi5wcm90b3R5cGUuZ2V0UGxhdGZvcm1GZWVCcHMsCiAgICAvLyAgIGFyZ3M6IFtdLAogICAgLy8gICBmZWU6IDAsCiAgICAvLyB9KS5yZXR1cm5WYWx1ZTsKICAgIHB1c2hieXRlcyAweGYxMzMwMzhkIC8vIG1ldGhvZCAiZ2V0UGxhdGZvcm1GZWVCcHMoKXVpbnQ2NCIKICAgIGl0eG5fZmllbGQgQXBwbGljYXRpb25BcmdzCiAgICBpdHhuX2ZpZWxkIEFwcGxpY2F0aW9uSUQKICAgIHB1c2hpbnQgNiAvLyBhcHBsCiAgICBpdHhuX2ZpZWxkIFR5cGVFbnVtCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6MjE4CiAgICAvLyBmZWU6IDAsCiAgICBpbnRjXzAgLy8gMAogICAgaXR4bl9maWVsZCBGZWUKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czoyMTQtMjE5CiAgICAvLyBjb25zdCBwbGF0Zm9ybUZlZVJlc3VsdCA9IGFiaUNhbGwoewogICAgLy8gICBhcHBJZDogdGhpcy5tYXN0ZXJfcmVwb19hcHAudmFsdWUsCiAgICAvLyAgIG1ldGhvZDogTWFzdGVyUmVwb1N0dWIucHJvdG90eXBlLmdldFBsYXRmb3JtRmVlQnBzLAogICAgLy8gICBhcmdzOiBbXSwKICAgIC8vICAgZmVlOiAwLAogICAgLy8gfSkucmV0dXJuVmFsdWU7CiAgICBpdHhuX3N1Ym1pdAogICAgaXR4biBMYXN0TG9nCiAgICBkdXAKICAgIGV4dHJhY3QgNCAwCiAgICBzd2FwCiAgICBleHRyYWN0IDAgNAogICAgYnl0ZWMgMjUgLy8gMHgxNTFmN2M3NQogICAgPT0KICAgIGFzc2VydCAvLyBCeXRlcyBoYXMgdmFsaWQgcHJlZml4CiAgICBkdXAKICAgIGxlbgogICAgaW50Y18yIC8vIDgKICAgID09CiAgICBhc3NlcnQgLy8gaW52YWxpZCBudW1iZXIgb2YgYnl0ZXMgZm9yIGFyYzQudWludDY0CiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6MjIwCiAgICAvLyBhc3NlcnQocGxhdGZvcm1GZWVSZXN1bHQuYXNVaW50NjQoKSA8PSAxMF8wMDAsICJJbnZhbGlkIHBsYXRmb3JtIGZlZSIpOwogICAgZHVwCiAgICBidG9pCiAgICBpbnRjIDUgLy8gMTAwMDAKICAgIDw9CiAgICBhc3NlcnQgLy8gSW52YWxpZCBwbGF0Zm9ybSBmZWUKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czo1NQogICAgLy8gcGxhdGZvcm1fZmVlX2JwcyA9IEdsb2JhbFN0YXRlPFVpbnQ2ND4oKTsKICAgIGJ5dGVjIDE1IC8vICJwbGF0Zm9ybV9mZWVfYnBzIgogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjIyMQogICAgLy8gdGhpcy5wbGF0Zm9ybV9mZWVfYnBzLnZhbHVlID0gcGxhdGZvcm1GZWVSZXN1bHQ7CiAgICBzd2FwCiAgICBhcHBfZ2xvYmFsX3B1dAogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjUzCiAgICAvLyBjb250cmFjdF9zdGF0ZSA9IEdsb2JhbFN0YXRlPFVpbnQ2ND4oKTsgLy8gMCA9IGluYWN0aXZlLCAxID0gYWN0aXZlCiAgICBieXRlYyA4IC8vICJjb250cmFjdF9zdGF0ZSIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czoyMjIKICAgIC8vIHRoaXMuY29udHJhY3Rfc3RhdGUudmFsdWUgPSBuZXcgVWludDY0KDEpOwogICAgYnl0ZWMgMTQgLy8gMHgwMDAwMDAwMDAwMDAwMDAxCiAgICBhcHBfZ2xvYmFsX3B1dAogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjIwMwogICAgLy8gQGFiaW1ldGhvZCh7IGFsbG93QWN0aW9uczogIk5vT3AiIH0pCiAgICBpbnRjXzEgLy8gMQogICAgcmV0dXJuCgoKLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjpTdGFraW5nLnNldENvbnRyYWN0SW5hY3RpdmVbcm91dGluZ10oKSAtPiB2b2lkOgpzZXRDb250cmFjdEluYWN0aXZlOgogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjIyNwogICAgLy8gYXNzZXJ0KG9wLlR4bi5zZW5kZXIgPT09IHRoaXMuYWRtaW5fYWRkcmVzcy52YWx1ZSB8fCBvcC5UeG4uc2VuZGVyID09PSB0aGlzLnN1cGVyX2FkbWluX2FkZHJlc3MudmFsdWUsICJPbmx5IGFkbWluIGNhbiBzZXQgaW5hY3RpdmUiKTsKICAgIHR4biBTZW5kZXIKICAgIGludGNfMCAvLyAwCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6NDkKICAgIC8vIGFkbWluX2FkZHJlc3MgPSBHbG9iYWxTdGF0ZTxBY2NvdW50PigpOwogICAgYnl0ZWNfMSAvLyAiYWRtaW5fYWRkcmVzcyIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czoyMjcKICAgIC8vIGFzc2VydChvcC5UeG4uc2VuZGVyID09PSB0aGlzLmFkbWluX2FkZHJlc3MudmFsdWUgfHwgb3AuVHhuLnNlbmRlciA9PT0gdGhpcy5zdXBlcl9hZG1pbl9hZGRyZXNzLnZhbHVlLCAiT25seSBhZG1pbiBjYW4gc2V0IGluYWN0aXZlIik7CiAgICBhcHBfZ2xvYmFsX2dldF9leAogICAgYXNzZXJ0IC8vIGNoZWNrIEdsb2JhbFN0YXRlIGV4aXN0cwogICAgPT0KICAgIGJueiBzZXRDb250cmFjdEluYWN0aXZlX2Jvb2xfdHJ1ZUAzCiAgICB0eG4gU2VuZGVyCiAgICBpbnRjXzAgLy8gMAogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjUwCiAgICAvLyBzdXBlcl9hZG1pbl9hZGRyZXNzID0gR2xvYmFsU3RhdGU8QWNjb3VudD4oKTsKICAgIGJ5dGVjIDE3IC8vICJzdXBlcl9hZG1pbl9hZGRyZXNzIgogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjIyNwogICAgLy8gYXNzZXJ0KG9wLlR4bi5zZW5kZXIgPT09IHRoaXMuYWRtaW5fYWRkcmVzcy52YWx1ZSB8fCBvcC5UeG4uc2VuZGVyID09PSB0aGlzLnN1cGVyX2FkbWluX2FkZHJlc3MudmFsdWUsICJPbmx5IGFkbWluIGNhbiBzZXQgaW5hY3RpdmUiKTsKICAgIGFwcF9nbG9iYWxfZ2V0X2V4CiAgICBhc3NlcnQgLy8gY2hlY2sgR2xvYmFsU3RhdGUgZXhpc3RzCiAgICA9PQogICAgYnogc2V0Q29udHJhY3RJbmFjdGl2ZV9ib29sX2ZhbHNlQDQKCnNldENvbnRyYWN0SW5hY3RpdmVfYm9vbF90cnVlQDM6CiAgICBpbnRjXzEgLy8gMQoKc2V0Q29udHJhY3RJbmFjdGl2ZV9ib29sX21lcmdlQDU6CiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6MjI3CiAgICAvLyBhc3NlcnQob3AuVHhuLnNlbmRlciA9PT0gdGhpcy5hZG1pbl9hZGRyZXNzLnZhbHVlIHx8IG9wLlR4bi5zZW5kZXIgPT09IHRoaXMuc3VwZXJfYWRtaW5fYWRkcmVzcy52YWx1ZSwgIk9ubHkgYWRtaW4gY2FuIHNldCBpbmFjdGl2ZSIpOwogICAgYXNzZXJ0IC8vIE9ubHkgYWRtaW4gY2FuIHNldCBpbmFjdGl2ZQogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjUzCiAgICAvLyBjb250cmFjdF9zdGF0ZSA9IEdsb2JhbFN0YXRlPFVpbnQ2ND4oKTsgLy8gMCA9IGluYWN0aXZlLCAxID0gYWN0aXZlCiAgICBieXRlYyA4IC8vICJjb250cmFjdF9zdGF0ZSIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czoyMjgKICAgIC8vIHRoaXMuY29udHJhY3Rfc3RhdGUudmFsdWUgPSBuZXcgVWludDY0KDApOwogICAgYnl0ZWNfMCAvLyAweDAwMDAwMDAwMDAwMDAwMDAKICAgIGFwcF9nbG9iYWxfcHV0CiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6MjI1CiAgICAvLyBAYWJpbWV0aG9kKHsgYWxsb3dBY3Rpb25zOiAiTm9PcCIgfSkKICAgIGludGNfMSAvLyAxCiAgICByZXR1cm4KCnNldENvbnRyYWN0SW5hY3RpdmVfYm9vbF9mYWxzZUA0OgogICAgaW50Y18wIC8vIDAKICAgIGIgc2V0Q29udHJhY3RJbmFjdGl2ZV9ib29sX21lcmdlQDUKCgovLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6OlN0YWtpbmcudXBkYXRlQWRtaW5BZGRyZXNzW3JvdXRpbmddKCkgLT4gdm9pZDoKdXBkYXRlQWRtaW5BZGRyZXNzOgogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjIzMQogICAgLy8gQGFiaW1ldGhvZCh7IGFsbG93QWN0aW9uczogIk5vT3AiIH0pCiAgICB0eG5hIEFwcGxpY2F0aW9uQXJncyAxCiAgICBkdXAKICAgIGxlbgogICAgcHVzaGludCAzMiAvLyAzMgogICAgPT0KICAgIGFzc2VydCAvLyBpbnZhbGlkIG51bWJlciBvZiBieXRlcyBmb3IgYXJjNC5zdGF0aWNfYXJyYXk8YXJjNC51aW50OCwgMzI+CiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6MjMzCiAgICAvLyBhc3NlcnQob3AuVHhuLnNlbmRlciA9PT0gdGhpcy5hZG1pbl9hZGRyZXNzLnZhbHVlLCAiT25seSBhZG1pbiBjYW4gdXBkYXRlIGFkbWluIGFkZHJlc3MiKTsKICAgIHR4biBTZW5kZXIKICAgIGludGNfMCAvLyAwCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6NDkKICAgIC8vIGFkbWluX2FkZHJlc3MgPSBHbG9iYWxTdGF0ZTxBY2NvdW50PigpOwogICAgYnl0ZWNfMSAvLyAiYWRtaW5fYWRkcmVzcyIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czoyMzMKICAgIC8vIGFzc2VydChvcC5UeG4uc2VuZGVyID09PSB0aGlzLmFkbWluX2FkZHJlc3MudmFsdWUsICJPbmx5IGFkbWluIGNhbiB1cGRhdGUgYWRtaW4gYWRkcmVzcyIpOwogICAgYXBwX2dsb2JhbF9nZXRfZXgKICAgIGFzc2VydCAvLyBjaGVjayBHbG9iYWxTdGF0ZSBleGlzdHMKICAgID09CiAgICBhc3NlcnQgLy8gT25seSBhZG1pbiBjYW4gdXBkYXRlIGFkbWluIGFkZHJlc3MKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czo0OQogICAgLy8gYWRtaW5fYWRkcmVzcyA9IEdsb2JhbFN0YXRlPEFjY291bnQ+KCk7CiAgICBieXRlY18xIC8vICJhZG1pbl9hZGRyZXNzIgogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjIzNAogICAgLy8gdGhpcy5hZG1pbl9hZGRyZXNzLnZhbHVlID0gYWRtaW5BZGRyZXNzOwogICAgc3dhcAogICAgYXBwX2dsb2JhbF9wdXQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czoyMzEKICAgIC8vIEBhYmltZXRob2QoeyBhbGxvd0FjdGlvbnM6ICJOb09wIiB9KQogICAgaW50Y18xIC8vIDEKICAgIHJldHVybgoKCi8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czo6U3Rha2luZy53aXRoZHJhd1BsYXRmb3JtRmVlc1tyb3V0aW5nXSgpIC0+IHZvaWQ6CndpdGhkcmF3UGxhdGZvcm1GZWVzOgogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjIzNwogICAgLy8gQGFiaW1ldGhvZCh7IGFsbG93QWN0aW9uczogIk5vT3AiIH0pCiAgICB0eG5hIEFwcGxpY2F0aW9uQXJncyAxCiAgICBkdXAKICAgIGxlbgogICAgcHVzaGludCAzMiAvLyAzMgogICAgPT0KICAgIGFzc2VydCAvLyBpbnZhbGlkIG51bWJlciBvZiBieXRlcyBmb3IgYXJjNC5zdGF0aWNfYXJyYXk8YXJjNC51aW50OCwgMzI+CiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6MjM5CiAgICAvLyBhc3NlcnQob3AuVHhuLnNlbmRlciA9PT0gdGhpcy5zdXBlcl9hZG1pbl9hZGRyZXNzLnZhbHVlLCAiT25seSBzdXBlciBhZG1pbiBjYW4gd2l0aGRyYXcgZmVlcyIpOwogICAgdHhuIFNlbmRlcgogICAgaW50Y18wIC8vIDAKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czo1MAogICAgLy8gc3VwZXJfYWRtaW5fYWRkcmVzcyA9IEdsb2JhbFN0YXRlPEFjY291bnQ+KCk7CiAgICBieXRlYyAxNyAvLyAic3VwZXJfYWRtaW5fYWRkcmVzcyIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czoyMzkKICAgIC8vIGFzc2VydChvcC5UeG4uc2VuZGVyID09PSB0aGlzLnN1cGVyX2FkbWluX2FkZHJlc3MudmFsdWUsICJPbmx5IHN1cGVyIGFkbWluIGNhbiB3aXRoZHJhdyBmZWVzIik7CiAgICBhcHBfZ2xvYmFsX2dldF9leAogICAgYXNzZXJ0IC8vIGNoZWNrIEdsb2JhbFN0YXRlIGV4aXN0cwogICAgPT0KICAgIGFzc2VydCAvLyBPbmx5IHN1cGVyIGFkbWluIGNhbiB3aXRoZHJhdyBmZWVzCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6MjQwCiAgICAvLyBjb25zdCBhY2NydWVkOiB1aW50NjQgPSB0aGlzLnBsYXRmb3JtX2ZlZXNfYWNjcnVlZC52YWx1ZS5hc1VpbnQ2NCgpOwogICAgaW50Y18wIC8vIDAKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czo1NgogICAgLy8gcGxhdGZvcm1fZmVlc19hY2NydWVkID0gR2xvYmFsU3RhdGU8VWludDY0PigpOwogICAgYnl0ZWMgNCAvLyAicGxhdGZvcm1fZmVlc19hY2NydWVkIgogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjI0MAogICAgLy8gY29uc3QgYWNjcnVlZDogdWludDY0ID0gdGhpcy5wbGF0Zm9ybV9mZWVzX2FjY3J1ZWQudmFsdWUuYXNVaW50NjQoKTsKICAgIGFwcF9nbG9iYWxfZ2V0X2V4CiAgICBhc3NlcnQgLy8gY2hlY2sgR2xvYmFsU3RhdGUgZXhpc3RzCiAgICBidG9pCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6MjQxCiAgICAvLyBhc3NlcnQoYWNjcnVlZCA+IDAsICJObyBmZWVzIGFjY3J1ZWQiKTsKICAgIGR1cAogICAgYXNzZXJ0IC8vIE5vIGZlZXMgYWNjcnVlZAogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjU2CiAgICAvLyBwbGF0Zm9ybV9mZWVzX2FjY3J1ZWQgPSBHbG9iYWxTdGF0ZTxVaW50NjQ+KCk7CiAgICBieXRlYyA0IC8vICJwbGF0Zm9ybV9mZWVzX2FjY3J1ZWQiCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6MjQzCiAgICAvLyB0aGlzLnBsYXRmb3JtX2ZlZXNfYWNjcnVlZC52YWx1ZSA9IG5ldyBVaW50NjQoMCk7CiAgICBieXRlY18wIC8vIDB4MDAwMDAwMDAwMDAwMDAwMAogICAgYXBwX2dsb2JhbF9wdXQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czoyNDQtMjUyCiAgICAvLyBpdHhuCiAgICAvLyAgIC5hc3NldFRyYW5zZmVyKHsKICAgIC8vICAgICB4ZmVyQXNzZXQ6IHRoaXMucmV3YXJkX2Fzc2V0X2lkLnZhbHVlLmFzVWludDY0KCksCiAgICAvLyAgICAgYXNzZXRSZWNlaXZlcjogcmVjZWl2ZXIsCiAgICAvLyAgICAgc2VuZGVyOiBHbG9iYWwuY3VycmVudEFwcGxpY2F0aW9uQWRkcmVzcywKICAgIC8vICAgICBhc3NldEFtb3VudDogYWNjcnVlZCwKICAgIC8vICAgICBmZWU6IDAsCiAgICAvLyAgIH0pCiAgICAvLyAgIC5zdWJtaXQoKTsKICAgIGl0eG5fYmVnaW4KICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czoyNDYKICAgIC8vIHhmZXJBc3NldDogdGhpcy5yZXdhcmRfYXNzZXRfaWQudmFsdWUuYXNVaW50NjQoKSwKICAgIGludGNfMCAvLyAwCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6MjkKICAgIC8vIHJld2FyZF9hc3NldF9pZCA9IEdsb2JhbFN0YXRlPFVpbnQ2ND4oKTsKICAgIGJ5dGVjIDYgLy8gInJld2FyZF9hc3NldF9pZCIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czoyNDYKICAgIC8vIHhmZXJBc3NldDogdGhpcy5yZXdhcmRfYXNzZXRfaWQudmFsdWUuYXNVaW50NjQoKSwKICAgIGFwcF9nbG9iYWxfZ2V0X2V4CiAgICBhc3NlcnQgLy8gY2hlY2sgR2xvYmFsU3RhdGUgZXhpc3RzCiAgICBidG9pCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6MjQ4CiAgICAvLyBzZW5kZXI6IEdsb2JhbC5jdXJyZW50QXBwbGljYXRpb25BZGRyZXNzLAogICAgZ2xvYmFsIEN1cnJlbnRBcHBsaWNhdGlvbkFkZHJlc3MKICAgIHVuY292ZXIgMgogICAgaXR4bl9maWVsZCBBc3NldEFtb3VudAogICAgaXR4bl9maWVsZCBTZW5kZXIKICAgIGl0eG5fZmllbGQgWGZlckFzc2V0CiAgICBpdHhuX2ZpZWxkIEFzc2V0UmVjZWl2ZXIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czoyNDQtMjUxCiAgICAvLyBpdHhuCiAgICAvLyAgIC5hc3NldFRyYW5zZmVyKHsKICAgIC8vICAgICB4ZmVyQXNzZXQ6IHRoaXMucmV3YXJkX2Fzc2V0X2lkLnZhbHVlLmFzVWludDY0KCksCiAgICAvLyAgICAgYXNzZXRSZWNlaXZlcjogcmVjZWl2ZXIsCiAgICAvLyAgICAgc2VuZGVyOiBHbG9iYWwuY3VycmVudEFwcGxpY2F0aW9uQWRkcmVzcywKICAgIC8vICAgICBhc3NldEFtb3VudDogYWNjcnVlZCwKICAgIC8vICAgICBmZWU6IDAsCiAgICAvLyAgIH0pCiAgICBpbnRjXzMgLy8gNAogICAgaXR4bl9maWVsZCBUeXBlRW51bQogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjI1MAogICAgLy8gZmVlOiAwLAogICAgaW50Y18wIC8vIDAKICAgIGl0eG5fZmllbGQgRmVlCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6MjQ0LTI1MgogICAgLy8gaXR4bgogICAgLy8gICAuYXNzZXRUcmFuc2Zlcih7CiAgICAvLyAgICAgeGZlckFzc2V0OiB0aGlzLnJld2FyZF9hc3NldF9pZC52YWx1ZS5hc1VpbnQ2NCgpLAogICAgLy8gICAgIGFzc2V0UmVjZWl2ZXI6IHJlY2VpdmVyLAogICAgLy8gICAgIHNlbmRlcjogR2xvYmFsLmN1cnJlbnRBcHBsaWNhdGlvbkFkZHJlc3MsCiAgICAvLyAgICAgYXNzZXRBbW91bnQ6IGFjY3J1ZWQsCiAgICAvLyAgICAgZmVlOiAwLAogICAgLy8gICB9KQogICAgLy8gICAuc3VibWl0KCk7CiAgICBpdHhuX3N1Ym1pdAogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjIzNwogICAgLy8gQGFiaW1ldGhvZCh7IGFsbG93QWN0aW9uczogIk5vT3AiIH0pCiAgICBpbnRjXzEgLy8gMQogICAgcmV0dXJuCgoKLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjpTdGFraW5nLnN0YWtlW3JvdXRpbmddKCkgLT4gdm9pZDoKc3Rha2U6CiAgICBwdXNoYnl0ZXMgIiIKICAgIGR1cG4gNgogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjMyMgogICAgLy8gQGFiaW1ldGhvZCh7IGFsbG93QWN0aW9uczogIk5vT3AiIH0pCiAgICB0eG4gR3JvdXBJbmRleAogICAgcHVzaGludCAyIC8vIDIKICAgIC0KICAgIGR1cAogICAgZ3R4bnMgVHlwZUVudW0KICAgIGludGNfMyAvLyBheGZlcgogICAgPT0KICAgIGFzc2VydCAvLyB0cmFuc2FjdGlvbiB0eXBlIGlzIGF4ZmVyCiAgICB0eG5hIEFwcGxpY2F0aW9uQXJncyAxCiAgICBkdXAKICAgIGxlbgogICAgaW50Y18yIC8vIDgKICAgID09CiAgICBhc3NlcnQgLy8gaW52YWxpZCBudW1iZXIgb2YgYnl0ZXMgZm9yIGFyYzQudWludDY0CiAgICBidG9pCiAgICBkdXAKICAgIGNvdmVyIDIKICAgIHR4biBHcm91cEluZGV4CiAgICBpbnRjXzEgLy8gMQogICAgLQogICAgZHVwCiAgICBndHhucyBUeXBlRW51bQogICAgaW50Y18xIC8vIHBheQogICAgPT0KICAgIGFzc2VydCAvLyB0cmFuc2FjdGlvbiB0eXBlIGlzIHBheQogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjMyNAogICAgLy8gYXNzZXJ0KHF1YW50aXR5ID4gMCwgIkludmFsaWQgcXVhbnRpdHkiKTsKICAgIGRpZyAxCiAgICBhc3NlcnQgLy8gSW52YWxpZCBxdWFudGl0eQogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjMyNQogICAgLy8gYXNzZXJ0KHRoaXMuY29udHJhY3Rfc3RhdGUudmFsdWUuYXNVaW50NjQoKSA9PT0gMSwgIlBvb2wgaXMgaW5hY3RpdmUiKTsKICAgIGludGNfMCAvLyAwCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6NTMKICAgIC8vIGNvbnRyYWN0X3N0YXRlID0gR2xvYmFsU3RhdGU8VWludDY0PigpOyAvLyAwID0gaW5hY3RpdmUsIDEgPSBhY3RpdmUKICAgIGJ5dGVjIDggLy8gImNvbnRyYWN0X3N0YXRlIgogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjMyNQogICAgLy8gYXNzZXJ0KHRoaXMuY29udHJhY3Rfc3RhdGUudmFsdWUuYXNVaW50NjQoKSA9PT0gMSwgIlBvb2wgaXMgaW5hY3RpdmUiKTsKICAgIGFwcF9nbG9iYWxfZ2V0X2V4CiAgICBhc3NlcnQgLy8gY2hlY2sgR2xvYmFsU3RhdGUgZXhpc3RzCiAgICBidG9pCiAgICBpbnRjXzEgLy8gMQogICAgPT0KICAgIGFzc2VydCAvLyBQb29sIGlzIGluYWN0aXZlCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6MzI2CiAgICAvLyBhc3NlcnQodGhpcy5yZXdhcmRzX2V4aGF1c3RlZC52YWx1ZS5hc1VpbnQ2NCgpID09PSAwLCAiUmV3YXJkcyBleGhhdXN0ZWQiKTsKICAgIGludGNfMCAvLyAwCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6NDUKICAgIC8vIHJld2FyZHNfZXhoYXVzdGVkID0gR2xvYmFsU3RhdGU8VWludDY0PigpOwogICAgYnl0ZWMgMTEgLy8gInJld2FyZHNfZXhoYXVzdGVkIgogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjMyNgogICAgLy8gYXNzZXJ0KHRoaXMucmV3YXJkc19leGhhdXN0ZWQudmFsdWUuYXNVaW50NjQoKSA9PT0gMCwgIlJld2FyZHMgZXhoYXVzdGVkIik7CiAgICBhcHBfZ2xvYmFsX2dldF9leAogICAgYXNzZXJ0IC8vIGNoZWNrIEdsb2JhbFN0YXRlIGV4aXN0cwogICAgYnRvaQogICAgIQogICAgYXNzZXJ0IC8vIFJld2FyZHMgZXhoYXVzdGVkCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6MzI3LTMzMgogICAgLy8gYXNzZXJ0TWF0Y2goc3Rha2VUeG4sIHsKICAgIC8vICAgc2VuZGVyOiBvcC5UeG4uc2VuZGVyLAogICAgLy8gICBhc3NldFJlY2VpdmVyOiBHbG9iYWwuY3VycmVudEFwcGxpY2F0aW9uQWRkcmVzcywKICAgIC8vICAgeGZlckFzc2V0OiBBc3NldCh0aGlzLnN0YWtlZF9hc3NldF9pZC52YWx1ZS5hc1VpbnQ2NCgpKSwKICAgIC8vICAgYXNzZXRBbW91bnQ6IHF1YW50aXR5LAogICAgLy8gfSk7CiAgICBkaWcgMgogICAgZ3R4bnMgU2VuZGVyCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6MzI4CiAgICAvLyBzZW5kZXI6IG9wLlR4bi5zZW5kZXIsCiAgICB0eG4gU2VuZGVyCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6MzI3LTMzMgogICAgLy8gYXNzZXJ0TWF0Y2goc3Rha2VUeG4sIHsKICAgIC8vICAgc2VuZGVyOiBvcC5UeG4uc2VuZGVyLAogICAgLy8gICBhc3NldFJlY2VpdmVyOiBHbG9iYWwuY3VycmVudEFwcGxpY2F0aW9uQWRkcmVzcywKICAgIC8vICAgeGZlckFzc2V0OiBBc3NldCh0aGlzLnN0YWtlZF9hc3NldF9pZC52YWx1ZS5hc1VpbnQ2NCgpKSwKICAgIC8vICAgYXNzZXRBbW91bnQ6IHF1YW50aXR5LAogICAgLy8gfSk7CiAgICA9PQogICAgZGlnIDMKICAgIGd0eG5zIEFzc2V0UmVjZWl2ZXIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czozMjkKICAgIC8vIGFzc2V0UmVjZWl2ZXI6IEdsb2JhbC5jdXJyZW50QXBwbGljYXRpb25BZGRyZXNzLAogICAgZ2xvYmFsIEN1cnJlbnRBcHBsaWNhdGlvbkFkZHJlc3MKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czozMjctMzMyCiAgICAvLyBhc3NlcnRNYXRjaChzdGFrZVR4biwgewogICAgLy8gICBzZW5kZXI6IG9wLlR4bi5zZW5kZXIsCiAgICAvLyAgIGFzc2V0UmVjZWl2ZXI6IEdsb2JhbC5jdXJyZW50QXBwbGljYXRpb25BZGRyZXNzLAogICAgLy8gICB4ZmVyQXNzZXQ6IEFzc2V0KHRoaXMuc3Rha2VkX2Fzc2V0X2lkLnZhbHVlLmFzVWludDY0KCkpLAogICAgLy8gICBhc3NldEFtb3VudDogcXVhbnRpdHksCiAgICAvLyB9KTsKICAgID09CiAgICAmJgogICAgZGlnIDMKICAgIGd0eG5zIFhmZXJBc3NldAogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjMzMAogICAgLy8geGZlckFzc2V0OiBBc3NldCh0aGlzLnN0YWtlZF9hc3NldF9pZC52YWx1ZS5hc1VpbnQ2NCgpKSwKICAgIGludGNfMCAvLyAwCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6MjgKICAgIC8vIHN0YWtlZF9hc3NldF9pZCA9IEdsb2JhbFN0YXRlPFVpbnQ2ND4oKTsKICAgIGJ5dGVjIDE2IC8vICJzdGFrZWRfYXNzZXRfaWQiCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6MzMwCiAgICAvLyB4ZmVyQXNzZXQ6IEFzc2V0KHRoaXMuc3Rha2VkX2Fzc2V0X2lkLnZhbHVlLmFzVWludDY0KCkpLAogICAgYXBwX2dsb2JhbF9nZXRfZXgKICAgIGFzc2VydCAvLyBjaGVjayBHbG9iYWxTdGF0ZSBleGlzdHMKICAgIGJ0b2kKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czozMjctMzMyCiAgICAvLyBhc3NlcnRNYXRjaChzdGFrZVR4biwgewogICAgLy8gICBzZW5kZXI6IG9wLlR4bi5zZW5kZXIsCiAgICAvLyAgIGFzc2V0UmVjZWl2ZXI6IEdsb2JhbC5jdXJyZW50QXBwbGljYXRpb25BZGRyZXNzLAogICAgLy8gICB4ZmVyQXNzZXQ6IEFzc2V0KHRoaXMuc3Rha2VkX2Fzc2V0X2lkLnZhbHVlLmFzVWludDY0KCkpLAogICAgLy8gICBhc3NldEFtb3VudDogcXVhbnRpdHksCiAgICAvLyB9KTsKICAgID09CiAgICAmJgogICAgdW5jb3ZlciAzCiAgICBndHhucyBBc3NldEFtb3VudAogICAgdW5jb3ZlciAzCiAgICA9PQogICAgJiYKICAgIGFzc2VydCAvLyBhc3NlcnQgdGFyZ2V0IGlzIG1hdGNoIGZvciBjb25kaXRpb25zCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6MzMzLTMzNwogICAgLy8gYXNzZXJ0TWF0Y2gobWJyVHhuLCB7CiAgICAvLyAgIHNlbmRlcjogb3AuVHhuLnNlbmRlciwKICAgIC8vICAgcmVjZWl2ZXI6IEdsb2JhbC5jdXJyZW50QXBwbGljYXRpb25BZGRyZXNzLAogICAgLy8gICBhbW91bnQ6IEJPWF9GRUUsCiAgICAvLyB9KTsKICAgIGR1cAogICAgZ3R4bnMgU2VuZGVyCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6MzM0CiAgICAvLyBzZW5kZXI6IG9wLlR4bi5zZW5kZXIsCiAgICB0eG4gU2VuZGVyCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6MzMzLTMzNwogICAgLy8gYXNzZXJ0TWF0Y2gobWJyVHhuLCB7CiAgICAvLyAgIHNlbmRlcjogb3AuVHhuLnNlbmRlciwKICAgIC8vICAgcmVjZWl2ZXI6IEdsb2JhbC5jdXJyZW50QXBwbGljYXRpb25BZGRyZXNzLAogICAgLy8gICBhbW91bnQ6IEJPWF9GRUUsCiAgICAvLyB9KTsKICAgID09CiAgICBkaWcgMQogICAgZ3R4bnMgUmVjZWl2ZXIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czozMzUKICAgIC8vIHJlY2VpdmVyOiBHbG9iYWwuY3VycmVudEFwcGxpY2F0aW9uQWRkcmVzcywKICAgIGdsb2JhbCBDdXJyZW50QXBwbGljYXRpb25BZGRyZXNzCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6MzMzLTMzNwogICAgLy8gYXNzZXJ0TWF0Y2gobWJyVHhuLCB7CiAgICAvLyAgIHNlbmRlcjogb3AuVHhuLnNlbmRlciwKICAgIC8vICAgcmVjZWl2ZXI6IEdsb2JhbC5jdXJyZW50QXBwbGljYXRpb25BZGRyZXNzLAogICAgLy8gICBhbW91bnQ6IEJPWF9GRUUsCiAgICAvLyB9KTsKICAgID09CiAgICAmJgogICAgc3dhcAogICAgZ3R4bnMgQW1vdW50CiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6MzM2CiAgICAvLyBhbW91bnQ6IEJPWF9GRUUsCiAgICBpbnRjIDYgLy8gMjI1MDAKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czozMzMtMzM3CiAgICAvLyBhc3NlcnRNYXRjaChtYnJUeG4sIHsKICAgIC8vICAgc2VuZGVyOiBvcC5UeG4uc2VuZGVyLAogICAgLy8gICByZWNlaXZlcjogR2xvYmFsLmN1cnJlbnRBcHBsaWNhdGlvbkFkZHJlc3MsCiAgICAvLyAgIGFtb3VudDogQk9YX0ZFRSwKICAgIC8vIH0pOwogICAgPT0KICAgICYmCiAgICBhc3NlcnQgLy8gYXNzZXJ0IHRhcmdldCBpcyBtYXRjaCBmb3IgY29uZGl0aW9ucwogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjI2CiAgICAvLyBzdGFrZXJzID0gQm94TWFwPEFjY291bnQsIFN0YWtlSW5mb1JlY29yZD4oeyBrZXlQcmVmaXg6ICJzdCIgfSk7CiAgICBieXRlY18zIC8vICJzdCIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czozMzgKICAgIC8vIGNvbnN0IGV4aXN0cyA9IHRoaXMuc3Rha2VycyhvcC5UeG4uc2VuZGVyKS5leGlzdHM7CiAgICB0eG4gU2VuZGVyCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6MjYKICAgIC8vIHN0YWtlcnMgPSBCb3hNYXA8QWNjb3VudCwgU3Rha2VJbmZvUmVjb3JkPih7IGtleVByZWZpeDogInN0IiB9KTsKICAgIGNvbmNhdAogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjMzOAogICAgLy8gY29uc3QgZXhpc3RzID0gdGhpcy5zdGFrZXJzKG9wLlR4bi5zZW5kZXIpLmV4aXN0czsKICAgIGJveF9sZW4KICAgIGR1cAogICAgdW5jb3ZlciAyCiAgICBwb3AKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czozMzkKICAgIC8vIGlmIChleGlzdHMpIHsKICAgIGJ6IHN0YWtlX2FmdGVyX2lmX2Vsc2VANAogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjM0MS0zNDgKICAgIC8vIGl0eG4KICAgIC8vICAgLnBheW1lbnQoewogICAgLy8gICAgIHJlY2VpdmVyOiBvcC5UeG4uc2VuZGVyLAogICAgLy8gICAgIGFtb3VudDogQk9YX0ZFRSwKICAgIC8vICAgICBzZW5kZXI6IEdsb2JhbC5jdXJyZW50QXBwbGljYXRpb25BZGRyZXNzLAogICAgLy8gICAgIGZlZTogMCwKICAgIC8vICAgfSkKICAgIC8vICAgLnN1Ym1pdCgpOwogICAgaXR4bl9iZWdpbgogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjM0MwogICAgLy8gcmVjZWl2ZXI6IG9wLlR4bi5zZW5kZXIsCiAgICB0eG4gU2VuZGVyCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6MzQ1CiAgICAvLyBzZW5kZXI6IEdsb2JhbC5jdXJyZW50QXBwbGljYXRpb25BZGRyZXNzLAogICAgZ2xvYmFsIEN1cnJlbnRBcHBsaWNhdGlvbkFkZHJlc3MKICAgIGl0eG5fZmllbGQgU2VuZGVyCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6MzQ0CiAgICAvLyBhbW91bnQ6IEJPWF9GRUUsCiAgICBpbnRjIDYgLy8gMjI1MDAKICAgIGl0eG5fZmllbGQgQW1vdW50CiAgICBpdHhuX2ZpZWxkIFJlY2VpdmVyCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6MzQxLTM0NwogICAgLy8gaXR4bgogICAgLy8gICAucGF5bWVudCh7CiAgICAvLyAgICAgcmVjZWl2ZXI6IG9wLlR4bi5zZW5kZXIsCiAgICAvLyAgICAgYW1vdW50OiBCT1hfRkVFLAogICAgLy8gICAgIHNlbmRlcjogR2xvYmFsLmN1cnJlbnRBcHBsaWNhdGlvbkFkZHJlc3MsCiAgICAvLyAgICAgZmVlOiAwLAogICAgLy8gICB9KQogICAgaW50Y18xIC8vIDEKICAgIGl0eG5fZmllbGQgVHlwZUVudW0KICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czozNDYKICAgIC8vIGZlZTogMCwKICAgIGludGNfMCAvLyAwCiAgICBpdHhuX2ZpZWxkIEZlZQogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjM0MS0zNDgKICAgIC8vIGl0eG4KICAgIC8vICAgLnBheW1lbnQoewogICAgLy8gICAgIHJlY2VpdmVyOiBvcC5UeG4uc2VuZGVyLAogICAgLy8gICAgIGFtb3VudDogQk9YX0ZFRSwKICAgIC8vICAgICBzZW5kZXI6IEdsb2JhbC5jdXJyZW50QXBwbGljYXRpb25BZGRyZXNzLAogICAgLy8gICAgIGZlZTogMCwKICAgIC8vICAgfSkKICAgIC8vICAgLnN1Ym1pdCgpOwogICAgaXR4bl9zdWJtaXQKCnN0YWtlX2FmdGVyX2lmX2Vsc2VANDoKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czozNTEKICAgIC8vIHRoaXMudXBkYXRlUG9vbCgpOwogICAgY2FsbHN1YiB1cGRhdGVQb29sCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6MzUzCiAgICAvLyBjb25zdCBwcmV2U3Rha2U6IHVpbnQ2NCA9IGV4aXN0cyA/IHRoaXMuc3Rha2VycyhvcC5UeG4uc2VuZGVyKS52YWx1ZS5zdGFrZS5hc1VpbnQ2NCgpIDogMDsKICAgIGR1cAogICAgYnogc3Rha2VfdGVybmFyeV9mYWxzZUA2CiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6MjYKICAgIC8vIHN0YWtlcnMgPSBCb3hNYXA8QWNjb3VudCwgU3Rha2VJbmZvUmVjb3JkPih7IGtleVByZWZpeDogInN0IiB9KTsKICAgIGJ5dGVjXzMgLy8gInN0IgogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjM1MwogICAgLy8gY29uc3QgcHJldlN0YWtlOiB1aW50NjQgPSBleGlzdHMgPyB0aGlzLnN0YWtlcnMob3AuVHhuLnNlbmRlcikudmFsdWUuc3Rha2UuYXNVaW50NjQoKSA6IDA7CiAgICB0eG4gU2VuZGVyCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6MjYKICAgIC8vIHN0YWtlcnMgPSBCb3hNYXA8QWNjb3VudCwgU3Rha2VJbmZvUmVjb3JkPih7IGtleVByZWZpeDogInN0IiB9KTsKICAgIGNvbmNhdAogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjM1MwogICAgLy8gY29uc3QgcHJldlN0YWtlOiB1aW50NjQgPSBleGlzdHMgPyB0aGlzLnN0YWtlcnMob3AuVHhuLnNlbmRlcikudmFsdWUuc3Rha2UuYXNVaW50NjQoKSA6IDA7CiAgICBib3hfZ2V0CiAgICBhc3NlcnQgLy8gQm94IG11c3QgaGF2ZSB2YWx1ZQogICAgaW50Y18wIC8vIDAKICAgIGV4dHJhY3RfdWludDY0CiAgICBidXJ5IDMKCnN0YWtlX3Rlcm5hcnlfbWVyZ2VANzoKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czozNTQKICAgIC8vIGNvbnN0IHByZXZEZWJ0OiB1aW50NjQgPSBleGlzdHMgPyB0aGlzLnN0YWtlcnMob3AuVHhuLnNlbmRlcikudmFsdWUucmV3YXJkRGVidC5hc1VpbnQ2NCgpIDogMDsKICAgIGR1cAogICAgYnogc3Rha2VfdGVybmFyeV9mYWxzZUA5CiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6MjYKICAgIC8vIHN0YWtlcnMgPSBCb3hNYXA8QWNjb3VudCwgU3Rha2VJbmZvUmVjb3JkPih7IGtleVByZWZpeDogInN0IiB9KTsKICAgIGJ5dGVjXzMgLy8gInN0IgogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjM1NAogICAgLy8gY29uc3QgcHJldkRlYnQ6IHVpbnQ2NCA9IGV4aXN0cyA/IHRoaXMuc3Rha2VycyhvcC5UeG4uc2VuZGVyKS52YWx1ZS5yZXdhcmREZWJ0LmFzVWludDY0KCkgOiAwOwogICAgdHhuIFNlbmRlcgogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjI2CiAgICAvLyBzdGFrZXJzID0gQm94TWFwPEFjY291bnQsIFN0YWtlSW5mb1JlY29yZD4oeyBrZXlQcmVmaXg6ICJzdCIgfSk7CiAgICBjb25jYXQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czozNTQKICAgIC8vIGNvbnN0IHByZXZEZWJ0OiB1aW50NjQgPSBleGlzdHMgPyB0aGlzLnN0YWtlcnMob3AuVHhuLnNlbmRlcikudmFsdWUucmV3YXJkRGVidC5hc1VpbnQ2NCgpIDogMDsKICAgIGJveF9nZXQKICAgIGFzc2VydCAvLyBCb3ggbXVzdCBoYXZlIHZhbHVlCiAgICBpbnRjXzIgLy8gOAogICAgZXh0cmFjdF91aW50NjQKICAgIGJ1cnkgNAoKc3Rha2VfdGVybmFyeV9tZXJnZUAxMDoKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czozNTUKICAgIC8vIGNvbnN0IGFjY3J1ZWQgPSBtdWxEaXZXKHByZXZTdGFrZSwgdGhpcy5yZXdhcmRfcGVyX3Rva2VuLnZhbHVlLmFzVWludDY0KCksIFBSRUNJU0lPTik7CiAgICBpbnRjXzAgLy8gMAogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjMyCiAgICAvLyByZXdhcmRfcGVyX3Rva2VuID0gR2xvYmFsU3RhdGU8VWludDY0PigpOwogICAgYnl0ZWMgOSAvLyAicmV3YXJkX3Blcl90b2tlbiIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czozNTUKICAgIC8vIGNvbnN0IGFjY3J1ZWQgPSBtdWxEaXZXKHByZXZTdGFrZSwgdGhpcy5yZXdhcmRfcGVyX3Rva2VuLnZhbHVlLmFzVWludDY0KCksIFBSRUNJU0lPTik7CiAgICBhcHBfZ2xvYmFsX2dldF9leAogICAgYXNzZXJ0IC8vIGNoZWNrIEdsb2JhbFN0YXRlIGV4aXN0cwogICAgYnRvaQogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvY29uZmlnLmFsZ28udHM6MjgKICAgIC8vIGNvbnN0IFtoaSwgbG9dID0gbXVsdyhhLCBiKTsKICAgIGRpZyAzCiAgICBtdWx3CiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6MzU1CiAgICAvLyBjb25zdCBhY2NydWVkID0gbXVsRGl2VyhwcmV2U3Rha2UsIHRoaXMucmV3YXJkX3Blcl90b2tlbi52YWx1ZS5hc1VpbnQ2NCgpLCBQUkVDSVNJT04pOwogICAgaW50YyA0IC8vIDEwMDAwMDAwMDAwMDAwMDAKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL2NvbmZpZy5hbGdvLnRzOjI5CiAgICAvLyByZXR1cm4gZGl2dyhoaSwgbG8sIGMpOwogICAgZGl2dwogICAgZHVwCiAgICBidXJ5IDEwCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6MzU2CiAgICAvLyBsZXQgcGVuZGluZzogdWludDY0ID0gYWNjcnVlZCA+IHByZXZEZWJ0ID8gYWNjcnVlZCAtIHByZXZEZWJ0IDogMDsKICAgIGRpZyA0CiAgICA+CiAgICBieiBzdGFrZV90ZXJuYXJ5X2ZhbHNlQDEyCiAgICBkaWcgOAogICAgZGlnIDQKICAgIC0KICAgIGJ1cnkgNQoKc3Rha2VfdGVybmFyeV9tZXJnZUAxMzoKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czozNTcKICAgIC8vIGNvbnN0IHBheWFibGU6IHVpbnQ2NCA9IHRoaXMuYWNjcnVlZF9yZXdhcmRzLnZhbHVlLmFzVWludDY0KCkgLSB0aGlzLnJld2FyZHNfcGFpZC52YWx1ZS5hc1VpbnQ2NCgpOwogICAgaW50Y18wIC8vIDAKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czo0MwogICAgLy8gYWNjcnVlZF9yZXdhcmRzID0gR2xvYmFsU3RhdGU8VWludDY0PigpOwogICAgYnl0ZWMgNyAvLyAiYWNjcnVlZF9yZXdhcmRzIgogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjM1NwogICAgLy8gY29uc3QgcGF5YWJsZTogdWludDY0ID0gdGhpcy5hY2NydWVkX3Jld2FyZHMudmFsdWUuYXNVaW50NjQoKSAtIHRoaXMucmV3YXJkc19wYWlkLnZhbHVlLmFzVWludDY0KCk7CiAgICBhcHBfZ2xvYmFsX2dldF9leAogICAgYXNzZXJ0IC8vIGNoZWNrIEdsb2JhbFN0YXRlIGV4aXN0cwogICAgYnRvaQogICAgaW50Y18wIC8vIDAKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czo0NgogICAgLy8gcmV3YXJkc19wYWlkID0gR2xvYmFsU3RhdGU8VWludDY0PigpOwogICAgYnl0ZWNfMiAvLyAicmV3YXJkc19wYWlkIgogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjM1NwogICAgLy8gY29uc3QgcGF5YWJsZTogdWludDY0ID0gdGhpcy5hY2NydWVkX3Jld2FyZHMudmFsdWUuYXNVaW50NjQoKSAtIHRoaXMucmV3YXJkc19wYWlkLnZhbHVlLmFzVWludDY0KCk7CiAgICBhcHBfZ2xvYmFsX2dldF9leAogICAgYXNzZXJ0IC8vIGNoZWNrIEdsb2JhbFN0YXRlIGV4aXN0cwogICAgYnRvaQogICAgLQogICAgZHVwCiAgICBidXJ5IDcKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czozNTgKICAgIC8vIGlmIChwZW5kaW5nID4gcGF5YWJsZSkgewogICAgZGlnIDUKICAgIDwKICAgIGJ6IHN0YWtlX2FmdGVyX2lmX2Vsc2VAMTUKICAgIGRpZyA1CiAgICBidXJ5IDUKCnN0YWtlX2FmdGVyX2lmX2Vsc2VAMTU6CiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6MzYyCiAgICAvLyBpZiAocGVuZGluZyA+IDApIHsKICAgIGRpZyA0CiAgICBieiBzdGFrZV9hZnRlcl9pZl9lbHNlQDIyCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6MzYzCiAgICAvLyBsZXQgZmVlOiB1aW50NjQgPSBtdWxEaXZXKHBlbmRpbmcsIHRoaXMucGxhdGZvcm1fZmVlX2Jwcy52YWx1ZS5hc1VpbnQ2NCgpLCAxMF8wMDApOwogICAgaW50Y18wIC8vIDAKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czo1NQogICAgLy8gcGxhdGZvcm1fZmVlX2JwcyA9IEdsb2JhbFN0YXRlPFVpbnQ2ND4oKTsKICAgIGJ5dGVjIDE1IC8vICJwbGF0Zm9ybV9mZWVfYnBzIgogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjM2MwogICAgLy8gbGV0IGZlZTogdWludDY0ID0gbXVsRGl2VyhwZW5kaW5nLCB0aGlzLnBsYXRmb3JtX2ZlZV9icHMudmFsdWUuYXNVaW50NjQoKSwgMTBfMDAwKTsKICAgIGFwcF9nbG9iYWxfZ2V0X2V4CiAgICBhc3NlcnQgLy8gY2hlY2sgR2xvYmFsU3RhdGUgZXhpc3RzCiAgICBidG9pCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9jb25maWcuYWxnby50czoyOAogICAgLy8gY29uc3QgW2hpLCBsb10gPSBtdWx3KGEsIGIpOwogICAgZGlnIDUKICAgIGR1cAogICAgdW5jb3ZlciAyCiAgICBtdWx3CiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6MzYzCiAgICAvLyBsZXQgZmVlOiB1aW50NjQgPSBtdWxEaXZXKHBlbmRpbmcsIHRoaXMucGxhdGZvcm1fZmVlX2Jwcy52YWx1ZS5hc1VpbnQ2NCgpLCAxMF8wMDApOwogICAgaW50YyA1IC8vIDEwMDAwCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9jb25maWcuYWxnby50czoyOQogICAgLy8gcmV0dXJuIGRpdncoaGksIGxvLCBjKTsKICAgIGRpdncKICAgIGR1cAogICAgYnVyeSAxMAogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjM2NAogICAgLy8gaWYgKGZlZSA+IHBlbmRpbmcpIHsKICAgIDwKICAgIGJ6IHN0YWtlX2FmdGVyX2lmX2Vsc2VAMTgKICAgIGRpZyA0CiAgICBidXJ5IDgKCnN0YWtlX2FmdGVyX2lmX2Vsc2VAMTg6CiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6MzY3CiAgICAvLyBjb25zdCBuZXQ6IHVpbnQ2NCA9IHBlbmRpbmcgLSBmZWU7CiAgICBkaWcgNAogICAgZGlnIDgKICAgIGR1cAogICAgY292ZXIgMgogICAgLQogICAgYnVyeSA4CiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6MzY4CiAgICAvLyBpZiAoZmVlID4gMCkgewogICAgYnogc3Rha2VfYWZ0ZXJfaWZfZWxzZUAyMAogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjM2OQogICAgLy8gdGhpcy5wbGF0Zm9ybV9mZWVzX2FjY3J1ZWQudmFsdWUgPSBuZXcgVWludDY0KHRoaXMucGxhdGZvcm1fZmVlc19hY2NydWVkLnZhbHVlLmFzVWludDY0KCkgKyBmZWUpOwogICAgaW50Y18wIC8vIDAKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czo1NgogICAgLy8gcGxhdGZvcm1fZmVlc19hY2NydWVkID0gR2xvYmFsU3RhdGU8VWludDY0PigpOwogICAgYnl0ZWMgNCAvLyAicGxhdGZvcm1fZmVlc19hY2NydWVkIgogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjM2OQogICAgLy8gdGhpcy5wbGF0Zm9ybV9mZWVzX2FjY3J1ZWQudmFsdWUgPSBuZXcgVWludDY0KHRoaXMucGxhdGZvcm1fZmVlc19hY2NydWVkLnZhbHVlLmFzVWludDY0KCkgKyBmZWUpOwogICAgYXBwX2dsb2JhbF9nZXRfZXgKICAgIGFzc2VydCAvLyBjaGVjayBHbG9iYWxTdGF0ZSBleGlzdHMKICAgIGJ0b2kKICAgIGRpZyA4CiAgICArCiAgICBpdG9iCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6NTYKICAgIC8vIHBsYXRmb3JtX2ZlZXNfYWNjcnVlZCA9IEdsb2JhbFN0YXRlPFVpbnQ2ND4oKTsKICAgIGJ5dGVjIDQgLy8gInBsYXRmb3JtX2ZlZXNfYWNjcnVlZCIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czozNjkKICAgIC8vIHRoaXMucGxhdGZvcm1fZmVlc19hY2NydWVkLnZhbHVlID0gbmV3IFVpbnQ2NCh0aGlzLnBsYXRmb3JtX2ZlZXNfYWNjcnVlZC52YWx1ZS5hc1VpbnQ2NCgpICsgZmVlKTsKICAgIHN3YXAKICAgIGFwcF9nbG9iYWxfcHV0CgpzdGFrZV9hZnRlcl9pZl9lbHNlQDIwOgogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjM3MQogICAgLy8gdGhpcy5yZXdhcmRzX3BhaWQudmFsdWUgPSBuZXcgVWludDY0KHRoaXMucmV3YXJkc19wYWlkLnZhbHVlLmFzVWludDY0KCkgKyBwZW5kaW5nKTsKICAgIGludGNfMCAvLyAwCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6NDYKICAgIC8vIHJld2FyZHNfcGFpZCA9IEdsb2JhbFN0YXRlPFVpbnQ2ND4oKTsKICAgIGJ5dGVjXzIgLy8gInJld2FyZHNfcGFpZCIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czozNzEKICAgIC8vIHRoaXMucmV3YXJkc19wYWlkLnZhbHVlID0gbmV3IFVpbnQ2NCh0aGlzLnJld2FyZHNfcGFpZC52YWx1ZS5hc1VpbnQ2NCgpICsgcGVuZGluZyk7CiAgICBhcHBfZ2xvYmFsX2dldF9leAogICAgYXNzZXJ0IC8vIGNoZWNrIEdsb2JhbFN0YXRlIGV4aXN0cwogICAgYnRvaQogICAgZGlnIDUKICAgICsKICAgIGl0b2IKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czo0NgogICAgLy8gcmV3YXJkc19wYWlkID0gR2xvYmFsU3RhdGU8VWludDY0PigpOwogICAgYnl0ZWNfMiAvLyAicmV3YXJkc19wYWlkIgogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjM3MQogICAgLy8gdGhpcy5yZXdhcmRzX3BhaWQudmFsdWUgPSBuZXcgVWludDY0KHRoaXMucmV3YXJkc19wYWlkLnZhbHVlLmFzVWludDY0KCkgKyBwZW5kaW5nKTsKICAgIHN3YXAKICAgIGFwcF9nbG9iYWxfcHV0CiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6MzcyLTM4MAogICAgLy8gaXR4bgogICAgLy8gICAuYXNzZXRUcmFuc2Zlcih7CiAgICAvLyAgICAgeGZlckFzc2V0OiB0aGlzLnJld2FyZF9hc3NldF9pZC52YWx1ZS5hc1VpbnQ2NCgpLAogICAgLy8gICAgIGFzc2V0UmVjZWl2ZXI6IG9wLlR4bi5zZW5kZXIsCiAgICAvLyAgICAgc2VuZGVyOiBHbG9iYWwuY3VycmVudEFwcGxpY2F0aW9uQWRkcmVzcywKICAgIC8vICAgICBhc3NldEFtb3VudDogbmV0LAogICAgLy8gICAgIGZlZTogMCwKICAgIC8vICAgfSkKICAgIC8vICAgLnN1Ym1pdCgpOwogICAgaXR4bl9iZWdpbgogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjM3NAogICAgLy8geGZlckFzc2V0OiB0aGlzLnJld2FyZF9hc3NldF9pZC52YWx1ZS5hc1VpbnQ2NCgpLAogICAgaW50Y18wIC8vIDAKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czoyOQogICAgLy8gcmV3YXJkX2Fzc2V0X2lkID0gR2xvYmFsU3RhdGU8VWludDY0PigpOwogICAgYnl0ZWMgNiAvLyAicmV3YXJkX2Fzc2V0X2lkIgogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjM3NAogICAgLy8geGZlckFzc2V0OiB0aGlzLnJld2FyZF9hc3NldF9pZC52YWx1ZS5hc1VpbnQ2NCgpLAogICAgYXBwX2dsb2JhbF9nZXRfZXgKICAgIGFzc2VydCAvLyBjaGVjayBHbG9iYWxTdGF0ZSBleGlzdHMKICAgIGJ0b2kKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czozNzUKICAgIC8vIGFzc2V0UmVjZWl2ZXI6IG9wLlR4bi5zZW5kZXIsCiAgICB0eG4gU2VuZGVyCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6Mzc2CiAgICAvLyBzZW5kZXI6IEdsb2JhbC5jdXJyZW50QXBwbGljYXRpb25BZGRyZXNzLAogICAgZ2xvYmFsIEN1cnJlbnRBcHBsaWNhdGlvbkFkZHJlc3MKICAgIGRpZyA5CiAgICBpdHhuX2ZpZWxkIEFzc2V0QW1vdW50CiAgICBpdHhuX2ZpZWxkIFNlbmRlcgogICAgaXR4bl9maWVsZCBBc3NldFJlY2VpdmVyCiAgICBpdHhuX2ZpZWxkIFhmZXJBc3NldAogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjM3Mi0zNzkKICAgIC8vIGl0eG4KICAgIC8vICAgLmFzc2V0VHJhbnNmZXIoewogICAgLy8gICAgIHhmZXJBc3NldDogdGhpcy5yZXdhcmRfYXNzZXRfaWQudmFsdWUuYXNVaW50NjQoKSwKICAgIC8vICAgICBhc3NldFJlY2VpdmVyOiBvcC5UeG4uc2VuZGVyLAogICAgLy8gICAgIHNlbmRlcjogR2xvYmFsLmN1cnJlbnRBcHBsaWNhdGlvbkFkZHJlc3MsCiAgICAvLyAgICAgYXNzZXRBbW91bnQ6IG5ldCwKICAgIC8vICAgICBmZWU6IDAsCiAgICAvLyAgIH0pCiAgICBpbnRjXzMgLy8gNAogICAgaXR4bl9maWVsZCBUeXBlRW51bQogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjM3OAogICAgLy8gZmVlOiAwLAogICAgaW50Y18wIC8vIDAKICAgIGl0eG5fZmllbGQgRmVlCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6MzcyLTM4MAogICAgLy8gaXR4bgogICAgLy8gICAuYXNzZXRUcmFuc2Zlcih7CiAgICAvLyAgICAgeGZlckFzc2V0OiB0aGlzLnJld2FyZF9hc3NldF9pZC52YWx1ZS5hc1VpbnQ2NCgpLAogICAgLy8gICAgIGFzc2V0UmVjZWl2ZXI6IG9wLlR4bi5zZW5kZXIsCiAgICAvLyAgICAgc2VuZGVyOiBHbG9iYWwuY3VycmVudEFwcGxpY2F0aW9uQWRkcmVzcywKICAgIC8vICAgICBhc3NldEFtb3VudDogbmV0LAogICAgLy8gICAgIGZlZTogMCwKICAgIC8vICAgfSkKICAgIC8vICAgLnN1Ym1pdCgpOwogICAgaXR4bl9zdWJtaXQKCnN0YWtlX2FmdGVyX2lmX2Vsc2VAMjI6CiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6MzgzCiAgICAvLyBjb25zdCBuZXdTdGFrZTogdWludDY0ID0gcHJldlN0YWtlICsgcXVhbnRpdHk7CiAgICBkaWcgMgogICAgZGlnIDIKICAgIGR1cAogICAgY292ZXIgMgogICAgKwogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjM4NAogICAgLy8gdGhpcy50b3RhbF9zdGFrZWQudmFsdWUgPSBuZXcgVWludDY0KHRoaXMudG90YWxfc3Rha2VkLnZhbHVlLmFzVWludDY0KCkgKyBxdWFudGl0eSk7CiAgICBpbnRjXzAgLy8gMAogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjMxCiAgICAvLyB0b3RhbF9zdGFrZWQgPSBHbG9iYWxTdGF0ZTxVaW50NjQ+KCk7CiAgICBieXRlYyA1IC8vICJ0b3RhbF9zdGFrZWQiCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6Mzg0CiAgICAvLyB0aGlzLnRvdGFsX3N0YWtlZC52YWx1ZSA9IG5ldyBVaW50NjQodGhpcy50b3RhbF9zdGFrZWQudmFsdWUuYXNVaW50NjQoKSArIHF1YW50aXR5KTsKICAgIGFwcF9nbG9iYWxfZ2V0X2V4CiAgICBhc3NlcnQgLy8gY2hlY2sgR2xvYmFsU3RhdGUgZXhpc3RzCiAgICBidG9pCiAgICB1bmNvdmVyIDIKICAgICsKICAgIGl0b2IKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czozMQogICAgLy8gdG90YWxfc3Rha2VkID0gR2xvYmFsU3RhdGU8VWludDY0PigpOwogICAgYnl0ZWMgNSAvLyAidG90YWxfc3Rha2VkIgogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjM4NAogICAgLy8gdGhpcy50b3RhbF9zdGFrZWQudmFsdWUgPSBuZXcgVWludDY0KHRoaXMudG90YWxfc3Rha2VkLnZhbHVlLmFzVWludDY0KCkgKyBxdWFudGl0eSk7CiAgICBzd2FwCiAgICBhcHBfZ2xvYmFsX3B1dAogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjM4NgogICAgLy8gY29uc3QgbmV3RGVidCA9IG11bERpdlcobmV3U3Rha2UsIHRoaXMucmV3YXJkX3Blcl90b2tlbi52YWx1ZS5hc1VpbnQ2NCgpLCBQUkVDSVNJT04pOwogICAgaW50Y18wIC8vIDAKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czozMgogICAgLy8gcmV3YXJkX3Blcl90b2tlbiA9IEdsb2JhbFN0YXRlPFVpbnQ2ND4oKTsKICAgIGJ5dGVjIDkgLy8gInJld2FyZF9wZXJfdG9rZW4iCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6Mzg2CiAgICAvLyBjb25zdCBuZXdEZWJ0ID0gbXVsRGl2VyhuZXdTdGFrZSwgdGhpcy5yZXdhcmRfcGVyX3Rva2VuLnZhbHVlLmFzVWludDY0KCksIFBSRUNJU0lPTik7CiAgICBhcHBfZ2xvYmFsX2dldF9leAogICAgYXNzZXJ0IC8vIGNoZWNrIEdsb2JhbFN0YXRlIGV4aXN0cwogICAgYnRvaQogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvY29uZmlnLmFsZ28udHM6MjgKICAgIC8vIGNvbnN0IFtoaSwgbG9dID0gbXVsdyhhLCBiKTsKICAgIGRpZyAxCiAgICBtdWx3CiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6Mzg2CiAgICAvLyBjb25zdCBuZXdEZWJ0ID0gbXVsRGl2VyhuZXdTdGFrZSwgdGhpcy5yZXdhcmRfcGVyX3Rva2VuLnZhbHVlLmFzVWludDY0KCksIFBSRUNJU0lPTik7CiAgICBpbnRjIDQgLy8gMTAwMDAwMDAwMDAwMDAwMAogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvY29uZmlnLmFsZ28udHM6MjkKICAgIC8vIHJldHVybiBkaXZ3KGhpLCBsbywgYyk7CiAgICBkaXZ3CiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6Mzg4CiAgICAvLyBzdGFrZTogbmV3IFVpbnQ2NChuZXdTdGFrZSksCiAgICBzd2FwCiAgICBpdG9iCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6Mzg5CiAgICAvLyByZXdhcmREZWJ0OiBuZXcgVWludDY0KG5ld0RlYnQpLAogICAgc3dhcAogICAgaXRvYgogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjM4Ny0zOTAKICAgIC8vIHRoaXMuc3Rha2VycyhvcC5UeG4uc2VuZGVyKS52YWx1ZSA9IG5ldyBTdGFrZUluZm9SZWNvcmQoewogICAgLy8gICBzdGFrZTogbmV3IFVpbnQ2NChuZXdTdGFrZSksCiAgICAvLyAgIHJld2FyZERlYnQ6IG5ldyBVaW50NjQobmV3RGVidCksCiAgICAvLyB9KTsKICAgIGNvbmNhdAogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjI2CiAgICAvLyBzdGFrZXJzID0gQm94TWFwPEFjY291bnQsIFN0YWtlSW5mb1JlY29yZD4oeyBrZXlQcmVmaXg6ICJzdCIgfSk7CiAgICBieXRlY18zIC8vICJzdCIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czozODcKICAgIC8vIHRoaXMuc3Rha2VycyhvcC5UeG4uc2VuZGVyKS52YWx1ZSA9IG5ldyBTdGFrZUluZm9SZWNvcmQoewogICAgdHhuIFNlbmRlcgogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjI2CiAgICAvLyBzdGFrZXJzID0gQm94TWFwPEFjY291bnQsIFN0YWtlSW5mb1JlY29yZD4oeyBrZXlQcmVmaXg6ICJzdCIgfSk7CiAgICBjb25jYXQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czozODctMzkwCiAgICAvLyB0aGlzLnN0YWtlcnMob3AuVHhuLnNlbmRlcikudmFsdWUgPSBuZXcgU3Rha2VJbmZvUmVjb3JkKHsKICAgIC8vICAgc3Rha2U6IG5ldyBVaW50NjQobmV3U3Rha2UpLAogICAgLy8gICByZXdhcmREZWJ0OiBuZXcgVWludDY0KG5ld0RlYnQpLAogICAgLy8gfSk7CiAgICBzd2FwCiAgICBib3hfcHV0CiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6MzkyCiAgICAvLyBpZiAoIWV4aXN0cykgewogICAgZHVwCiAgICBibnogc3Rha2VfYWZ0ZXJfaWZfZWxzZUAyNAogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjM5MwogICAgLy8gdGhpcy5udW1fc3Rha2Vycy52YWx1ZSA9IG5ldyBVaW50NjQodGhpcy5udW1fc3Rha2Vycy52YWx1ZS5hc1VpbnQ2NCgpICsgMSk7CiAgICBpbnRjXzAgLy8gMAogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjUxCiAgICAvLyBudW1fc3Rha2VycyA9IEdsb2JhbFN0YXRlPFVpbnQ2ND4oKTsKICAgIGJ5dGVjIDEyIC8vICJudW1fc3Rha2VycyIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czozOTMKICAgIC8vIHRoaXMubnVtX3N0YWtlcnMudmFsdWUgPSBuZXcgVWludDY0KHRoaXMubnVtX3N0YWtlcnMudmFsdWUuYXNVaW50NjQoKSArIDEpOwogICAgYXBwX2dsb2JhbF9nZXRfZXgKICAgIGFzc2VydCAvLyBjaGVjayBHbG9iYWxTdGF0ZSBleGlzdHMKICAgIGJ0b2kKICAgIGludGNfMSAvLyAxCiAgICArCiAgICBpdG9iCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6NTEKICAgIC8vIG51bV9zdGFrZXJzID0gR2xvYmFsU3RhdGU8VWludDY0PigpOwogICAgYnl0ZWMgMTIgLy8gIm51bV9zdGFrZXJzIgogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjM5MwogICAgLy8gdGhpcy5udW1fc3Rha2Vycy52YWx1ZSA9IG5ldyBVaW50NjQodGhpcy5udW1fc3Rha2Vycy52YWx1ZS5hc1VpbnQ2NCgpICsgMSk7CiAgICBzd2FwCiAgICBhcHBfZ2xvYmFsX3B1dAoKc3Rha2VfYWZ0ZXJfaWZfZWxzZUAyNDoKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czozMjIKICAgIC8vIEBhYmltZXRob2QoeyBhbGxvd0FjdGlvbnM6ICJOb09wIiB9KQogICAgaW50Y18xIC8vIDEKICAgIHJldHVybgoKc3Rha2VfdGVybmFyeV9mYWxzZUAxMjoKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czozNTYKICAgIC8vIGxldCBwZW5kaW5nOiB1aW50NjQgPSBhY2NydWVkID4gcHJldkRlYnQgPyBhY2NydWVkIC0gcHJldkRlYnQgOiAwOwogICAgaW50Y18wIC8vIDAKICAgIGJ1cnkgNQogICAgYiBzdGFrZV90ZXJuYXJ5X21lcmdlQDEzCgpzdGFrZV90ZXJuYXJ5X2ZhbHNlQDk6CiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6MzU0CiAgICAvLyBjb25zdCBwcmV2RGVidDogdWludDY0ID0gZXhpc3RzID8gdGhpcy5zdGFrZXJzKG9wLlR4bi5zZW5kZXIpLnZhbHVlLnJld2FyZERlYnQuYXNVaW50NjQoKSA6IDA7CiAgICBpbnRjXzAgLy8gMAogICAgYnVyeSA0CiAgICBiIHN0YWtlX3Rlcm5hcnlfbWVyZ2VAMTAKCnN0YWtlX3Rlcm5hcnlfZmFsc2VANjoKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czozNTMKICAgIC8vIGNvbnN0IHByZXZTdGFrZTogdWludDY0ID0gZXhpc3RzID8gdGhpcy5zdGFrZXJzKG9wLlR4bi5zZW5kZXIpLnZhbHVlLnN0YWtlLmFzVWludDY0KCkgOiAwOwogICAgaW50Y18wIC8vIDAKICAgIGJ1cnkgMwogICAgYiBzdGFrZV90ZXJuYXJ5X21lcmdlQDcKCgovLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6OlN0YWtpbmcuY2xhaW1SZXdhcmRzW3JvdXRpbmddKCkgLT4gdm9pZDoKY2xhaW1SZXdhcmRzOgogICAgcHVzaGJ5dGVzICIiCiAgICBkdXBuIDMKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czoyNgogICAgLy8gc3Rha2VycyA9IEJveE1hcDxBY2NvdW50LCBTdGFrZUluZm9SZWNvcmQ+KHsga2V5UHJlZml4OiAic3QiIH0pOwogICAgYnl0ZWNfMyAvLyAic3QiCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6Mzk5CiAgICAvLyBhc3NlcnQodGhpcy5zdGFrZXJzKG9wLlR4bi5zZW5kZXIpLmV4aXN0cywgIk5vIHN0YWtlIGZvdW5kIGZvciB1c2VyIik7CiAgICB0eG4gU2VuZGVyCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6MjYKICAgIC8vIHN0YWtlcnMgPSBCb3hNYXA8QWNjb3VudCwgU3Rha2VJbmZvUmVjb3JkPih7IGtleVByZWZpeDogInN0IiB9KTsKICAgIGNvbmNhdAogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjM5OQogICAgLy8gYXNzZXJ0KHRoaXMuc3Rha2VycyhvcC5UeG4uc2VuZGVyKS5leGlzdHMsICJObyBzdGFrZSBmb3VuZCBmb3IgdXNlciIpOwogICAgYm94X2xlbgogICAgYnVyeSAxCiAgICBhc3NlcnQgLy8gTm8gc3Rha2UgZm91bmQgZm9yIHVzZXIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czo0MDAKICAgIC8vIGFzc2VydCh0aGlzLmNvbnRyYWN0X3N0YXRlLnZhbHVlLmFzVWludDY0KCkgPT09IDEsICJQb29sIGlzIGluYWN0aXZlIik7CiAgICBpbnRjXzAgLy8gMAogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjUzCiAgICAvLyBjb250cmFjdF9zdGF0ZSA9IEdsb2JhbFN0YXRlPFVpbnQ2ND4oKTsgLy8gMCA9IGluYWN0aXZlLCAxID0gYWN0aXZlCiAgICBieXRlYyA4IC8vICJjb250cmFjdF9zdGF0ZSIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czo0MDAKICAgIC8vIGFzc2VydCh0aGlzLmNvbnRyYWN0X3N0YXRlLnZhbHVlLmFzVWludDY0KCkgPT09IDEsICJQb29sIGlzIGluYWN0aXZlIik7CiAgICBhcHBfZ2xvYmFsX2dldF9leAogICAgYXNzZXJ0IC8vIGNoZWNrIEdsb2JhbFN0YXRlIGV4aXN0cwogICAgYnRvaQogICAgaW50Y18xIC8vIDEKICAgID09CiAgICBhc3NlcnQgLy8gUG9vbCBpcyBpbmFjdGl2ZQogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjI2CiAgICAvLyBzdGFrZXJzID0gQm94TWFwPEFjY291bnQsIFN0YWtlSW5mb1JlY29yZD4oeyBrZXlQcmVmaXg6ICJzdCIgfSk7CiAgICBieXRlY18zIC8vICJzdCIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czo0MDEKICAgIC8vIGNvbnN0IHN0YWtlciA9IGNsb25lKHRoaXMuc3Rha2VycyhvcC5UeG4uc2VuZGVyKS52YWx1ZSk7CiAgICB0eG4gU2VuZGVyCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6MjYKICAgIC8vIHN0YWtlcnMgPSBCb3hNYXA8QWNjb3VudCwgU3Rha2VJbmZvUmVjb3JkPih7IGtleVByZWZpeDogInN0IiB9KTsKICAgIGNvbmNhdAogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjQwMQogICAgLy8gY29uc3Qgc3Rha2VyID0gY2xvbmUodGhpcy5zdGFrZXJzKG9wLlR4bi5zZW5kZXIpLnZhbHVlKTsKICAgIGJveF9nZXQKICAgIGFzc2VydCAvLyBCb3ggbXVzdCBoYXZlIHZhbHVlCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6NDAyCiAgICAvLyBhc3NlcnQoc3Rha2VyLnN0YWtlLmFzVWludDY0KCkgPiAwLCAiTm8gc3Rha2UiKTsKICAgIGR1cAogICAgZXh0cmFjdCAwIDgKICAgIHN3YXAKICAgIGR1cAogICAgaW50Y18wIC8vIDAKICAgIGV4dHJhY3RfdWludDY0CiAgICBkdXAKICAgIGNvdmVyIDIKICAgIGR1cAogICAgYXNzZXJ0IC8vIE5vIHN0YWtlCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6NDA0CiAgICAvLyB0aGlzLnVwZGF0ZVBvb2woKTsKICAgIGNhbGxzdWIgdXBkYXRlUG9vbAogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjQwNgogICAgLy8gY29uc3QgYWNjcnVlZCA9IG11bERpdlcoc3Rha2VyLnN0YWtlLmFzVWludDY0KCksIHRoaXMucmV3YXJkX3Blcl90b2tlbi52YWx1ZS5hc1VpbnQ2NCgpLCBQUkVDSVNJT04pOwogICAgaW50Y18wIC8vIDAKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czozMgogICAgLy8gcmV3YXJkX3Blcl90b2tlbiA9IEdsb2JhbFN0YXRlPFVpbnQ2ND4oKTsKICAgIGJ5dGVjIDkgLy8gInJld2FyZF9wZXJfdG9rZW4iCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6NDA2CiAgICAvLyBjb25zdCBhY2NydWVkID0gbXVsRGl2VyhzdGFrZXIuc3Rha2UuYXNVaW50NjQoKSwgdGhpcy5yZXdhcmRfcGVyX3Rva2VuLnZhbHVlLmFzVWludDY0KCksIFBSRUNJU0lPTik7CiAgICBhcHBfZ2xvYmFsX2dldF9leAogICAgYXNzZXJ0IC8vIGNoZWNrIEdsb2JhbFN0YXRlIGV4aXN0cwogICAgYnRvaQogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvY29uZmlnLmFsZ28udHM6MjgKICAgIC8vIGNvbnN0IFtoaSwgbG9dID0gbXVsdyhhLCBiKTsKICAgIG11bHcKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czo0MDYKICAgIC8vIGNvbnN0IGFjY3J1ZWQgPSBtdWxEaXZXKHN0YWtlci5zdGFrZS5hc1VpbnQ2NCgpLCB0aGlzLnJld2FyZF9wZXJfdG9rZW4udmFsdWUuYXNVaW50NjQoKSwgUFJFQ0lTSU9OKTsKICAgIGludGMgNCAvLyAxMDAwMDAwMDAwMDAwMDAwCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9jb25maWcuYWxnby50czoyOQogICAgLy8gcmV0dXJuIGRpdncoaGksIGxvLCBjKTsKICAgIGRpdncKICAgIGR1cAogICAgdW5jb3ZlciAyCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6NDA3CiAgICAvLyBsZXQgcGVuZGluZzogdWludDY0ID0gYWNjcnVlZCA+IHN0YWtlci5yZXdhcmREZWJ0LmFzVWludDY0KCkgPyBhY2NydWVkIC0gc3Rha2VyLnJld2FyZERlYnQuYXNVaW50NjQoKSA6IDA7CiAgICBpbnRjXzIgLy8gOAogICAgZXh0cmFjdF91aW50NjQKICAgIGR1cAogICAgY292ZXIgMgogICAgPgogICAgYnogY2xhaW1SZXdhcmRzX3Rlcm5hcnlfZmFsc2VAMwogICAgZHVwMgogICAgLQogICAgYnVyeSA1CgpjbGFpbVJld2FyZHNfdGVybmFyeV9tZXJnZUA0OgogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjQwOAogICAgLy8gY29uc3QgcGF5YWJsZTogdWludDY0ID0gdGhpcy5hY2NydWVkX3Jld2FyZHMudmFsdWUuYXNVaW50NjQoKSAtIHRoaXMucmV3YXJkc19wYWlkLnZhbHVlLmFzVWludDY0KCk7CiAgICBpbnRjXzAgLy8gMAogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjQzCiAgICAvLyBhY2NydWVkX3Jld2FyZHMgPSBHbG9iYWxTdGF0ZTxVaW50NjQ+KCk7CiAgICBieXRlYyA3IC8vICJhY2NydWVkX3Jld2FyZHMiCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6NDA4CiAgICAvLyBjb25zdCBwYXlhYmxlOiB1aW50NjQgPSB0aGlzLmFjY3J1ZWRfcmV3YXJkcy52YWx1ZS5hc1VpbnQ2NCgpIC0gdGhpcy5yZXdhcmRzX3BhaWQudmFsdWUuYXNVaW50NjQoKTsKICAgIGFwcF9nbG9iYWxfZ2V0X2V4CiAgICBhc3NlcnQgLy8gY2hlY2sgR2xvYmFsU3RhdGUgZXhpc3RzCiAgICBidG9pCiAgICBpbnRjXzAgLy8gMAogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjQ2CiAgICAvLyByZXdhcmRzX3BhaWQgPSBHbG9iYWxTdGF0ZTxVaW50NjQ+KCk7CiAgICBieXRlY18yIC8vICJyZXdhcmRzX3BhaWQiCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6NDA4CiAgICAvLyBjb25zdCBwYXlhYmxlOiB1aW50NjQgPSB0aGlzLmFjY3J1ZWRfcmV3YXJkcy52YWx1ZS5hc1VpbnQ2NCgpIC0gdGhpcy5yZXdhcmRzX3BhaWQudmFsdWUuYXNVaW50NjQoKTsKICAgIGFwcF9nbG9iYWxfZ2V0X2V4CiAgICBhc3NlcnQgLy8gY2hlY2sgR2xvYmFsU3RhdGUgZXhpc3RzCiAgICBidG9pCiAgICAtCiAgICBkdXAKICAgIGJ1cnkgNwogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjQwOQogICAgLy8gaWYgKHBlbmRpbmcgPiBwYXlhYmxlKSB7CiAgICBkaWcgNQogICAgPAogICAgYnogY2xhaW1SZXdhcmRzX2FmdGVyX2lmX2Vsc2VANgogICAgZGlnIDUKICAgIGJ1cnkgNQoKY2xhaW1SZXdhcmRzX2FmdGVyX2lmX2Vsc2VANjoKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czo0MTMKICAgIC8vIGlmIChwZW5kaW5nID4gMCkgewogICAgZGlnIDQKICAgIGJ6IGNsYWltUmV3YXJkc19hZnRlcl9pZl9lbHNlQDEzCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6NDE0CiAgICAvLyBsZXQgZmVlOiB1aW50NjQgPSBtdWxEaXZXKHBlbmRpbmcsIHRoaXMucGxhdGZvcm1fZmVlX2Jwcy52YWx1ZS5hc1VpbnQ2NCgpLCAxMF8wMDApOwogICAgaW50Y18wIC8vIDAKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czo1NQogICAgLy8gcGxhdGZvcm1fZmVlX2JwcyA9IEdsb2JhbFN0YXRlPFVpbnQ2ND4oKTsKICAgIGJ5dGVjIDE1IC8vICJwbGF0Zm9ybV9mZWVfYnBzIgogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjQxNAogICAgLy8gbGV0IGZlZTogdWludDY0ID0gbXVsRGl2VyhwZW5kaW5nLCB0aGlzLnBsYXRmb3JtX2ZlZV9icHMudmFsdWUuYXNVaW50NjQoKSwgMTBfMDAwKTsKICAgIGFwcF9nbG9iYWxfZ2V0X2V4CiAgICBhc3NlcnQgLy8gY2hlY2sgR2xvYmFsU3RhdGUgZXhpc3RzCiAgICBidG9pCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9jb25maWcuYWxnby50czoyOAogICAgLy8gY29uc3QgW2hpLCBsb10gPSBtdWx3KGEsIGIpOwogICAgZGlnIDUKICAgIGR1cAogICAgdW5jb3ZlciAyCiAgICBtdWx3CiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6NDE0CiAgICAvLyBsZXQgZmVlOiB1aW50NjQgPSBtdWxEaXZXKHBlbmRpbmcsIHRoaXMucGxhdGZvcm1fZmVlX2Jwcy52YWx1ZS5hc1VpbnQ2NCgpLCAxMF8wMDApOwogICAgaW50YyA1IC8vIDEwMDAwCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9jb25maWcuYWxnby50czoyOQogICAgLy8gcmV0dXJuIGRpdncoaGksIGxvLCBjKTsKICAgIGRpdncKICAgIGR1cAogICAgYnVyeSAxMAogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjQxNQogICAgLy8gaWYgKGZlZSA+IHBlbmRpbmcpIHsKICAgIDwKICAgIGJ6IGNsYWltUmV3YXJkc19hZnRlcl9pZl9lbHNlQDkKICAgIGRpZyA0CiAgICBidXJ5IDgKCmNsYWltUmV3YXJkc19hZnRlcl9pZl9lbHNlQDk6CiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6NDE4CiAgICAvLyBjb25zdCBuZXQ6IHVpbnQ2NCA9IHBlbmRpbmcgLSBmZWU7CiAgICBkaWcgNAogICAgZGlnIDgKICAgIGR1cAogICAgY292ZXIgMgogICAgLQogICAgYnVyeSA4CiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6NDE5CiAgICAvLyBpZiAoZmVlID4gMCkgewogICAgYnogY2xhaW1SZXdhcmRzX2FmdGVyX2lmX2Vsc2VAMTEKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czo0MjAKICAgIC8vIHRoaXMucGxhdGZvcm1fZmVlc19hY2NydWVkLnZhbHVlID0gbmV3IFVpbnQ2NCh0aGlzLnBsYXRmb3JtX2ZlZXNfYWNjcnVlZC52YWx1ZS5hc1VpbnQ2NCgpICsgZmVlKTsKICAgIGludGNfMCAvLyAwCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6NTYKICAgIC8vIHBsYXRmb3JtX2ZlZXNfYWNjcnVlZCA9IEdsb2JhbFN0YXRlPFVpbnQ2ND4oKTsKICAgIGJ5dGVjIDQgLy8gInBsYXRmb3JtX2ZlZXNfYWNjcnVlZCIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czo0MjAKICAgIC8vIHRoaXMucGxhdGZvcm1fZmVlc19hY2NydWVkLnZhbHVlID0gbmV3IFVpbnQ2NCh0aGlzLnBsYXRmb3JtX2ZlZXNfYWNjcnVlZC52YWx1ZS5hc1VpbnQ2NCgpICsgZmVlKTsKICAgIGFwcF9nbG9iYWxfZ2V0X2V4CiAgICBhc3NlcnQgLy8gY2hlY2sgR2xvYmFsU3RhdGUgZXhpc3RzCiAgICBidG9pCiAgICBkaWcgOAogICAgKwogICAgaXRvYgogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjU2CiAgICAvLyBwbGF0Zm9ybV9mZWVzX2FjY3J1ZWQgPSBHbG9iYWxTdGF0ZTxVaW50NjQ+KCk7CiAgICBieXRlYyA0IC8vICJwbGF0Zm9ybV9mZWVzX2FjY3J1ZWQiCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6NDIwCiAgICAvLyB0aGlzLnBsYXRmb3JtX2ZlZXNfYWNjcnVlZC52YWx1ZSA9IG5ldyBVaW50NjQodGhpcy5wbGF0Zm9ybV9mZWVzX2FjY3J1ZWQudmFsdWUuYXNVaW50NjQoKSArIGZlZSk7CiAgICBzd2FwCiAgICBhcHBfZ2xvYmFsX3B1dAoKY2xhaW1SZXdhcmRzX2FmdGVyX2lmX2Vsc2VAMTE6CiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6NDIyCiAgICAvLyB0aGlzLnJld2FyZHNfcGFpZC52YWx1ZSA9IG5ldyBVaW50NjQodGhpcy5yZXdhcmRzX3BhaWQudmFsdWUuYXNVaW50NjQoKSArIHBlbmRpbmcpOwogICAgaW50Y18wIC8vIDAKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czo0NgogICAgLy8gcmV3YXJkc19wYWlkID0gR2xvYmFsU3RhdGU8VWludDY0PigpOwogICAgYnl0ZWNfMiAvLyAicmV3YXJkc19wYWlkIgogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjQyMgogICAgLy8gdGhpcy5yZXdhcmRzX3BhaWQudmFsdWUgPSBuZXcgVWludDY0KHRoaXMucmV3YXJkc19wYWlkLnZhbHVlLmFzVWludDY0KCkgKyBwZW5kaW5nKTsKICAgIGFwcF9nbG9iYWxfZ2V0X2V4CiAgICBhc3NlcnQgLy8gY2hlY2sgR2xvYmFsU3RhdGUgZXhpc3RzCiAgICBidG9pCiAgICBkaWcgNQogICAgKwogICAgaXRvYgogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjQ2CiAgICAvLyByZXdhcmRzX3BhaWQgPSBHbG9iYWxTdGF0ZTxVaW50NjQ+KCk7CiAgICBieXRlY18yIC8vICJyZXdhcmRzX3BhaWQiCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6NDIyCiAgICAvLyB0aGlzLnJld2FyZHNfcGFpZC52YWx1ZSA9IG5ldyBVaW50NjQodGhpcy5yZXdhcmRzX3BhaWQudmFsdWUuYXNVaW50NjQoKSArIHBlbmRpbmcpOwogICAgc3dhcAogICAgYXBwX2dsb2JhbF9wdXQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czo0MjMtNDMxCiAgICAvLyBpdHhuCiAgICAvLyAgIC5hc3NldFRyYW5zZmVyKHsKICAgIC8vICAgICB4ZmVyQXNzZXQ6IHRoaXMucmV3YXJkX2Fzc2V0X2lkLnZhbHVlLmFzVWludDY0KCksCiAgICAvLyAgICAgYXNzZXRSZWNlaXZlcjogb3AuVHhuLnNlbmRlciwKICAgIC8vICAgICBzZW5kZXI6IEdsb2JhbC5jdXJyZW50QXBwbGljYXRpb25BZGRyZXNzLAogICAgLy8gICAgIGFzc2V0QW1vdW50OiBuZXQsCiAgICAvLyAgICAgZmVlOiAwLAogICAgLy8gICB9KQogICAgLy8gICAuc3VibWl0KCk7CiAgICBpdHhuX2JlZ2luCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6NDI1CiAgICAvLyB4ZmVyQXNzZXQ6IHRoaXMucmV3YXJkX2Fzc2V0X2lkLnZhbHVlLmFzVWludDY0KCksCiAgICBpbnRjXzAgLy8gMAogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjI5CiAgICAvLyByZXdhcmRfYXNzZXRfaWQgPSBHbG9iYWxTdGF0ZTxVaW50NjQ+KCk7CiAgICBieXRlYyA2IC8vICJyZXdhcmRfYXNzZXRfaWQiCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6NDI1CiAgICAvLyB4ZmVyQXNzZXQ6IHRoaXMucmV3YXJkX2Fzc2V0X2lkLnZhbHVlLmFzVWludDY0KCksCiAgICBhcHBfZ2xvYmFsX2dldF9leAogICAgYXNzZXJ0IC8vIGNoZWNrIEdsb2JhbFN0YXRlIGV4aXN0cwogICAgYnRvaQogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjQyNgogICAgLy8gYXNzZXRSZWNlaXZlcjogb3AuVHhuLnNlbmRlciwKICAgIHR4biBTZW5kZXIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czo0MjcKICAgIC8vIHNlbmRlcjogR2xvYmFsLmN1cnJlbnRBcHBsaWNhdGlvbkFkZHJlc3MsCiAgICBnbG9iYWwgQ3VycmVudEFwcGxpY2F0aW9uQWRkcmVzcwogICAgZGlnIDkKICAgIGl0eG5fZmllbGQgQXNzZXRBbW91bnQKICAgIGl0eG5fZmllbGQgU2VuZGVyCiAgICBpdHhuX2ZpZWxkIEFzc2V0UmVjZWl2ZXIKICAgIGl0eG5fZmllbGQgWGZlckFzc2V0CiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6NDIzLTQzMAogICAgLy8gaXR4bgogICAgLy8gICAuYXNzZXRUcmFuc2Zlcih7CiAgICAvLyAgICAgeGZlckFzc2V0OiB0aGlzLnJld2FyZF9hc3NldF9pZC52YWx1ZS5hc1VpbnQ2NCgpLAogICAgLy8gICAgIGFzc2V0UmVjZWl2ZXI6IG9wLlR4bi5zZW5kZXIsCiAgICAvLyAgICAgc2VuZGVyOiBHbG9iYWwuY3VycmVudEFwcGxpY2F0aW9uQWRkcmVzcywKICAgIC8vICAgICBhc3NldEFtb3VudDogbmV0LAogICAgLy8gICAgIGZlZTogMCwKICAgIC8vICAgfSkKICAgIGludGNfMyAvLyA0CiAgICBpdHhuX2ZpZWxkIFR5cGVFbnVtCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6NDI5CiAgICAvLyBmZWU6IDAsCiAgICBpbnRjXzAgLy8gMAogICAgaXR4bl9maWVsZCBGZWUKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czo0MjMtNDMxCiAgICAvLyBpdHhuCiAgICAvLyAgIC5hc3NldFRyYW5zZmVyKHsKICAgIC8vICAgICB4ZmVyQXNzZXQ6IHRoaXMucmV3YXJkX2Fzc2V0X2lkLnZhbHVlLmFzVWludDY0KCksCiAgICAvLyAgICAgYXNzZXRSZWNlaXZlcjogb3AuVHhuLnNlbmRlciwKICAgIC8vICAgICBzZW5kZXI6IEdsb2JhbC5jdXJyZW50QXBwbGljYXRpb25BZGRyZXNzLAogICAgLy8gICAgIGFzc2V0QW1vdW50OiBuZXQsCiAgICAvLyAgICAgZmVlOiAwLAogICAgLy8gICB9KQogICAgLy8gICAuc3VibWl0KCk7CiAgICBpdHhuX3N1Ym1pdAoKY2xhaW1SZXdhcmRzX2FmdGVyX2lmX2Vsc2VAMTM6CiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6NDM0CiAgICAvLyBjb25zdCBuZXdEZWJ0ID0gbXVsRGl2VyhzdGFrZXIuc3Rha2UuYXNVaW50NjQoKSwgdGhpcy5yZXdhcmRfcGVyX3Rva2VuLnZhbHVlLmFzVWludDY0KCksIFBSRUNJU0lPTik7CiAgICBpbnRjXzAgLy8gMAogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjMyCiAgICAvLyByZXdhcmRfcGVyX3Rva2VuID0gR2xvYmFsU3RhdGU8VWludDY0PigpOwogICAgYnl0ZWMgOSAvLyAicmV3YXJkX3Blcl90b2tlbiIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czo0MzQKICAgIC8vIGNvbnN0IG5ld0RlYnQgPSBtdWxEaXZXKHN0YWtlci5zdGFrZS5hc1VpbnQ2NCgpLCB0aGlzLnJld2FyZF9wZXJfdG9rZW4udmFsdWUuYXNVaW50NjQoKSwgUFJFQ0lTSU9OKTsKICAgIGFwcF9nbG9iYWxfZ2V0X2V4CiAgICBhc3NlcnQgLy8gY2hlY2sgR2xvYmFsU3RhdGUgZXhpc3RzCiAgICBidG9pCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9jb25maWcuYWxnby50czoyOAogICAgLy8gY29uc3QgW2hpLCBsb10gPSBtdWx3KGEsIGIpOwogICAgZGlnIDMKICAgIG11bHcKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czo0MzQKICAgIC8vIGNvbnN0IG5ld0RlYnQgPSBtdWxEaXZXKHN0YWtlci5zdGFrZS5hc1VpbnQ2NCgpLCB0aGlzLnJld2FyZF9wZXJfdG9rZW4udmFsdWUuYXNVaW50NjQoKSwgUFJFQ0lTSU9OKTsKICAgIGludGMgNCAvLyAxMDAwMDAwMDAwMDAwMDAwCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9jb25maWcuYWxnby50czoyOQogICAgLy8gcmV0dXJuIGRpdncoaGksIGxvLCBjKTsKICAgIGRpdncKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czo0MzcKICAgIC8vIHJld2FyZERlYnQ6IG5ldyBVaW50NjQobmV3RGVidCksCiAgICBpdG9iCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6NDM1LTQzOAogICAgLy8gdGhpcy5zdGFrZXJzKG9wLlR4bi5zZW5kZXIpLnZhbHVlID0gbmV3IFN0YWtlSW5mb1JlY29yZCh7CiAgICAvLyAgIHN0YWtlOiBzdGFrZXIuc3Rha2UsCiAgICAvLyAgIHJld2FyZERlYnQ6IG5ldyBVaW50NjQobmV3RGVidCksCiAgICAvLyB9KTsKICAgIGRpZyA0CiAgICBzd2FwCiAgICBjb25jYXQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czoyNgogICAgLy8gc3Rha2VycyA9IEJveE1hcDxBY2NvdW50LCBTdGFrZUluZm9SZWNvcmQ+KHsga2V5UHJlZml4OiAic3QiIH0pOwogICAgYnl0ZWNfMyAvLyAic3QiCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6NDM1CiAgICAvLyB0aGlzLnN0YWtlcnMob3AuVHhuLnNlbmRlcikudmFsdWUgPSBuZXcgU3Rha2VJbmZvUmVjb3JkKHsKICAgIHR4biBTZW5kZXIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czoyNgogICAgLy8gc3Rha2VycyA9IEJveE1hcDxBY2NvdW50LCBTdGFrZUluZm9SZWNvcmQ+KHsga2V5UHJlZml4OiAic3QiIH0pOwogICAgY29uY2F0CiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6NDM1LTQzOAogICAgLy8gdGhpcy5zdGFrZXJzKG9wLlR4bi5zZW5kZXIpLnZhbHVlID0gbmV3IFN0YWtlSW5mb1JlY29yZCh7CiAgICAvLyAgIHN0YWtlOiBzdGFrZXIuc3Rha2UsCiAgICAvLyAgIHJld2FyZERlYnQ6IG5ldyBVaW50NjQobmV3RGVidCksCiAgICAvLyB9KTsKICAgIHN3YXAKICAgIGJveF9wdXQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czozOTcKICAgIC8vIEBhYmltZXRob2QoeyBhbGxvd0FjdGlvbnM6ICJOb09wIiB9KQogICAgaW50Y18xIC8vIDEKICAgIHJldHVybgoKY2xhaW1SZXdhcmRzX3Rlcm5hcnlfZmFsc2VAMzoKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czo0MDcKICAgIC8vIGxldCBwZW5kaW5nOiB1aW50NjQgPSBhY2NydWVkID4gc3Rha2VyLnJld2FyZERlYnQuYXNVaW50NjQoKSA/IGFjY3J1ZWQgLSBzdGFrZXIucmV3YXJkRGVidC5hc1VpbnQ2NCgpIDogMDsKICAgIGludGNfMCAvLyAwCiAgICBidXJ5IDUKICAgIGIgY2xhaW1SZXdhcmRzX3Rlcm5hcnlfbWVyZ2VANAoKCi8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czo6U3Rha2luZy51bnN0YWtlW3JvdXRpbmddKCkgLT4gdm9pZDoKdW5zdGFrZToKICAgIHB1c2hieXRlcyAiIgogICAgZHVwbiA0CiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6NDQxCiAgICAvLyBAYWJpbWV0aG9kKHsgYWxsb3dBY3Rpb25zOiAiTm9PcCIgfSkKICAgIHR4bmEgQXBwbGljYXRpb25BcmdzIDEKICAgIGR1cAogICAgbGVuCiAgICBpbnRjXzIgLy8gOAogICAgPT0KICAgIGFzc2VydCAvLyBpbnZhbGlkIG51bWJlciBvZiBieXRlcyBmb3IgYXJjNC51aW50NjQKICAgIGJ0b2kKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czoyNgogICAgLy8gc3Rha2VycyA9IEJveE1hcDxBY2NvdW50LCBTdGFrZUluZm9SZWNvcmQ+KHsga2V5UHJlZml4OiAic3QiIH0pOwogICAgYnl0ZWNfMyAvLyAic3QiCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6NDQzCiAgICAvLyBhc3NlcnQodGhpcy5zdGFrZXJzKG9wLlR4bi5zZW5kZXIpLmV4aXN0cywgIk5vIHN0YWtlIGZvdW5kIGZvciB1c2VyIik7CiAgICB0eG4gU2VuZGVyCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6MjYKICAgIC8vIHN0YWtlcnMgPSBCb3hNYXA8QWNjb3VudCwgU3Rha2VJbmZvUmVjb3JkPih7IGtleVByZWZpeDogInN0IiB9KTsKICAgIGNvbmNhdAogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjQ0MwogICAgLy8gYXNzZXJ0KHRoaXMuc3Rha2VycyhvcC5UeG4uc2VuZGVyKS5leGlzdHMsICJObyBzdGFrZSBmb3VuZCBmb3IgdXNlciIpOwogICAgYm94X2xlbgogICAgYnVyeSAxCiAgICBhc3NlcnQgLy8gTm8gc3Rha2UgZm91bmQgZm9yIHVzZXIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czoyNgogICAgLy8gc3Rha2VycyA9IEJveE1hcDxBY2NvdW50LCBTdGFrZUluZm9SZWNvcmQ+KHsga2V5UHJlZml4OiAic3QiIH0pOwogICAgYnl0ZWNfMyAvLyAic3QiCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6NDQ0CiAgICAvLyBjb25zdCByZWMgPSBjbG9uZSh0aGlzLnN0YWtlcnMob3AuVHhuLnNlbmRlcikudmFsdWUpOwogICAgdHhuIFNlbmRlcgogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjI2CiAgICAvLyBzdGFrZXJzID0gQm94TWFwPEFjY291bnQsIFN0YWtlSW5mb1JlY29yZD4oeyBrZXlQcmVmaXg6ICJzdCIgfSk7CiAgICBjb25jYXQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czo0NDQKICAgIC8vIGNvbnN0IHJlYyA9IGNsb25lKHRoaXMuc3Rha2VycyhvcC5UeG4uc2VuZGVyKS52YWx1ZSk7CiAgICBib3hfZ2V0CiAgICBhc3NlcnQgLy8gQm94IG11c3QgaGF2ZSB2YWx1ZQogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjQ0NQogICAgLy8gY29uc3Qgc3Rha2VOb3c6IHVpbnQ2NCA9IHJlYy5zdGFrZS5hc1VpbnQ2NCgpOwogICAgZHVwCiAgICBpbnRjXzAgLy8gMAogICAgZXh0cmFjdF91aW50NjQKICAgIGR1cAogICAgY292ZXIgMwogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjQ0NgogICAgLy8gYXNzZXJ0KHN0YWtlTm93ID4gMCwgIk5vIHN0YWtlIik7CiAgICBkdXAKICAgIGFzc2VydCAvLyBObyBzdGFrZQogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjQ0OAogICAgLy8gdGhpcy51cGRhdGVQb29sKCk7CiAgICBjYWxsc3ViIHVwZGF0ZVBvb2wKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czo0NTAKICAgIC8vIGNvbnN0IGFtb3VudFRvV2l0aGRyYXc6IHVpbnQ2NCA9IHF1YW50aXR5ID09PSAwID8gc3Rha2VOb3cgOiBxdWFudGl0eTsKICAgIGRpZyAyCiAgICAhCiAgICB1bmNvdmVyIDMKICAgIGRpZyAyCiAgICB1bmNvdmVyIDIKICAgIHNlbGVjdAogICAgZHVwCiAgICBjb3ZlciAzCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6NDUxCiAgICAvLyBhc3NlcnQoc3Rha2VOb3cgPj0gYW1vdW50VG9XaXRoZHJhdywgIlVuc3Rha2UgYW1vdW50IGV4Y2VlZHMgYmFsYW5jZSIpOwogICAgZGlnIDEKICAgIDw9CiAgICBhc3NlcnQgLy8gVW5zdGFrZSBhbW91bnQgZXhjZWVkcyBiYWxhbmNlCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6NDUzCiAgICAvLyBjb25zdCBhY2NydWVkID0gbXVsRGl2VyhzdGFrZU5vdywgdGhpcy5yZXdhcmRfcGVyX3Rva2VuLnZhbHVlLmFzVWludDY0KCksIFBSRUNJU0lPTik7CiAgICBpbnRjXzAgLy8gMAogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjMyCiAgICAvLyByZXdhcmRfcGVyX3Rva2VuID0gR2xvYmFsU3RhdGU8VWludDY0PigpOwogICAgYnl0ZWMgOSAvLyAicmV3YXJkX3Blcl90b2tlbiIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czo0NTMKICAgIC8vIGNvbnN0IGFjY3J1ZWQgPSBtdWxEaXZXKHN0YWtlTm93LCB0aGlzLnJld2FyZF9wZXJfdG9rZW4udmFsdWUuYXNVaW50NjQoKSwgUFJFQ0lTSU9OKTsKICAgIGFwcF9nbG9iYWxfZ2V0X2V4CiAgICBhc3NlcnQgLy8gY2hlY2sgR2xvYmFsU3RhdGUgZXhpc3RzCiAgICBidG9pCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9jb25maWcuYWxnby50czoyOAogICAgLy8gY29uc3QgW2hpLCBsb10gPSBtdWx3KGEsIGIpOwogICAgbXVsdwogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjQ1MwogICAgLy8gY29uc3QgYWNjcnVlZCA9IG11bERpdlcoc3Rha2VOb3csIHRoaXMucmV3YXJkX3Blcl90b2tlbi52YWx1ZS5hc1VpbnQ2NCgpLCBQUkVDSVNJT04pOwogICAgaW50YyA0IC8vIDEwMDAwMDAwMDAwMDAwMDAKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL2NvbmZpZy5hbGdvLnRzOjI5CiAgICAvLyByZXR1cm4gZGl2dyhoaSwgbG8sIGMpOwogICAgZGl2dwogICAgZHVwCiAgICB1bmNvdmVyIDIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czo0NTQKICAgIC8vIGxldCBwZW5kaW5nOiB1aW50NjQgPSBhY2NydWVkID4gcmVjLnJld2FyZERlYnQuYXNVaW50NjQoKSA/IGFjY3J1ZWQgLSByZWMucmV3YXJkRGVidC5hc1VpbnQ2NCgpIDogMDsKICAgIGludGNfMiAvLyA4CiAgICBleHRyYWN0X3VpbnQ2NAogICAgZHVwCiAgICBjb3ZlciAyCiAgICA+CiAgICBieiB1bnN0YWtlX3Rlcm5hcnlfZmFsc2VAMwogICAgZHVwMgogICAgLQogICAgYnVyeSA2Cgp1bnN0YWtlX3Rlcm5hcnlfbWVyZ2VANDoKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czo0NTUKICAgIC8vIGNvbnN0IHBheWFibGU6IHVpbnQ2NCA9IHRoaXMuYWNjcnVlZF9yZXdhcmRzLnZhbHVlLmFzVWludDY0KCkgLSB0aGlzLnJld2FyZHNfcGFpZC52YWx1ZS5hc1VpbnQ2NCgpOwogICAgaW50Y18wIC8vIDAKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czo0MwogICAgLy8gYWNjcnVlZF9yZXdhcmRzID0gR2xvYmFsU3RhdGU8VWludDY0PigpOwogICAgYnl0ZWMgNyAvLyAiYWNjcnVlZF9yZXdhcmRzIgogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjQ1NQogICAgLy8gY29uc3QgcGF5YWJsZTogdWludDY0ID0gdGhpcy5hY2NydWVkX3Jld2FyZHMudmFsdWUuYXNVaW50NjQoKSAtIHRoaXMucmV3YXJkc19wYWlkLnZhbHVlLmFzVWludDY0KCk7CiAgICBhcHBfZ2xvYmFsX2dldF9leAogICAgYXNzZXJ0IC8vIGNoZWNrIEdsb2JhbFN0YXRlIGV4aXN0cwogICAgYnRvaQogICAgaW50Y18wIC8vIDAKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czo0NgogICAgLy8gcmV3YXJkc19wYWlkID0gR2xvYmFsU3RhdGU8VWludDY0PigpOwogICAgYnl0ZWNfMiAvLyAicmV3YXJkc19wYWlkIgogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjQ1NQogICAgLy8gY29uc3QgcGF5YWJsZTogdWludDY0ID0gdGhpcy5hY2NydWVkX3Jld2FyZHMudmFsdWUuYXNVaW50NjQoKSAtIHRoaXMucmV3YXJkc19wYWlkLnZhbHVlLmFzVWludDY0KCk7CiAgICBhcHBfZ2xvYmFsX2dldF9leAogICAgYXNzZXJ0IC8vIGNoZWNrIEdsb2JhbFN0YXRlIGV4aXN0cwogICAgYnRvaQogICAgLQogICAgZHVwCiAgICBidXJ5IDgKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czo0NTYKICAgIC8vIGlmIChwZW5kaW5nID4gcGF5YWJsZSkgewogICAgZGlnIDYKICAgIDwKICAgIGJ6IHVuc3Rha2VfYWZ0ZXJfaWZfZWxzZUA2CiAgICBkaWcgNgogICAgYnVyeSA2Cgp1bnN0YWtlX2FmdGVyX2lmX2Vsc2VANjoKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czo0NjAKICAgIC8vIGlmIChwZW5kaW5nID4gMCkgewogICAgZGlnIDUKICAgIGJ6IHVuc3Rha2VfYWZ0ZXJfaWZfZWxzZUAxMwogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjQ2MQogICAgLy8gbGV0IGZlZTogdWludDY0ID0gbXVsRGl2VyhwZW5kaW5nLCB0aGlzLnBsYXRmb3JtX2ZlZV9icHMudmFsdWUuYXNVaW50NjQoKSwgMTBfMDAwKTsKICAgIGludGNfMCAvLyAwCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6NTUKICAgIC8vIHBsYXRmb3JtX2ZlZV9icHMgPSBHbG9iYWxTdGF0ZTxVaW50NjQ+KCk7CiAgICBieXRlYyAxNSAvLyAicGxhdGZvcm1fZmVlX2JwcyIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czo0NjEKICAgIC8vIGxldCBmZWU6IHVpbnQ2NCA9IG11bERpdlcocGVuZGluZywgdGhpcy5wbGF0Zm9ybV9mZWVfYnBzLnZhbHVlLmFzVWludDY0KCksIDEwXzAwMCk7CiAgICBhcHBfZ2xvYmFsX2dldF9leAogICAgYXNzZXJ0IC8vIGNoZWNrIEdsb2JhbFN0YXRlIGV4aXN0cwogICAgYnRvaQogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvY29uZmlnLmFsZ28udHM6MjgKICAgIC8vIGNvbnN0IFtoaSwgbG9dID0gbXVsdyhhLCBiKTsKICAgIGRpZyA2CiAgICBkdXAKICAgIHVuY292ZXIgMgogICAgbXVsdwogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjQ2MQogICAgLy8gbGV0IGZlZTogdWludDY0ID0gbXVsRGl2VyhwZW5kaW5nLCB0aGlzLnBsYXRmb3JtX2ZlZV9icHMudmFsdWUuYXNVaW50NjQoKSwgMTBfMDAwKTsKICAgIGludGMgNSAvLyAxMDAwMAogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvY29uZmlnLmFsZ28udHM6MjkKICAgIC8vIHJldHVybiBkaXZ3KGhpLCBsbywgYyk7CiAgICBkaXZ3CiAgICBkdXAKICAgIGJ1cnkgMTEKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czo0NjIKICAgIC8vIGlmIChmZWUgPiBwZW5kaW5nKSB7CiAgICA8CiAgICBieiB1bnN0YWtlX2FmdGVyX2lmX2Vsc2VAOQogICAgZGlnIDUKICAgIGJ1cnkgOQoKdW5zdGFrZV9hZnRlcl9pZl9lbHNlQDk6CiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6NDY1CiAgICAvLyBjb25zdCBuZXQ6IHVpbnQ2NCA9IHBlbmRpbmcgLSBmZWU7CiAgICBkaWcgNQogICAgZGlnIDkKICAgIGR1cAogICAgY292ZXIgMgogICAgLQogICAgYnVyeSA5CiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6NDY2CiAgICAvLyBpZiAoZmVlID4gMCkgewogICAgYnogdW5zdGFrZV9hZnRlcl9pZl9lbHNlQDExCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6NDY3CiAgICAvLyB0aGlzLnBsYXRmb3JtX2ZlZXNfYWNjcnVlZC52YWx1ZSA9IG5ldyBVaW50NjQodGhpcy5wbGF0Zm9ybV9mZWVzX2FjY3J1ZWQudmFsdWUuYXNVaW50NjQoKSArIGZlZSk7CiAgICBpbnRjXzAgLy8gMAogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjU2CiAgICAvLyBwbGF0Zm9ybV9mZWVzX2FjY3J1ZWQgPSBHbG9iYWxTdGF0ZTxVaW50NjQ+KCk7CiAgICBieXRlYyA0IC8vICJwbGF0Zm9ybV9mZWVzX2FjY3J1ZWQiCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6NDY3CiAgICAvLyB0aGlzLnBsYXRmb3JtX2ZlZXNfYWNjcnVlZC52YWx1ZSA9IG5ldyBVaW50NjQodGhpcy5wbGF0Zm9ybV9mZWVzX2FjY3J1ZWQudmFsdWUuYXNVaW50NjQoKSArIGZlZSk7CiAgICBhcHBfZ2xvYmFsX2dldF9leAogICAgYXNzZXJ0IC8vIGNoZWNrIEdsb2JhbFN0YXRlIGV4aXN0cwogICAgYnRvaQogICAgZGlnIDkKICAgICsKICAgIGl0b2IKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czo1NgogICAgLy8gcGxhdGZvcm1fZmVlc19hY2NydWVkID0gR2xvYmFsU3RhdGU8VWludDY0PigpOwogICAgYnl0ZWMgNCAvLyAicGxhdGZvcm1fZmVlc19hY2NydWVkIgogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjQ2NwogICAgLy8gdGhpcy5wbGF0Zm9ybV9mZWVzX2FjY3J1ZWQudmFsdWUgPSBuZXcgVWludDY0KHRoaXMucGxhdGZvcm1fZmVlc19hY2NydWVkLnZhbHVlLmFzVWludDY0KCkgKyBmZWUpOwogICAgc3dhcAogICAgYXBwX2dsb2JhbF9wdXQKCnVuc3Rha2VfYWZ0ZXJfaWZfZWxzZUAxMToKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czo0NjkKICAgIC8vIHRoaXMucmV3YXJkc19wYWlkLnZhbHVlID0gbmV3IFVpbnQ2NCh0aGlzLnJld2FyZHNfcGFpZC52YWx1ZS5hc1VpbnQ2NCgpICsgcGVuZGluZyk7CiAgICBpbnRjXzAgLy8gMAogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjQ2CiAgICAvLyByZXdhcmRzX3BhaWQgPSBHbG9iYWxTdGF0ZTxVaW50NjQ+KCk7CiAgICBieXRlY18yIC8vICJyZXdhcmRzX3BhaWQiCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6NDY5CiAgICAvLyB0aGlzLnJld2FyZHNfcGFpZC52YWx1ZSA9IG5ldyBVaW50NjQodGhpcy5yZXdhcmRzX3BhaWQudmFsdWUuYXNVaW50NjQoKSArIHBlbmRpbmcpOwogICAgYXBwX2dsb2JhbF9nZXRfZXgKICAgIGFzc2VydCAvLyBjaGVjayBHbG9iYWxTdGF0ZSBleGlzdHMKICAgIGJ0b2kKICAgIGRpZyA2CiAgICArCiAgICBpdG9iCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6NDYKICAgIC8vIHJld2FyZHNfcGFpZCA9IEdsb2JhbFN0YXRlPFVpbnQ2ND4oKTsKICAgIGJ5dGVjXzIgLy8gInJld2FyZHNfcGFpZCIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czo0NjkKICAgIC8vIHRoaXMucmV3YXJkc19wYWlkLnZhbHVlID0gbmV3IFVpbnQ2NCh0aGlzLnJld2FyZHNfcGFpZC52YWx1ZS5hc1VpbnQ2NCgpICsgcGVuZGluZyk7CiAgICBzd2FwCiAgICBhcHBfZ2xvYmFsX3B1dAogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjQ3MC00NzgKICAgIC8vIGl0eG4KICAgIC8vICAgLmFzc2V0VHJhbnNmZXIoewogICAgLy8gICAgIHhmZXJBc3NldDogdGhpcy5yZXdhcmRfYXNzZXRfaWQudmFsdWUuYXNVaW50NjQoKSwKICAgIC8vICAgICBhc3NldFJlY2VpdmVyOiBvcC5UeG4uc2VuZGVyLAogICAgLy8gICAgIHNlbmRlcjogR2xvYmFsLmN1cnJlbnRBcHBsaWNhdGlvbkFkZHJlc3MsCiAgICAvLyAgICAgYXNzZXRBbW91bnQ6IG5ldCwKICAgIC8vICAgICBmZWU6IDAsCiAgICAvLyAgIH0pCiAgICAvLyAgIC5zdWJtaXQoKTsKICAgIGl0eG5fYmVnaW4KICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czo0NzIKICAgIC8vIHhmZXJBc3NldDogdGhpcy5yZXdhcmRfYXNzZXRfaWQudmFsdWUuYXNVaW50NjQoKSwKICAgIGludGNfMCAvLyAwCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6MjkKICAgIC8vIHJld2FyZF9hc3NldF9pZCA9IEdsb2JhbFN0YXRlPFVpbnQ2ND4oKTsKICAgIGJ5dGVjIDYgLy8gInJld2FyZF9hc3NldF9pZCIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czo0NzIKICAgIC8vIHhmZXJBc3NldDogdGhpcy5yZXdhcmRfYXNzZXRfaWQudmFsdWUuYXNVaW50NjQoKSwKICAgIGFwcF9nbG9iYWxfZ2V0X2V4CiAgICBhc3NlcnQgLy8gY2hlY2sgR2xvYmFsU3RhdGUgZXhpc3RzCiAgICBidG9pCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6NDczCiAgICAvLyBhc3NldFJlY2VpdmVyOiBvcC5UeG4uc2VuZGVyLAogICAgdHhuIFNlbmRlcgogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjQ3NAogICAgLy8gc2VuZGVyOiBHbG9iYWwuY3VycmVudEFwcGxpY2F0aW9uQWRkcmVzcywKICAgIGdsb2JhbCBDdXJyZW50QXBwbGljYXRpb25BZGRyZXNzCiAgICBkaWcgMTAKICAgIGl0eG5fZmllbGQgQXNzZXRBbW91bnQKICAgIGl0eG5fZmllbGQgU2VuZGVyCiAgICBpdHhuX2ZpZWxkIEFzc2V0UmVjZWl2ZXIKICAgIGl0eG5fZmllbGQgWGZlckFzc2V0CiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6NDcwLTQ3NwogICAgLy8gaXR4bgogICAgLy8gICAuYXNzZXRUcmFuc2Zlcih7CiAgICAvLyAgICAgeGZlckFzc2V0OiB0aGlzLnJld2FyZF9hc3NldF9pZC52YWx1ZS5hc1VpbnQ2NCgpLAogICAgLy8gICAgIGFzc2V0UmVjZWl2ZXI6IG9wLlR4bi5zZW5kZXIsCiAgICAvLyAgICAgc2VuZGVyOiBHbG9iYWwuY3VycmVudEFwcGxpY2F0aW9uQWRkcmVzcywKICAgIC8vICAgICBhc3NldEFtb3VudDogbmV0LAogICAgLy8gICAgIGZlZTogMCwKICAgIC8vICAgfSkKICAgIGludGNfMyAvLyA0CiAgICBpdHhuX2ZpZWxkIFR5cGVFbnVtCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6NDc2CiAgICAvLyBmZWU6IDAsCiAgICBpbnRjXzAgLy8gMAogICAgaXR4bl9maWVsZCBGZWUKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czo0NzAtNDc4CiAgICAvLyBpdHhuCiAgICAvLyAgIC5hc3NldFRyYW5zZmVyKHsKICAgIC8vICAgICB4ZmVyQXNzZXQ6IHRoaXMucmV3YXJkX2Fzc2V0X2lkLnZhbHVlLmFzVWludDY0KCksCiAgICAvLyAgICAgYXNzZXRSZWNlaXZlcjogb3AuVHhuLnNlbmRlciwKICAgIC8vICAgICBzZW5kZXI6IEdsb2JhbC5jdXJyZW50QXBwbGljYXRpb25BZGRyZXNzLAogICAgLy8gICAgIGFzc2V0QW1vdW50OiBuZXQsCiAgICAvLyAgICAgZmVlOiAwLAogICAgLy8gICB9KQogICAgLy8gICAuc3VibWl0KCk7CiAgICBpdHhuX3N1Ym1pdAoKdW5zdGFrZV9hZnRlcl9pZl9lbHNlQDEzOgogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjQ4MS00ODkKICAgIC8vIGl0eG4KICAgIC8vICAgLmFzc2V0VHJhbnNmZXIoewogICAgLy8gICAgIHhmZXJBc3NldDogdGhpcy5zdGFrZWRfYXNzZXRfaWQudmFsdWUuYXNVaW50NjQoKSwKICAgIC8vICAgICBhc3NldFJlY2VpdmVyOiBvcC5UeG4uc2VuZGVyLAogICAgLy8gICAgIHNlbmRlcjogR2xvYmFsLmN1cnJlbnRBcHBsaWNhdGlvbkFkZHJlc3MsCiAgICAvLyAgICAgYXNzZXRBbW91bnQ6IGFtb3VudFRvV2l0aGRyYXcsCiAgICAvLyAgICAgZmVlOiAwLAogICAgLy8gICB9KQogICAgLy8gICAuc3VibWl0KCk7CiAgICBpdHhuX2JlZ2luCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6NDgzCiAgICAvLyB4ZmVyQXNzZXQ6IHRoaXMuc3Rha2VkX2Fzc2V0X2lkLnZhbHVlLmFzVWludDY0KCksCiAgICBpbnRjXzAgLy8gMAogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjI4CiAgICAvLyBzdGFrZWRfYXNzZXRfaWQgPSBHbG9iYWxTdGF0ZTxVaW50NjQ+KCk7CiAgICBieXRlYyAxNiAvLyAic3Rha2VkX2Fzc2V0X2lkIgogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjQ4MwogICAgLy8geGZlckFzc2V0OiB0aGlzLnN0YWtlZF9hc3NldF9pZC52YWx1ZS5hc1VpbnQ2NCgpLAogICAgYXBwX2dsb2JhbF9nZXRfZXgKICAgIGFzc2VydCAvLyBjaGVjayBHbG9iYWxTdGF0ZSBleGlzdHMKICAgIGJ0b2kKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czo0ODQKICAgIC8vIGFzc2V0UmVjZWl2ZXI6IG9wLlR4bi5zZW5kZXIsCiAgICB0eG4gU2VuZGVyCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6NDg1CiAgICAvLyBzZW5kZXI6IEdsb2JhbC5jdXJyZW50QXBwbGljYXRpb25BZGRyZXNzLAogICAgZ2xvYmFsIEN1cnJlbnRBcHBsaWNhdGlvbkFkZHJlc3MKICAgIGRpZyA1CiAgICBkdXAKICAgIGNvdmVyIDQKICAgIGl0eG5fZmllbGQgQXNzZXRBbW91bnQKICAgIGl0eG5fZmllbGQgU2VuZGVyCiAgICBpdHhuX2ZpZWxkIEFzc2V0UmVjZWl2ZXIKICAgIGl0eG5fZmllbGQgWGZlckFzc2V0CiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6NDgxLTQ4OAogICAgLy8gaXR4bgogICAgLy8gICAuYXNzZXRUcmFuc2Zlcih7CiAgICAvLyAgICAgeGZlckFzc2V0OiB0aGlzLnN0YWtlZF9hc3NldF9pZC52YWx1ZS5hc1VpbnQ2NCgpLAogICAgLy8gICAgIGFzc2V0UmVjZWl2ZXI6IG9wLlR4bi5zZW5kZXIsCiAgICAvLyAgICAgc2VuZGVyOiBHbG9iYWwuY3VycmVudEFwcGxpY2F0aW9uQWRkcmVzcywKICAgIC8vICAgICBhc3NldEFtb3VudDogYW1vdW50VG9XaXRoZHJhdywKICAgIC8vICAgICBmZWU6IDAsCiAgICAvLyAgIH0pCiAgICBpbnRjXzMgLy8gNAogICAgaXR4bl9maWVsZCBUeXBlRW51bQogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjQ4NwogICAgLy8gZmVlOiAwLAogICAgaW50Y18wIC8vIDAKICAgIGl0eG5fZmllbGQgRmVlCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6NDgxLTQ4OQogICAgLy8gaXR4bgogICAgLy8gICAuYXNzZXRUcmFuc2Zlcih7CiAgICAvLyAgICAgeGZlckFzc2V0OiB0aGlzLnN0YWtlZF9hc3NldF9pZC52YWx1ZS5hc1VpbnQ2NCgpLAogICAgLy8gICAgIGFzc2V0UmVjZWl2ZXI6IG9wLlR4bi5zZW5kZXIsCiAgICAvLyAgICAgc2VuZGVyOiBHbG9iYWwuY3VycmVudEFwcGxpY2F0aW9uQWRkcmVzcywKICAgIC8vICAgICBhc3NldEFtb3VudDogYW1vdW50VG9XaXRoZHJhdywKICAgIC8vICAgICBmZWU6IDAsCiAgICAvLyAgIH0pCiAgICAvLyAgIC5zdWJtaXQoKTsKICAgIGl0eG5fc3VibWl0CiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6NDkxCiAgICAvLyB0aGlzLnRvdGFsX3N0YWtlZC52YWx1ZSA9IG5ldyBVaW50NjQodGhpcy50b3RhbF9zdGFrZWQudmFsdWUuYXNVaW50NjQoKSAtIGFtb3VudFRvV2l0aGRyYXcpOwogICAgaW50Y18wIC8vIDAKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czozMQogICAgLy8gdG90YWxfc3Rha2VkID0gR2xvYmFsU3RhdGU8VWludDY0PigpOwogICAgYnl0ZWMgNSAvLyAidG90YWxfc3Rha2VkIgogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjQ5MQogICAgLy8gdGhpcy50b3RhbF9zdGFrZWQudmFsdWUgPSBuZXcgVWludDY0KHRoaXMudG90YWxfc3Rha2VkLnZhbHVlLmFzVWludDY0KCkgLSBhbW91bnRUb1dpdGhkcmF3KTsKICAgIGFwcF9nbG9iYWxfZ2V0X2V4CiAgICBhc3NlcnQgLy8gY2hlY2sgR2xvYmFsU3RhdGUgZXhpc3RzCiAgICBidG9pCiAgICBkaWcgMQogICAgLQogICAgaXRvYgogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjMxCiAgICAvLyB0b3RhbF9zdGFrZWQgPSBHbG9iYWxTdGF0ZTxVaW50NjQ+KCk7CiAgICBieXRlYyA1IC8vICJ0b3RhbF9zdGFrZWQiCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6NDkxCiAgICAvLyB0aGlzLnRvdGFsX3N0YWtlZC52YWx1ZSA9IG5ldyBVaW50NjQodGhpcy50b3RhbF9zdGFrZWQudmFsdWUuYXNVaW50NjQoKSAtIGFtb3VudFRvV2l0aGRyYXcpOwogICAgc3dhcAogICAgYXBwX2dsb2JhbF9wdXQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czo0OTMKICAgIC8vIGNvbnN0IHJlbWFpbmluZzogdWludDY0ID0gc3Rha2VOb3cgLSBhbW91bnRUb1dpdGhkcmF3OwogICAgZGlnIDQKICAgIHN3YXAKICAgIC0KICAgIGR1cAogICAgYnVyeSA2CiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6NDk0CiAgICAvLyBpZiAocmVtYWluaW5nID09PSAwKSB7CiAgICBibnogdW5zdGFrZV9lbHNlX2JvZHlAMTcKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czoyNgogICAgLy8gc3Rha2VycyA9IEJveE1hcDxBY2NvdW50LCBTdGFrZUluZm9SZWNvcmQ+KHsga2V5UHJlZml4OiAic3QiIH0pOwogICAgYnl0ZWNfMyAvLyAic3QiCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6NDk1CiAgICAvLyB0aGlzLnN0YWtlcnMob3AuVHhuLnNlbmRlcikuZGVsZXRlKCk7CiAgICB0eG4gU2VuZGVyCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6MjYKICAgIC8vIHN0YWtlcnMgPSBCb3hNYXA8QWNjb3VudCwgU3Rha2VJbmZvUmVjb3JkPih7IGtleVByZWZpeDogInN0IiB9KTsKICAgIGNvbmNhdAogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjQ5NQogICAgLy8gdGhpcy5zdGFrZXJzKG9wLlR4bi5zZW5kZXIpLmRlbGV0ZSgpOwogICAgYm94X2RlbAogICAgcG9wCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6NDk2CiAgICAvLyB0aGlzLm51bV9zdGFrZXJzLnZhbHVlID0gbmV3IFVpbnQ2NCh0aGlzLm51bV9zdGFrZXJzLnZhbHVlLmFzVWludDY0KCkgLSAxKTsKICAgIGludGNfMCAvLyAwCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6NTEKICAgIC8vIG51bV9zdGFrZXJzID0gR2xvYmFsU3RhdGU8VWludDY0PigpOwogICAgYnl0ZWMgMTIgLy8gIm51bV9zdGFrZXJzIgogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjQ5NgogICAgLy8gdGhpcy5udW1fc3Rha2Vycy52YWx1ZSA9IG5ldyBVaW50NjQodGhpcy5udW1fc3Rha2Vycy52YWx1ZS5hc1VpbnQ2NCgpIC0gMSk7CiAgICBhcHBfZ2xvYmFsX2dldF9leAogICAgYXNzZXJ0IC8vIGNoZWNrIEdsb2JhbFN0YXRlIGV4aXN0cwogICAgYnRvaQogICAgaW50Y18xIC8vIDEKICAgIC0KICAgIGl0b2IKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czo1MQogICAgLy8gbnVtX3N0YWtlcnMgPSBHbG9iYWxTdGF0ZTxVaW50NjQ+KCk7CiAgICBieXRlYyAxMiAvLyAibnVtX3N0YWtlcnMiCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6NDk2CiAgICAvLyB0aGlzLm51bV9zdGFrZXJzLnZhbHVlID0gbmV3IFVpbnQ2NCh0aGlzLm51bV9zdGFrZXJzLnZhbHVlLmFzVWludDY0KCkgLSAxKTsKICAgIHN3YXAKICAgIGFwcF9nbG9iYWxfcHV0CiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6NDk3LTUwNAogICAgLy8gaXR4bgogICAgLy8gICAucGF5bWVudCh7CiAgICAvLyAgICAgcmVjZWl2ZXI6IG9wLlR4bi5zZW5kZXIsCiAgICAvLyAgICAgYW1vdW50OiBCT1hfRkVFLAogICAgLy8gICAgIHNlbmRlcjogR2xvYmFsLmN1cnJlbnRBcHBsaWNhdGlvbkFkZHJlc3MsCiAgICAvLyAgICAgZmVlOiAwLAogICAgLy8gICB9KQogICAgLy8gICAuc3VibWl0KCk7CiAgICBpdHhuX2JlZ2luCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6NDk5CiAgICAvLyByZWNlaXZlcjogb3AuVHhuLnNlbmRlciwKICAgIHR4biBTZW5kZXIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czo1MDEKICAgIC8vIHNlbmRlcjogR2xvYmFsLmN1cnJlbnRBcHBsaWNhdGlvbkFkZHJlc3MsCiAgICBnbG9iYWwgQ3VycmVudEFwcGxpY2F0aW9uQWRkcmVzcwogICAgaXR4bl9maWVsZCBTZW5kZXIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czo1MDAKICAgIC8vIGFtb3VudDogQk9YX0ZFRSwKICAgIGludGMgNiAvLyAyMjUwMAogICAgaXR4bl9maWVsZCBBbW91bnQKICAgIGl0eG5fZmllbGQgUmVjZWl2ZXIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czo0OTctNTAzCiAgICAvLyBpdHhuCiAgICAvLyAgIC5wYXltZW50KHsKICAgIC8vICAgICByZWNlaXZlcjogb3AuVHhuLnNlbmRlciwKICAgIC8vICAgICBhbW91bnQ6IEJPWF9GRUUsCiAgICAvLyAgICAgc2VuZGVyOiBHbG9iYWwuY3VycmVudEFwcGxpY2F0aW9uQWRkcmVzcywKICAgIC8vICAgICBmZWU6IDAsCiAgICAvLyAgIH0pCiAgICBpbnRjXzEgLy8gMQogICAgaXR4bl9maWVsZCBUeXBlRW51bQogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjUwMgogICAgLy8gZmVlOiAwLAogICAgaW50Y18wIC8vIDAKICAgIGl0eG5fZmllbGQgRmVlCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6NDk3LTUwNAogICAgLy8gaXR4bgogICAgLy8gICAucGF5bWVudCh7CiAgICAvLyAgICAgcmVjZWl2ZXI6IG9wLlR4bi5zZW5kZXIsCiAgICAvLyAgICAgYW1vdW50OiBCT1hfRkVFLAogICAgLy8gICAgIHNlbmRlcjogR2xvYmFsLmN1cnJlbnRBcHBsaWNhdGlvbkFkZHJlc3MsCiAgICAvLyAgICAgZmVlOiAwLAogICAgLy8gICB9KQogICAgLy8gICAuc3VibWl0KCk7CiAgICBpdHhuX3N1Ym1pdAoKdW5zdGFrZV9hZnRlcl9pZl9lbHNlQDE4OgogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjQ0MQogICAgLy8gQGFiaW1ldGhvZCh7IGFsbG93QWN0aW9uczogIk5vT3AiIH0pCiAgICBpbnRjXzEgLy8gMQogICAgcmV0dXJuCgp1bnN0YWtlX2Vsc2VfYm9keUAxNzoKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czo1MDYKICAgIC8vIGNvbnN0IG5ld0RlYnQgPSBtdWxEaXZXKHJlbWFpbmluZywgdGhpcy5yZXdhcmRfcGVyX3Rva2VuLnZhbHVlLmFzVWludDY0KCksIFBSRUNJU0lPTik7CiAgICBpbnRjXzAgLy8gMAogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjMyCiAgICAvLyByZXdhcmRfcGVyX3Rva2VuID0gR2xvYmFsU3RhdGU8VWludDY0PigpOwogICAgYnl0ZWMgOSAvLyAicmV3YXJkX3Blcl90b2tlbiIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czo1MDYKICAgIC8vIGNvbnN0IG5ld0RlYnQgPSBtdWxEaXZXKHJlbWFpbmluZywgdGhpcy5yZXdhcmRfcGVyX3Rva2VuLnZhbHVlLmFzVWludDY0KCksIFBSRUNJU0lPTik7CiAgICBhcHBfZ2xvYmFsX2dldF9leAogICAgYXNzZXJ0IC8vIGNoZWNrIEdsb2JhbFN0YXRlIGV4aXN0cwogICAgYnRvaQogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvY29uZmlnLmFsZ28udHM6MjgKICAgIC8vIGNvbnN0IFtoaSwgbG9dID0gbXVsdyhhLCBiKTsKICAgIGRpZyA1CiAgICBkdXAKICAgIHVuY292ZXIgMgogICAgbXVsdwogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjUwNgogICAgLy8gY29uc3QgbmV3RGVidCA9IG11bERpdlcocmVtYWluaW5nLCB0aGlzLnJld2FyZF9wZXJfdG9rZW4udmFsdWUuYXNVaW50NjQoKSwgUFJFQ0lTSU9OKTsKICAgIGludGMgNCAvLyAxMDAwMDAwMDAwMDAwMDAwCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9jb25maWcuYWxnby50czoyOQogICAgLy8gcmV0dXJuIGRpdncoaGksIGxvLCBjKTsKICAgIGRpdncKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czo1MDgKICAgIC8vIHN0YWtlOiBuZXcgVWludDY0KHJlbWFpbmluZyksCiAgICBzd2FwCiAgICBpdG9iCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6NTA5CiAgICAvLyByZXdhcmREZWJ0OiBuZXcgVWludDY0KG5ld0RlYnQpLAogICAgc3dhcAogICAgaXRvYgogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjUwNy01MTAKICAgIC8vIHRoaXMuc3Rha2VycyhvcC5UeG4uc2VuZGVyKS52YWx1ZSA9IG5ldyBTdGFrZUluZm9SZWNvcmQoewogICAgLy8gICBzdGFrZTogbmV3IFVpbnQ2NChyZW1haW5pbmcpLAogICAgLy8gICByZXdhcmREZWJ0OiBuZXcgVWludDY0KG5ld0RlYnQpLAogICAgLy8gfSk7CiAgICBjb25jYXQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czoyNgogICAgLy8gc3Rha2VycyA9IEJveE1hcDxBY2NvdW50LCBTdGFrZUluZm9SZWNvcmQ+KHsga2V5UHJlZml4OiAic3QiIH0pOwogICAgYnl0ZWNfMyAvLyAic3QiCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6NTA3CiAgICAvLyB0aGlzLnN0YWtlcnMob3AuVHhuLnNlbmRlcikudmFsdWUgPSBuZXcgU3Rha2VJbmZvUmVjb3JkKHsKICAgIHR4biBTZW5kZXIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czoyNgogICAgLy8gc3Rha2VycyA9IEJveE1hcDxBY2NvdW50LCBTdGFrZUluZm9SZWNvcmQ+KHsga2V5UHJlZml4OiAic3QiIH0pOwogICAgY29uY2F0CiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6NTA3LTUxMAogICAgLy8gdGhpcy5zdGFrZXJzKG9wLlR4bi5zZW5kZXIpLnZhbHVlID0gbmV3IFN0YWtlSW5mb1JlY29yZCh7CiAgICAvLyAgIHN0YWtlOiBuZXcgVWludDY0KHJlbWFpbmluZyksCiAgICAvLyAgIHJld2FyZERlYnQ6IG5ldyBVaW50NjQobmV3RGVidCksCiAgICAvLyB9KTsKICAgIHN3YXAKICAgIGJveF9wdXQKICAgIGIgdW5zdGFrZV9hZnRlcl9pZl9lbHNlQDE4Cgp1bnN0YWtlX3Rlcm5hcnlfZmFsc2VAMzoKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czo0NTQKICAgIC8vIGxldCBwZW5kaW5nOiB1aW50NjQgPSBhY2NydWVkID4gcmVjLnJld2FyZERlYnQuYXNVaW50NjQoKSA/IGFjY3J1ZWQgLSByZWMucmV3YXJkRGVidC5hc1VpbnQ2NCgpIDogMDsKICAgIGludGNfMCAvLyAwCiAgICBidXJ5IDYKICAgIGIgdW5zdGFrZV90ZXJuYXJ5X21lcmdlQDQKCgovLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6OlN0YWtpbmcuZGVsZXRlQXBwbGljYXRpb25bcm91dGluZ10oKSAtPiB2b2lkOgpkZWxldGVBcHBsaWNhdGlvbjoKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czo1MTYKICAgIC8vIGFzc2VydChvcC5UeG4uc2VuZGVyID09PSB0aGlzLnN1cGVyX2FkbWluX2FkZHJlc3MudmFsdWUsICJPbmx5IHN1cGVyIGFkbWluIGNhbiBkZWxldGUgYXBwbGljYXRpb24iKTsKICAgIHR4biBTZW5kZXIKICAgIGludGNfMCAvLyAwCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6NTAKICAgIC8vIHN1cGVyX2FkbWluX2FkZHJlc3MgPSBHbG9iYWxTdGF0ZTxBY2NvdW50PigpOwogICAgYnl0ZWMgMTcgLy8gInN1cGVyX2FkbWluX2FkZHJlc3MiCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6NTE2CiAgICAvLyBhc3NlcnQob3AuVHhuLnNlbmRlciA9PT0gdGhpcy5zdXBlcl9hZG1pbl9hZGRyZXNzLnZhbHVlLCAiT25seSBzdXBlciBhZG1pbiBjYW4gZGVsZXRlIGFwcGxpY2F0aW9uIik7CiAgICBhcHBfZ2xvYmFsX2dldF9leAogICAgYXNzZXJ0IC8vIGNoZWNrIEdsb2JhbFN0YXRlIGV4aXN0cwogICAgPT0KICAgIGFzc2VydCAvLyBPbmx5IHN1cGVyIGFkbWluIGNhbiBkZWxldGUgYXBwbGljYXRpb24KICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czo1MTcKICAgIC8vIGFzc2VydCh0aGlzLnRvdGFsX3N0YWtlZC52YWx1ZS5hc1VpbnQ2NCgpID09PSAwLCAiU3Rha2VkIGFzc2V0cyBzdGlsbCBleGlzdCIpOwogICAgaW50Y18wIC8vIDAKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czozMQogICAgLy8gdG90YWxfc3Rha2VkID0gR2xvYmFsU3RhdGU8VWludDY0PigpOwogICAgYnl0ZWMgNSAvLyAidG90YWxfc3Rha2VkIgogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjUxNwogICAgLy8gYXNzZXJ0KHRoaXMudG90YWxfc3Rha2VkLnZhbHVlLmFzVWludDY0KCkgPT09IDAsICJTdGFrZWQgYXNzZXRzIHN0aWxsIGV4aXN0Iik7CiAgICBhcHBfZ2xvYmFsX2dldF9leAogICAgYXNzZXJ0IC8vIGNoZWNrIEdsb2JhbFN0YXRlIGV4aXN0cwogICAgYnRvaQogICAgIQogICAgYXNzZXJ0IC8vIFN0YWtlZCBhc3NldHMgc3RpbGwgZXhpc3QKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czo1MTgKICAgIC8vIGFzc2VydCh0aGlzLm51bV9zdGFrZXJzLnZhbHVlLmFzVWludDY0KCkgPT09IDAsICJTdGFrZXJzIGV4aXN0Iik7CiAgICBpbnRjXzAgLy8gMAogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjUxCiAgICAvLyBudW1fc3Rha2VycyA9IEdsb2JhbFN0YXRlPFVpbnQ2ND4oKTsKICAgIGJ5dGVjIDEyIC8vICJudW1fc3Rha2VycyIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czo1MTgKICAgIC8vIGFzc2VydCh0aGlzLm51bV9zdGFrZXJzLnZhbHVlLmFzVWludDY0KCkgPT09IDAsICJTdGFrZXJzIGV4aXN0Iik7CiAgICBhcHBfZ2xvYmFsX2dldF9leAogICAgYXNzZXJ0IC8vIGNoZWNrIEdsb2JhbFN0YXRlIGV4aXN0cwogICAgYnRvaQogICAgIQogICAgYXNzZXJ0IC8vIFN0YWtlcnMgZXhpc3QKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czo1MjAKICAgIC8vIGNvbnN0IHN0YWtlZEJhbGFuY2UgPSBvcC5Bc3NldEhvbGRpbmcuYXNzZXRCYWxhbmNlKEdsb2JhbC5jdXJyZW50QXBwbGljYXRpb25BZGRyZXNzLCBBc3NldCh0aGlzLnN0YWtlZF9hc3NldF9pZC52YWx1ZS5hc1VpbnQ2NCgpKSlbMF07CiAgICBnbG9iYWwgQ3VycmVudEFwcGxpY2F0aW9uQWRkcmVzcwogICAgaW50Y18wIC8vIDAKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czoyOAogICAgLy8gc3Rha2VkX2Fzc2V0X2lkID0gR2xvYmFsU3RhdGU8VWludDY0PigpOwogICAgYnl0ZWMgMTYgLy8gInN0YWtlZF9hc3NldF9pZCIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czo1MjAKICAgIC8vIGNvbnN0IHN0YWtlZEJhbGFuY2UgPSBvcC5Bc3NldEhvbGRpbmcuYXNzZXRCYWxhbmNlKEdsb2JhbC5jdXJyZW50QXBwbGljYXRpb25BZGRyZXNzLCBBc3NldCh0aGlzLnN0YWtlZF9hc3NldF9pZC52YWx1ZS5hc1VpbnQ2NCgpKSlbMF07CiAgICBhcHBfZ2xvYmFsX2dldF9leAogICAgYXNzZXJ0IC8vIGNoZWNrIEdsb2JhbFN0YXRlIGV4aXN0cwogICAgZHVwCiAgICBidG9pCiAgICB1bmNvdmVyIDIKICAgIGRpZyAxCiAgICBhc3NldF9ob2xkaW5nX2dldCBBc3NldEJhbGFuY2UKICAgIHBvcAogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjUyMQogICAgLy8gYXNzZXJ0KHN0YWtlZEJhbGFuY2UgPT09IDAsICJTdGFrZWQgYXNzZXQgYmFsYW5jZSBub3QgZW1wdHkiKTsKICAgICEKICAgIGFzc2VydCAvLyBTdGFrZWQgYXNzZXQgYmFsYW5jZSBub3QgZW1wdHkKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czo1MjMKICAgIC8vIGNvbnN0IHJld2FyZEJhbGFuY2UgPSBvcC5Bc3NldEhvbGRpbmcuYXNzZXRCYWxhbmNlKEdsb2JhbC5jdXJyZW50QXBwbGljYXRpb25BZGRyZXNzLCBBc3NldCh0aGlzLnJld2FyZF9hc3NldF9pZC52YWx1ZS5hc1VpbnQ2NCgpKSlbMF07CiAgICBnbG9iYWwgQ3VycmVudEFwcGxpY2F0aW9uQWRkcmVzcwogICAgaW50Y18wIC8vIDAKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czoyOQogICAgLy8gcmV3YXJkX2Fzc2V0X2lkID0gR2xvYmFsU3RhdGU8VWludDY0PigpOwogICAgYnl0ZWMgNiAvLyAicmV3YXJkX2Fzc2V0X2lkIgogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjUyMwogICAgLy8gY29uc3QgcmV3YXJkQmFsYW5jZSA9IG9wLkFzc2V0SG9sZGluZy5hc3NldEJhbGFuY2UoR2xvYmFsLmN1cnJlbnRBcHBsaWNhdGlvbkFkZHJlc3MsIEFzc2V0KHRoaXMucmV3YXJkX2Fzc2V0X2lkLnZhbHVlLmFzVWludDY0KCkpKVswXTsKICAgIGFwcF9nbG9iYWxfZ2V0X2V4CiAgICBhc3NlcnQgLy8gY2hlY2sgR2xvYmFsU3RhdGUgZXhpc3RzCiAgICBkdXAKICAgIGJ0b2kKICAgIHVuY292ZXIgMgogICAgc3dhcAogICAgYXNzZXRfaG9sZGluZ19nZXQgQXNzZXRCYWxhbmNlCiAgICBwb3AKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czo1MjQKICAgIC8vIGFzc2VydChyZXdhcmRCYWxhbmNlID09PSAwLCAiUmV3YXJkIGFzc2V0IGJhbGFuY2Ugbm90IGVtcHR5Iik7CiAgICAhCiAgICBhc3NlcnQgLy8gUmV3YXJkIGFzc2V0IGJhbGFuY2Ugbm90IGVtcHR5CiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6NTI2LTUzNAogICAgLy8gaXR4bgogICAgLy8gICAuYXNzZXRUcmFuc2Zlcih7CiAgICAvLyAgICAgeGZlckFzc2V0OiB0aGlzLnN0YWtlZF9hc3NldF9pZC52YWx1ZS5hc1VpbnQ2NCgpLAogICAgLy8gICAgIGFzc2V0Q2xvc2VUbzogdGhpcy5hZG1pbl9hZGRyZXNzLnZhbHVlLAogICAgLy8gICAgIGFzc2V0QW1vdW50OiAwLAogICAgLy8gICAgIGFzc2V0UmVjZWl2ZXI6IEdsb2JhbC5jdXJyZW50QXBwbGljYXRpb25BZGRyZXNzLAogICAgLy8gICAgIGZlZTogMCwKICAgIC8vICAgfSkKICAgIC8vICAgLnN1Ym1pdCgpOwogICAgaXR4bl9iZWdpbgogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjUyOQogICAgLy8gYXNzZXRDbG9zZVRvOiB0aGlzLmFkbWluX2FkZHJlc3MudmFsdWUsCiAgICBpbnRjXzAgLy8gMAogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjQ5CiAgICAvLyBhZG1pbl9hZGRyZXNzID0gR2xvYmFsU3RhdGU8QWNjb3VudD4oKTsKICAgIGJ5dGVjXzEgLy8gImFkbWluX2FkZHJlc3MiCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6NTI5CiAgICAvLyBhc3NldENsb3NlVG86IHRoaXMuYWRtaW5fYWRkcmVzcy52YWx1ZSwKICAgIGFwcF9nbG9iYWxfZ2V0X2V4CiAgICBhc3NlcnQgLy8gY2hlY2sgR2xvYmFsU3RhdGUgZXhpc3RzCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6NTMxCiAgICAvLyBhc3NldFJlY2VpdmVyOiBHbG9iYWwuY3VycmVudEFwcGxpY2F0aW9uQWRkcmVzcywKICAgIGdsb2JhbCBDdXJyZW50QXBwbGljYXRpb25BZGRyZXNzCiAgICBpdHhuX2ZpZWxkIEFzc2V0UmVjZWl2ZXIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czo1MzAKICAgIC8vIGFzc2V0QW1vdW50OiAwLAogICAgaW50Y18wIC8vIDAKICAgIGl0eG5fZmllbGQgQXNzZXRBbW91bnQKICAgIGl0eG5fZmllbGQgQXNzZXRDbG9zZVRvCiAgICBzd2FwCiAgICBpdHhuX2ZpZWxkIFhmZXJBc3NldAogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjUyNi01MzMKICAgIC8vIGl0eG4KICAgIC8vICAgLmFzc2V0VHJhbnNmZXIoewogICAgLy8gICAgIHhmZXJBc3NldDogdGhpcy5zdGFrZWRfYXNzZXRfaWQudmFsdWUuYXNVaW50NjQoKSwKICAgIC8vICAgICBhc3NldENsb3NlVG86IHRoaXMuYWRtaW5fYWRkcmVzcy52YWx1ZSwKICAgIC8vICAgICBhc3NldEFtb3VudDogMCwKICAgIC8vICAgICBhc3NldFJlY2VpdmVyOiBHbG9iYWwuY3VycmVudEFwcGxpY2F0aW9uQWRkcmVzcywKICAgIC8vICAgICBmZWU6IDAsCiAgICAvLyAgIH0pCiAgICBpbnRjXzMgLy8gNAogICAgaXR4bl9maWVsZCBUeXBlRW51bQogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjUzMgogICAgLy8gZmVlOiAwLAogICAgaW50Y18wIC8vIDAKICAgIGl0eG5fZmllbGQgRmVlCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6NTI2LTUzNAogICAgLy8gaXR4bgogICAgLy8gICAuYXNzZXRUcmFuc2Zlcih7CiAgICAvLyAgICAgeGZlckFzc2V0OiB0aGlzLnN0YWtlZF9hc3NldF9pZC52YWx1ZS5hc1VpbnQ2NCgpLAogICAgLy8gICAgIGFzc2V0Q2xvc2VUbzogdGhpcy5hZG1pbl9hZGRyZXNzLnZhbHVlLAogICAgLy8gICAgIGFzc2V0QW1vdW50OiAwLAogICAgLy8gICAgIGFzc2V0UmVjZWl2ZXI6IEdsb2JhbC5jdXJyZW50QXBwbGljYXRpb25BZGRyZXNzLAogICAgLy8gICAgIGZlZTogMCwKICAgIC8vICAgfSkKICAgIC8vICAgLnN1Ym1pdCgpOwogICAgaXR4bl9zdWJtaXQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czo1MzYKICAgIC8vIGlmICh0aGlzLnN0YWtlZF9hc3NldF9pZC52YWx1ZSAhPT0gdGhpcy5yZXdhcmRfYXNzZXRfaWQudmFsdWUpIHsKICAgICE9CiAgICBieiBkZWxldGVBcHBsaWNhdGlvbl9hZnRlcl9pZl9lbHNlQDUKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czo1MzctNTQ1CiAgICAvLyBpdHhuCiAgICAvLyAgIC5hc3NldFRyYW5zZmVyKHsKICAgIC8vICAgICB4ZmVyQXNzZXQ6IHRoaXMucmV3YXJkX2Fzc2V0X2lkLnZhbHVlLmFzVWludDY0KCksCiAgICAvLyAgICAgYXNzZXRDbG9zZVRvOiB0aGlzLmFkbWluX2FkZHJlc3MudmFsdWUsCiAgICAvLyAgICAgYXNzZXRBbW91bnQ6IDAsCiAgICAvLyAgICAgYXNzZXRSZWNlaXZlcjogR2xvYmFsLmN1cnJlbnRBcHBsaWNhdGlvbkFkZHJlc3MsCiAgICAvLyAgICAgZmVlOiAwLAogICAgLy8gICB9KQogICAgLy8gICAuc3VibWl0KCk7CiAgICBpdHhuX2JlZ2luCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6NTM5CiAgICAvLyB4ZmVyQXNzZXQ6IHRoaXMucmV3YXJkX2Fzc2V0X2lkLnZhbHVlLmFzVWludDY0KCksCiAgICBpbnRjXzAgLy8gMAogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjI5CiAgICAvLyByZXdhcmRfYXNzZXRfaWQgPSBHbG9iYWxTdGF0ZTxVaW50NjQ+KCk7CiAgICBieXRlYyA2IC8vICJyZXdhcmRfYXNzZXRfaWQiCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6NTM5CiAgICAvLyB4ZmVyQXNzZXQ6IHRoaXMucmV3YXJkX2Fzc2V0X2lkLnZhbHVlLmFzVWludDY0KCksCiAgICBhcHBfZ2xvYmFsX2dldF9leAogICAgYXNzZXJ0IC8vIGNoZWNrIEdsb2JhbFN0YXRlIGV4aXN0cwogICAgYnRvaQogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjU0MAogICAgLy8gYXNzZXRDbG9zZVRvOiB0aGlzLmFkbWluX2FkZHJlc3MudmFsdWUsCiAgICBpbnRjXzAgLy8gMAogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjQ5CiAgICAvLyBhZG1pbl9hZGRyZXNzID0gR2xvYmFsU3RhdGU8QWNjb3VudD4oKTsKICAgIGJ5dGVjXzEgLy8gImFkbWluX2FkZHJlc3MiCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6NTQwCiAgICAvLyBhc3NldENsb3NlVG86IHRoaXMuYWRtaW5fYWRkcmVzcy52YWx1ZSwKICAgIGFwcF9nbG9iYWxfZ2V0X2V4CiAgICBhc3NlcnQgLy8gY2hlY2sgR2xvYmFsU3RhdGUgZXhpc3RzCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6NTQyCiAgICAvLyBhc3NldFJlY2VpdmVyOiBHbG9iYWwuY3VycmVudEFwcGxpY2F0aW9uQWRkcmVzcywKICAgIGdsb2JhbCBDdXJyZW50QXBwbGljYXRpb25BZGRyZXNzCiAgICBpdHhuX2ZpZWxkIEFzc2V0UmVjZWl2ZXIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czo1NDEKICAgIC8vIGFzc2V0QW1vdW50OiAwLAogICAgaW50Y18wIC8vIDAKICAgIGl0eG5fZmllbGQgQXNzZXRBbW91bnQKICAgIGl0eG5fZmllbGQgQXNzZXRDbG9zZVRvCiAgICBpdHhuX2ZpZWxkIFhmZXJBc3NldAogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjUzNy01NDQKICAgIC8vIGl0eG4KICAgIC8vICAgLmFzc2V0VHJhbnNmZXIoewogICAgLy8gICAgIHhmZXJBc3NldDogdGhpcy5yZXdhcmRfYXNzZXRfaWQudmFsdWUuYXNVaW50NjQoKSwKICAgIC8vICAgICBhc3NldENsb3NlVG86IHRoaXMuYWRtaW5fYWRkcmVzcy52YWx1ZSwKICAgIC8vICAgICBhc3NldEFtb3VudDogMCwKICAgIC8vICAgICBhc3NldFJlY2VpdmVyOiBHbG9iYWwuY3VycmVudEFwcGxpY2F0aW9uQWRkcmVzcywKICAgIC8vICAgICBmZWU6IDAsCiAgICAvLyAgIH0pCiAgICBpbnRjXzMgLy8gNAogICAgaXR4bl9maWVsZCBUeXBlRW51bQogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjU0MwogICAgLy8gZmVlOiAwLAogICAgaW50Y18wIC8vIDAKICAgIGl0eG5fZmllbGQgRmVlCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6NTM3LTU0NQogICAgLy8gaXR4bgogICAgLy8gICAuYXNzZXRUcmFuc2Zlcih7CiAgICAvLyAgICAgeGZlckFzc2V0OiB0aGlzLnJld2FyZF9hc3NldF9pZC52YWx1ZS5hc1VpbnQ2NCgpLAogICAgLy8gICAgIGFzc2V0Q2xvc2VUbzogdGhpcy5hZG1pbl9hZGRyZXNzLnZhbHVlLAogICAgLy8gICAgIGFzc2V0QW1vdW50OiAwLAogICAgLy8gICAgIGFzc2V0UmVjZWl2ZXI6IEdsb2JhbC5jdXJyZW50QXBwbGljYXRpb25BZGRyZXNzLAogICAgLy8gICAgIGZlZTogMCwKICAgIC8vICAgfSkKICAgIC8vICAgLnN1Ym1pdCgpOwogICAgaXR4bl9zdWJtaXQKCmRlbGV0ZUFwcGxpY2F0aW9uX2FmdGVyX2lmX2Vsc2VANToKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czo1MTQKICAgIC8vIEBhYmltZXRob2QoeyBhbGxvd0FjdGlvbnM6ICJEZWxldGVBcHBsaWNhdGlvbiIgfSkKICAgIGludGNfMSAvLyAxCiAgICByZXR1cm4KCgovLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6OlN0YWtpbmcudXBkYXRlUG9vbCgpIC0+IHZvaWQ6CnVwZGF0ZVBvb2w6CiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6MjU1CiAgICAvLyBwcml2YXRlIHVwZGF0ZVBvb2woKTogdm9pZCB7CiAgICBwcm90byAwIDAKICAgIHB1c2hieXRlcyAiIgogICAgZHVwbiA1CiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6MjU2CiAgICAvLyBpZiAodGhpcy5jb250cmFjdF9zdGF0ZS52YWx1ZSA9PT0gbmV3IFVpbnQ2NCgwKSkgewogICAgaW50Y18wIC8vIDAKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czo1MwogICAgLy8gY29udHJhY3Rfc3RhdGUgPSBHbG9iYWxTdGF0ZTxVaW50NjQ+KCk7IC8vIDAgPSBpbmFjdGl2ZSwgMSA9IGFjdGl2ZQogICAgYnl0ZWMgOCAvLyAiY29udHJhY3Rfc3RhdGUiCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6MjU2CiAgICAvLyBpZiAodGhpcy5jb250cmFjdF9zdGF0ZS52YWx1ZSA9PT0gbmV3IFVpbnQ2NCgwKSkgewogICAgYXBwX2dsb2JhbF9nZXRfZXgKICAgIGFzc2VydCAvLyBjaGVjayBHbG9iYWxTdGF0ZSBleGlzdHMKICAgIGJ5dGVjXzAgLy8gMHgwMDAwMDAwMDAwMDAwMDAwCiAgICA9PQogICAgYnogdXBkYXRlUG9vbF9hZnRlcl9pZl9lbHNlQDIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czoyNTcKICAgIC8vIHJldHVybjsKICAgIHJldHN1YgoKdXBkYXRlUG9vbF9hZnRlcl9pZl9lbHNlQDI6CiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6MjYwCiAgICAvLyBjb25zdCBub3c6IHVpbnQ2NCA9IEdsb2JhbC5sYXRlc3RUaW1lc3RhbXA7CiAgICBnbG9iYWwgTGF0ZXN0VGltZXN0YW1wCiAgICBkdXAKICAgIGZyYW1lX2J1cnkgMgogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjI2MQogICAgLy8gY29uc3Qgc3RhcnQ6IHVpbnQ2NCA9IHRoaXMuc3RhcnRfdGltZS52YWx1ZS5hc1VpbnQ2NCgpOwogICAgaW50Y18wIC8vIDAKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czozNQogICAgLy8gc3RhcnRfdGltZSA9IEdsb2JhbFN0YXRlPFVpbnQ2ND4oKTsKICAgIGJ5dGVjIDIzIC8vICJzdGFydF90aW1lIgogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjI2MQogICAgLy8gY29uc3Qgc3RhcnQ6IHVpbnQ2NCA9IHRoaXMuc3RhcnRfdGltZS52YWx1ZS5hc1VpbnQ2NCgpOwogICAgYXBwX2dsb2JhbF9nZXRfZXgKICAgIGFzc2VydCAvLyBjaGVjayBHbG9iYWxTdGF0ZSBleGlzdHMKICAgIGJ0b2kKICAgIGZyYW1lX2J1cnkgNQogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjI2MgogICAgLy8gY29uc3QgbGFzdDogdWludDY0ID0gdGhpcy5sYXN0X3VwZGF0ZV90aW1lLnZhbHVlLmFzVWludDY0KCk7CiAgICBpbnRjXzAgLy8gMAogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjM2CiAgICAvLyBsYXN0X3VwZGF0ZV90aW1lID0gR2xvYmFsU3RhdGU8VWludDY0PigpOwogICAgYnl0ZWMgMTAgLy8gImxhc3RfdXBkYXRlX3RpbWUiCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6MjYyCiAgICAvLyBjb25zdCBsYXN0OiB1aW50NjQgPSB0aGlzLmxhc3RfdXBkYXRlX3RpbWUudmFsdWUuYXNVaW50NjQoKTsKICAgIGFwcF9nbG9iYWxfZ2V0X2V4CiAgICBhc3NlcnQgLy8gY2hlY2sgR2xvYmFsU3RhdGUgZXhpc3RzCiAgICBidG9pCiAgICBkdXAKICAgIGZyYW1lX2J1cnkgMQogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjI2NAogICAgLy8gaWYgKG5vdyA8PSBsYXN0KSB7CiAgICA8PQogICAgYnogdXBkYXRlUG9vbF9hZnRlcl9pZl9lbHNlQDQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czoyNjUKICAgIC8vIHJldHVybjsKICAgIHJldHN1YgoKdXBkYXRlUG9vbF9hZnRlcl9pZl9lbHNlQDQ6CiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6MjY4CiAgICAvLyBpZiAodGhpcy5yZXdhcmRzX2V4aGF1c3RlZC52YWx1ZS5hc1VpbnQ2NCgpID09PSAxKSB7CiAgICBpbnRjXzAgLy8gMAogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjQ1CiAgICAvLyByZXdhcmRzX2V4aGF1c3RlZCA9IEdsb2JhbFN0YXRlPFVpbnQ2ND4oKTsKICAgIGJ5dGVjIDExIC8vICJyZXdhcmRzX2V4aGF1c3RlZCIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czoyNjgKICAgIC8vIGlmICh0aGlzLnJld2FyZHNfZXhoYXVzdGVkLnZhbHVlLmFzVWludDY0KCkgPT09IDEpIHsKICAgIGFwcF9nbG9iYWxfZ2V0X2V4CiAgICBhc3NlcnQgLy8gY2hlY2sgR2xvYmFsU3RhdGUgZXhpc3RzCiAgICBidG9pCiAgICBpbnRjXzEgLy8gMQogICAgPT0KICAgIGJ6IHVwZGF0ZVBvb2xfYWZ0ZXJfaWZfZWxzZUA2CiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6MjY5CiAgICAvLyB0aGlzLmxhc3RfdXBkYXRlX3RpbWUudmFsdWUgPSBuZXcgVWludDY0KG5vdyk7CiAgICBmcmFtZV9kaWcgMgogICAgaXRvYgogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjM2CiAgICAvLyBsYXN0X3VwZGF0ZV90aW1lID0gR2xvYmFsU3RhdGU8VWludDY0PigpOwogICAgYnl0ZWMgMTAgLy8gImxhc3RfdXBkYXRlX3RpbWUiCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6MjY5CiAgICAvLyB0aGlzLmxhc3RfdXBkYXRlX3RpbWUudmFsdWUgPSBuZXcgVWludDY0KG5vdyk7CiAgICBzd2FwCiAgICBhcHBfZ2xvYmFsX3B1dAogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjI3MAogICAgLy8gcmV0dXJuOwogICAgcmV0c3ViCgp1cGRhdGVQb29sX2FmdGVyX2lmX2Vsc2VANjoKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czoyNzQKICAgIC8vIGlmIChjYXBwZWRUaW1lIDw9IHN0YXJ0KSB7CiAgICBmcmFtZV9kaWcgMgogICAgZnJhbWVfZGlnIDUKICAgIDw9CiAgICBieiB1cGRhdGVQb29sX2FmdGVyX2lmX2Vsc2VAOAogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjI3NQogICAgLy8gdGhpcy5sYXN0X3VwZGF0ZV90aW1lLnZhbHVlID0gbmV3IFVpbnQ2NChjYXBwZWRUaW1lKTsKICAgIGZyYW1lX2RpZyAyCiAgICBpdG9iCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6MzYKICAgIC8vIGxhc3RfdXBkYXRlX3RpbWUgPSBHbG9iYWxTdGF0ZTxVaW50NjQ+KCk7CiAgICBieXRlYyAxMCAvLyAibGFzdF91cGRhdGVfdGltZSIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czoyNzUKICAgIC8vIHRoaXMubGFzdF91cGRhdGVfdGltZS52YWx1ZSA9IG5ldyBVaW50NjQoY2FwcGVkVGltZSk7CiAgICBzd2FwCiAgICBhcHBfZ2xvYmFsX3B1dAogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjI3NgogICAgLy8gcmV0dXJuOwogICAgcmV0c3ViCgp1cGRhdGVQb29sX2FmdGVyX2lmX2Vsc2VAODoKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czoyNzkKICAgIC8vIGNvbnN0IGVmZmVjdGl2ZUxhc3Q6IHVpbnQ2NCA9IGxhc3QgPCBzdGFydCA/IHN0YXJ0IDogbGFzdDsKICAgIGZyYW1lX2RpZyAxCiAgICBkdXAKICAgIGZyYW1lX2RpZyA1CiAgICBkdXAKICAgIGNvdmVyIDMKICAgIDwKICAgIHN3YXAKICAgIGNvdmVyIDIKICAgIHNlbGVjdAogICAgZHVwCiAgICBmcmFtZV9idXJ5IDAKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czoyODAKICAgIC8vIGlmIChjYXBwZWRUaW1lIDw9IGVmZmVjdGl2ZUxhc3QpIHsKICAgIGZyYW1lX2RpZyAyCiAgICA+PQogICAgYnogdXBkYXRlUG9vbF9hZnRlcl9pZl9lbHNlQDEwCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6MjgxCiAgICAvLyB0aGlzLmxhc3RfdXBkYXRlX3RpbWUudmFsdWUgPSBuZXcgVWludDY0KGNhcHBlZFRpbWUpOwogICAgZnJhbWVfZGlnIDIKICAgIGl0b2IKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czozNgogICAgLy8gbGFzdF91cGRhdGVfdGltZSA9IEdsb2JhbFN0YXRlPFVpbnQ2ND4oKTsKICAgIGJ5dGVjIDEwIC8vICJsYXN0X3VwZGF0ZV90aW1lIgogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjI4MQogICAgLy8gdGhpcy5sYXN0X3VwZGF0ZV90aW1lLnZhbHVlID0gbmV3IFVpbnQ2NChjYXBwZWRUaW1lKTsKICAgIHN3YXAKICAgIGFwcF9nbG9iYWxfcHV0CiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6MjgyCiAgICAvLyByZXR1cm47CiAgICByZXRzdWIKCnVwZGF0ZVBvb2xfYWZ0ZXJfaWZfZWxzZUAxMDoKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czoyODUKICAgIC8vIGlmICh0aGlzLnRvdGFsX3N0YWtlZC52YWx1ZS5hc1VpbnQ2NCgpID09PSAwKSB7CiAgICBpbnRjXzAgLy8gMAogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjMxCiAgICAvLyB0b3RhbF9zdGFrZWQgPSBHbG9iYWxTdGF0ZTxVaW50NjQ+KCk7CiAgICBieXRlYyA1IC8vICJ0b3RhbF9zdGFrZWQiCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6Mjg1CiAgICAvLyBpZiAodGhpcy50b3RhbF9zdGFrZWQudmFsdWUuYXNVaW50NjQoKSA9PT0gMCkgewogICAgYXBwX2dsb2JhbF9nZXRfZXgKICAgIGFzc2VydCAvLyBjaGVjayBHbG9iYWxTdGF0ZSBleGlzdHMKICAgIGJ0b2kKICAgIGJueiB1cGRhdGVQb29sX2FmdGVyX2lmX2Vsc2VAMTIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czoyODYKICAgIC8vIHRoaXMubGFzdF91cGRhdGVfdGltZS52YWx1ZSA9IG5ldyBVaW50NjQoY2FwcGVkVGltZSk7CiAgICBmcmFtZV9kaWcgMgogICAgaXRvYgogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjM2CiAgICAvLyBsYXN0X3VwZGF0ZV90aW1lID0gR2xvYmFsU3RhdGU8VWludDY0PigpOwogICAgYnl0ZWMgMTAgLy8gImxhc3RfdXBkYXRlX3RpbWUiCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6Mjg2CiAgICAvLyB0aGlzLmxhc3RfdXBkYXRlX3RpbWUudmFsdWUgPSBuZXcgVWludDY0KGNhcHBlZFRpbWUpOwogICAgc3dhcAogICAgYXBwX2dsb2JhbF9wdXQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czoyODcKICAgIC8vIHJldHVybjsKICAgIHJldHN1YgoKdXBkYXRlUG9vbF9hZnRlcl9pZl9lbHNlQDEyOgogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjI5MAogICAgLy8gY29uc3QgZHVyYXRpb246IHVpbnQ2NCA9IGNhcHBlZFRpbWUgLSBlZmZlY3RpdmVMYXN0OwogICAgZnJhbWVfZGlnIDIKICAgIGZyYW1lX2RpZyAwCiAgICAtCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6MjkyCiAgICAvLyB0aGlzLnRvdGFsX3N0YWtlZC52YWx1ZS5hc1VpbnQ2NCgpLAogICAgaW50Y18wIC8vIDAKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czozMQogICAgLy8gdG90YWxfc3Rha2VkID0gR2xvYmFsU3RhdGU8VWludDY0PigpOwogICAgYnl0ZWMgNSAvLyAidG90YWxfc3Rha2VkIgogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjI5MgogICAgLy8gdGhpcy50b3RhbF9zdGFrZWQudmFsdWUuYXNVaW50NjQoKSwKICAgIGFwcF9nbG9iYWxfZ2V0X2V4CiAgICBhc3NlcnQgLy8gY2hlY2sgR2xvYmFsU3RhdGUgZXhpc3RzCiAgICBidG9pCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6MjkzCiAgICAvLyB0aGlzLnN0YWtlX3RvX3Jld2FyZF9zY2FsZV9udW0udmFsdWUuYXNVaW50NjQoKSwKICAgIGludGNfMCAvLyAwCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6MzkKICAgIC8vIHN0YWtlX3RvX3Jld2FyZF9zY2FsZV9udW0gPSBHbG9iYWxTdGF0ZTxVaW50NjQ+KCk7CiAgICBieXRlYyAyMCAvLyAic3Rha2VfdG9fcmV3YXJkX3NjYWxlX251bSIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czoyOTMKICAgIC8vIHRoaXMuc3Rha2VfdG9fcmV3YXJkX3NjYWxlX251bS52YWx1ZS5hc1VpbnQ2NCgpLAogICAgYXBwX2dsb2JhbF9nZXRfZXgKICAgIGFzc2VydCAvLyBjaGVjayBHbG9iYWxTdGF0ZSBleGlzdHMKICAgIGJ0b2kKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czoyOTQKICAgIC8vIHRoaXMuc3Rha2VfdG9fcmV3YXJkX3NjYWxlX2Rlbi52YWx1ZS5hc1VpbnQ2NCgpLAogICAgaW50Y18wIC8vIDAKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czo0MAogICAgLy8gc3Rha2VfdG9fcmV3YXJkX3NjYWxlX2RlbiA9IEdsb2JhbFN0YXRlPFVpbnQ2ND4oKTsKICAgIGJ5dGVjIDIxIC8vICJzdGFrZV90b19yZXdhcmRfc2NhbGVfZGVuIgogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjI5NAogICAgLy8gdGhpcy5zdGFrZV90b19yZXdhcmRfc2NhbGVfZGVuLnZhbHVlLmFzVWludDY0KCksCiAgICBhcHBfZ2xvYmFsX2dldF9leAogICAgYXNzZXJ0IC8vIGNoZWNrIEdsb2JhbFN0YXRlIGV4aXN0cwogICAgYnRvaQogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvY29uZmlnLmFsZ28udHM6MjcKICAgIC8vIGFzc2VydChjID4gMCwgIm11bERpdlc6IGRpdmlzaW9uIGJ5IHplcm8iKTsKICAgIGR1cAogICAgYXNzZXJ0IC8vIG11bERpdlc6IGRpdmlzaW9uIGJ5IHplcm8KICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL2NvbmZpZy5hbGdvLnRzOjI4CiAgICAvLyBjb25zdCBbaGksIGxvXSA9IG11bHcoYSwgYik7CiAgICBjb3ZlciAyCiAgICBtdWx3CiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9jb25maWcuYWxnby50czoyOQogICAgLy8gcmV0dXJuIGRpdncoaGksIGxvLCBjKTsKICAgIHVuY292ZXIgMgogICAgZGl2dwogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjI5NgogICAgLy8gY29uc3QgYW5udWFsUmV3YXJkID0gbXVsRGl2VyhzY2FsZWRUb3RhbFN0YWtlZCwgdGhpcy5hcHJfYnBzLnZhbHVlLmFzVWludDY0KCksIDEwXzAwMCk7CiAgICBpbnRjXzAgLy8gMAogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjQ0CiAgICAvLyBhcHJfYnBzID0gR2xvYmFsU3RhdGU8VWludDY0PigpOwogICAgYnl0ZWMgMjQgLy8gImFwcl9icHMiCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6Mjk2CiAgICAvLyBjb25zdCBhbm51YWxSZXdhcmQgPSBtdWxEaXZXKHNjYWxlZFRvdGFsU3Rha2VkLCB0aGlzLmFwcl9icHMudmFsdWUuYXNVaW50NjQoKSwgMTBfMDAwKTsKICAgIGFwcF9nbG9iYWxfZ2V0X2V4CiAgICBhc3NlcnQgLy8gY2hlY2sgR2xvYmFsU3RhdGUgZXhpc3RzCiAgICBidG9pCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9jb25maWcuYWxnby50czoyOAogICAgLy8gY29uc3QgW2hpLCBsb10gPSBtdWx3KGEsIGIpOwogICAgbXVsdwogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjI5NgogICAgLy8gY29uc3QgYW5udWFsUmV3YXJkID0gbXVsRGl2VyhzY2FsZWRUb3RhbFN0YWtlZCwgdGhpcy5hcHJfYnBzLnZhbHVlLmFzVWludDY0KCksIDEwXzAwMCk7CiAgICBpbnRjIDUgLy8gMTAwMDAKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL2NvbmZpZy5hbGdvLnRzOjI5CiAgICAvLyByZXR1cm4gZGl2dyhoaSwgbG8sIGMpOwogICAgZGl2dwogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjI5NwogICAgLy8gY29uc3QgcmV3YXJkUmF0ZTogdWludDY0ID0gYW5udWFsUmV3YXJkIC8gU0VDT05EU19QRVJfWUVBUjsKICAgIGR1cAogICAgaW50YyA3IC8vIDMxNTM2MDAwCiAgICAvCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6Mjk4CiAgICAvLyB0aGlzLnJld2FyZF9yYXRlLnZhbHVlID0gbmV3IFVpbnQ2NChyZXdhcmRSYXRlKTsKICAgIGl0b2IKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czozNAogICAgLy8gcmV3YXJkX3JhdGUgPSBHbG9iYWxTdGF0ZTxVaW50NjQ+KCk7CiAgICBieXRlYyAyMiAvLyAicmV3YXJkX3JhdGUiCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6Mjk4CiAgICAvLyB0aGlzLnJld2FyZF9yYXRlLnZhbHVlID0gbmV3IFVpbnQ2NChyZXdhcmRSYXRlKTsKICAgIHN3YXAKICAgIGFwcF9nbG9iYWxfcHV0CiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9jb25maWcuYWxnby50czoyOAogICAgLy8gY29uc3QgW2hpLCBsb10gPSBtdWx3KGEsIGIpOwogICAgbXVsdwogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjMwMAogICAgLy8gbGV0IHJld2FyZDogdWludDY0ID0gbXVsRGl2VyhkdXJhdGlvbiwgYW5udWFsUmV3YXJkLCBTRUNPTkRTX1BFUl9ZRUFSKTsKICAgIGludGMgNyAvLyAzMTUzNjAwMAogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvY29uZmlnLmFsZ28udHM6MjkKICAgIC8vIHJldHVybiBkaXZ3KGhpLCBsbywgYyk7CiAgICBkaXZ3CiAgICBkdXAKICAgIGZyYW1lX2J1cnkgNAogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjMwMQogICAgLy8gY29uc3QgcmVtYWluaW5nOiB1aW50NjQgPSB0aGlzLnRvdGFsX3Jld2FyZHMudmFsdWUuYXNVaW50NjQoKSAtIHRoaXMuYWNjcnVlZF9yZXdhcmRzLnZhbHVlLmFzVWludDY0KCk7CiAgICBpbnRjXzAgLy8gMAogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjQyCiAgICAvLyB0b3RhbF9yZXdhcmRzID0gR2xvYmFsU3RhdGU8VWludDY0PigpOwogICAgYnl0ZWMgMTMgLy8gInRvdGFsX3Jld2FyZHMiCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6MzAxCiAgICAvLyBjb25zdCByZW1haW5pbmc6IHVpbnQ2NCA9IHRoaXMudG90YWxfcmV3YXJkcy52YWx1ZS5hc1VpbnQ2NCgpIC0gdGhpcy5hY2NydWVkX3Jld2FyZHMudmFsdWUuYXNVaW50NjQoKTsKICAgIGFwcF9nbG9iYWxfZ2V0X2V4CiAgICBhc3NlcnQgLy8gY2hlY2sgR2xvYmFsU3RhdGUgZXhpc3RzCiAgICBidG9pCiAgICBpbnRjXzAgLy8gMAogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjQzCiAgICAvLyBhY2NydWVkX3Jld2FyZHMgPSBHbG9iYWxTdGF0ZTxVaW50NjQ+KCk7CiAgICBieXRlYyA3IC8vICJhY2NydWVkX3Jld2FyZHMiCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6MzAxCiAgICAvLyBjb25zdCByZW1haW5pbmc6IHVpbnQ2NCA9IHRoaXMudG90YWxfcmV3YXJkcy52YWx1ZS5hc1VpbnQ2NCgpIC0gdGhpcy5hY2NydWVkX3Jld2FyZHMudmFsdWUuYXNVaW50NjQoKTsKICAgIGFwcF9nbG9iYWxfZ2V0X2V4CiAgICBhc3NlcnQgLy8gY2hlY2sgR2xvYmFsU3RhdGUgZXhpc3RzCiAgICBidG9pCiAgICAtCiAgICBkdXAKICAgIGZyYW1lX2J1cnkgMwogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjMwMgogICAgLy8gaWYgKHJld2FyZCA+IHJlbWFpbmluZykgewogICAgPgogICAgYnogdXBkYXRlUG9vbF9hZnRlcl9pZl9lbHNlQDE0CiAgICBmcmFtZV9kaWcgMwogICAgZnJhbWVfYnVyeSA0Cgp1cGRhdGVQb29sX2FmdGVyX2lmX2Vsc2VAMTQ6CiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6MzA1CiAgICAvLyBpZiAocmV3YXJkID09PSAwKSB7CiAgICBmcmFtZV9kaWcgNAogICAgYm56IHVwZGF0ZVBvb2xfYWZ0ZXJfaWZfZWxzZUAxOAogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjMwNgogICAgLy8gaWYgKHJlbWFpbmluZyA9PT0gMCkgewogICAgZnJhbWVfZGlnIDMKICAgIGJueiB1cGRhdGVQb29sX2FmdGVyX2lmX2Vsc2VAMTcKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czo0NQogICAgLy8gcmV3YXJkc19leGhhdXN0ZWQgPSBHbG9iYWxTdGF0ZTxVaW50NjQ+KCk7CiAgICBieXRlYyAxMSAvLyAicmV3YXJkc19leGhhdXN0ZWQiCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6MzA3CiAgICAvLyB0aGlzLnJld2FyZHNfZXhoYXVzdGVkLnZhbHVlID0gbmV3IFVpbnQ2NCgxKTsKICAgIGJ5dGVjIDE0IC8vIDB4MDAwMDAwMDAwMDAwMDAwMQogICAgYXBwX2dsb2JhbF9wdXQKCnVwZGF0ZVBvb2xfYWZ0ZXJfaWZfZWxzZUAxNzoKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czozMDkKICAgIC8vIHRoaXMubGFzdF91cGRhdGVfdGltZS52YWx1ZSA9IG5ldyBVaW50NjQoY2FwcGVkVGltZSk7CiAgICBmcmFtZV9kaWcgMgogICAgaXRvYgogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjM2CiAgICAvLyBsYXN0X3VwZGF0ZV90aW1lID0gR2xvYmFsU3RhdGU8VWludDY0PigpOwogICAgYnl0ZWMgMTAgLy8gImxhc3RfdXBkYXRlX3RpbWUiCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6MzA5CiAgICAvLyB0aGlzLmxhc3RfdXBkYXRlX3RpbWUudmFsdWUgPSBuZXcgVWludDY0KGNhcHBlZFRpbWUpOwogICAgc3dhcAogICAgYXBwX2dsb2JhbF9wdXQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czozMTAKICAgIC8vIHJldHVybjsKICAgIHJldHN1YgoKdXBkYXRlUG9vbF9hZnRlcl9pZl9lbHNlQDE4OgogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjMxMwogICAgLy8gdGhpcy5hY2NydWVkX3Jld2FyZHMudmFsdWUgPSBuZXcgVWludDY0KHRoaXMuYWNjcnVlZF9yZXdhcmRzLnZhbHVlLmFzVWludDY0KCkgKyByZXdhcmQpOwogICAgaW50Y18wIC8vIDAKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czo0MwogICAgLy8gYWNjcnVlZF9yZXdhcmRzID0gR2xvYmFsU3RhdGU8VWludDY0PigpOwogICAgYnl0ZWMgNyAvLyAiYWNjcnVlZF9yZXdhcmRzIgogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjMxMwogICAgLy8gdGhpcy5hY2NydWVkX3Jld2FyZHMudmFsdWUgPSBuZXcgVWludDY0KHRoaXMuYWNjcnVlZF9yZXdhcmRzLnZhbHVlLmFzVWludDY0KCkgKyByZXdhcmQpOwogICAgYXBwX2dsb2JhbF9nZXRfZXgKICAgIGFzc2VydCAvLyBjaGVjayBHbG9iYWxTdGF0ZSBleGlzdHMKICAgIGJ0b2kKICAgIGZyYW1lX2RpZyA0CiAgICBkdXAKICAgIGNvdmVyIDIKICAgICsKICAgIGl0b2IKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czo0MwogICAgLy8gYWNjcnVlZF9yZXdhcmRzID0gR2xvYmFsU3RhdGU8VWludDY0PigpOwogICAgYnl0ZWMgNyAvLyAiYWNjcnVlZF9yZXdhcmRzIgogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjMxMwogICAgLy8gdGhpcy5hY2NydWVkX3Jld2FyZHMudmFsdWUgPSBuZXcgVWludDY0KHRoaXMuYWNjcnVlZF9yZXdhcmRzLnZhbHVlLmFzVWludDY0KCkgKyByZXdhcmQpOwogICAgc3dhcAogICAgYXBwX2dsb2JhbF9wdXQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czozMTQKICAgIC8vIGNvbnN0IGRlbHRhUlBUID0gbXVsRGl2VyhyZXdhcmQsIFBSRUNJU0lPTiwgdGhpcy50b3RhbF9zdGFrZWQudmFsdWUuYXNVaW50NjQoKSk7CiAgICBpbnRjXzAgLy8gMAogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjMxCiAgICAvLyB0b3RhbF9zdGFrZWQgPSBHbG9iYWxTdGF0ZTxVaW50NjQ+KCk7CiAgICBieXRlYyA1IC8vICJ0b3RhbF9zdGFrZWQiCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6MzE0CiAgICAvLyBjb25zdCBkZWx0YVJQVCA9IG11bERpdlcocmV3YXJkLCBQUkVDSVNJT04sIHRoaXMudG90YWxfc3Rha2VkLnZhbHVlLmFzVWludDY0KCkpOwogICAgYXBwX2dsb2JhbF9nZXRfZXgKICAgIGFzc2VydCAvLyBjaGVjayBHbG9iYWxTdGF0ZSBleGlzdHMKICAgIGJ0b2kKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL2NvbmZpZy5hbGdvLnRzOjI3CiAgICAvLyBhc3NlcnQoYyA+IDAsICJtdWxEaXZXOiBkaXZpc2lvbiBieSB6ZXJvIik7CiAgICBkdXAKICAgIGFzc2VydCAvLyBtdWxEaXZXOiBkaXZpc2lvbiBieSB6ZXJvCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9jb25maWcuYWxnby50czoyOAogICAgLy8gY29uc3QgW2hpLCBsb10gPSBtdWx3KGEsIGIpOwogICAgc3dhcAogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjMxNAogICAgLy8gY29uc3QgZGVsdGFSUFQgPSBtdWxEaXZXKHJld2FyZCwgUFJFQ0lTSU9OLCB0aGlzLnRvdGFsX3N0YWtlZC52YWx1ZS5hc1VpbnQ2NCgpKTsKICAgIGludGMgNCAvLyAxMDAwMDAwMDAwMDAwMDAwCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9jb25maWcuYWxnby50czoyOAogICAgLy8gY29uc3QgW2hpLCBsb10gPSBtdWx3KGEsIGIpOwogICAgbXVsdwogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvY29uZmlnLmFsZ28udHM6MjkKICAgIC8vIHJldHVybiBkaXZ3KGhpLCBsbywgYyk7CiAgICB1bmNvdmVyIDIKICAgIGRpdncKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czozMTUKICAgIC8vIHRoaXMucmV3YXJkX3Blcl90b2tlbi52YWx1ZSA9IG5ldyBVaW50NjQodGhpcy5yZXdhcmRfcGVyX3Rva2VuLnZhbHVlLmFzVWludDY0KCkgKyBkZWx0YVJQVCk7CiAgICBpbnRjXzAgLy8gMAogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjMyCiAgICAvLyByZXdhcmRfcGVyX3Rva2VuID0gR2xvYmFsU3RhdGU8VWludDY0PigpOwogICAgYnl0ZWMgOSAvLyAicmV3YXJkX3Blcl90b2tlbiIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czozMTUKICAgIC8vIHRoaXMucmV3YXJkX3Blcl90b2tlbi52YWx1ZSA9IG5ldyBVaW50NjQodGhpcy5yZXdhcmRfcGVyX3Rva2VuLnZhbHVlLmFzVWludDY0KCkgKyBkZWx0YVJQVCk7CiAgICBhcHBfZ2xvYmFsX2dldF9leAogICAgYXNzZXJ0IC8vIGNoZWNrIEdsb2JhbFN0YXRlIGV4aXN0cwogICAgYnRvaQogICAgKwogICAgaXRvYgogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjMyCiAgICAvLyByZXdhcmRfcGVyX3Rva2VuID0gR2xvYmFsU3RhdGU8VWludDY0PigpOwogICAgYnl0ZWMgOSAvLyAicmV3YXJkX3Blcl90b2tlbiIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czozMTUKICAgIC8vIHRoaXMucmV3YXJkX3Blcl90b2tlbi52YWx1ZSA9IG5ldyBVaW50NjQodGhpcy5yZXdhcmRfcGVyX3Rva2VuLnZhbHVlLmFzVWludDY0KCkgKyBkZWx0YVJQVCk7CiAgICBzd2FwCiAgICBhcHBfZ2xvYmFsX3B1dAogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjMxNgogICAgLy8gdGhpcy5sYXN0X3VwZGF0ZV90aW1lLnZhbHVlID0gbmV3IFVpbnQ2NChjYXBwZWRUaW1lKTsKICAgIGZyYW1lX2RpZyAyCiAgICBpdG9iCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6MzYKICAgIC8vIGxhc3RfdXBkYXRlX3RpbWUgPSBHbG9iYWxTdGF0ZTxVaW50NjQ+KCk7CiAgICBieXRlYyAxMCAvLyAibGFzdF91cGRhdGVfdGltZSIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czozMTYKICAgIC8vIHRoaXMubGFzdF91cGRhdGVfdGltZS52YWx1ZSA9IG5ldyBVaW50NjQoY2FwcGVkVGltZSk7CiAgICBzd2FwCiAgICBhcHBfZ2xvYmFsX3B1dAogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjMxNwogICAgLy8gaWYgKHRoaXMuYWNjcnVlZF9yZXdhcmRzLnZhbHVlLmFzVWludDY0KCkgPT09IHRoaXMudG90YWxfcmV3YXJkcy52YWx1ZS5hc1VpbnQ2NCgpKSB7CiAgICBpbnRjXzAgLy8gMAogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjQzCiAgICAvLyBhY2NydWVkX3Jld2FyZHMgPSBHbG9iYWxTdGF0ZTxVaW50NjQ+KCk7CiAgICBieXRlYyA3IC8vICJhY2NydWVkX3Jld2FyZHMiCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6MzE3CiAgICAvLyBpZiAodGhpcy5hY2NydWVkX3Jld2FyZHMudmFsdWUuYXNVaW50NjQoKSA9PT0gdGhpcy50b3RhbF9yZXdhcmRzLnZhbHVlLmFzVWludDY0KCkpIHsKICAgIGFwcF9nbG9iYWxfZ2V0X2V4CiAgICBhc3NlcnQgLy8gY2hlY2sgR2xvYmFsU3RhdGUgZXhpc3RzCiAgICBidG9pCiAgICBpbnRjXzAgLy8gMAogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjQyCiAgICAvLyB0b3RhbF9yZXdhcmRzID0gR2xvYmFsU3RhdGU8VWludDY0PigpOwogICAgYnl0ZWMgMTMgLy8gInRvdGFsX3Jld2FyZHMiCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6MzE3CiAgICAvLyBpZiAodGhpcy5hY2NydWVkX3Jld2FyZHMudmFsdWUuYXNVaW50NjQoKSA9PT0gdGhpcy50b3RhbF9yZXdhcmRzLnZhbHVlLmFzVWludDY0KCkpIHsKICAgIGFwcF9nbG9iYWxfZ2V0X2V4CiAgICBhc3NlcnQgLy8gY2hlY2sgR2xvYmFsU3RhdGUgZXhpc3RzCiAgICBidG9pCiAgICA9PQogICAgYnogdXBkYXRlUG9vbF9hZnRlcl9pZl9lbHNlQDIwCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6NDUKICAgIC8vIHJld2FyZHNfZXhoYXVzdGVkID0gR2xvYmFsU3RhdGU8VWludDY0PigpOwogICAgYnl0ZWMgMTEgLy8gInJld2FyZHNfZXhoYXVzdGVkIgogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjMxOAogICAgLy8gdGhpcy5yZXdhcmRzX2V4aGF1c3RlZC52YWx1ZSA9IG5ldyBVaW50NjQoMSk7CiAgICBieXRlYyAxNCAvLyAweDAwMDAwMDAwMDAwMDAwMDEKICAgIGFwcF9nbG9iYWxfcHV0Cgp1cGRhdGVQb29sX2FmdGVyX2lmX2Vsc2VAMjA6CiAgICByZXRzdWIKCgovLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6OlN0YWtpbmcucG93MTAoZXhwb25lbnQ6IHVpbnQ2NCkgLT4gdWludDY0Ogpwb3cxMDoKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czo1NTIKICAgIC8vIHByaXZhdGUgcG93MTAoZXhwb25lbnQ6IHVpbnQ2NCk6IHVpbnQ2NCB7CiAgICBwcm90byAxIDEKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czo1NTMKICAgIC8vIGxldCByZXN1bHQ6IHVpbnQ2NCA9IDE7CiAgICBpbnRjXzEgLy8gMQogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjU1NAogICAgLy8gbGV0IGk6IHVpbnQ2NCA9IDA7CiAgICBpbnRjXzAgLy8gMAoKcG93MTBfd2hpbGVfdG9wQDE6CiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6NTU1CiAgICAvLyB3aGlsZSAoaSA8IGV4cG9uZW50KSB7CiAgICBmcmFtZV9kaWcgMQogICAgZnJhbWVfZGlnIC0xCiAgICA8CiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6NTU1LTU1OAogICAgLy8gd2hpbGUgKGkgPCBleHBvbmVudCkgewogICAgLy8gICByZXN1bHQgPSByZXN1bHQgKiAxMDsKICAgIC8vICAgaSA9IGkgKyAxOwogICAgLy8gfQogICAgYnogcG93MTBfYWZ0ZXJfd2hpbGVAMwogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWtpbmcvc3Rha2luZy5hbGdvLnRzOjU1NgogICAgLy8gcmVzdWx0ID0gcmVzdWx0ICogMTA7CiAgICBmcmFtZV9kaWcgMAogICAgcHVzaGludCAxMCAvLyAxMAogICAgKgogICAgZnJhbWVfYnVyeSAwCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3Rha2luZy9zdGFraW5nLmFsZ28udHM6NTU3CiAgICAvLyBpID0gaSArIDE7CiAgICBmcmFtZV9kaWcgMQogICAgaW50Y18xIC8vIDEKICAgICsKICAgIGZyYW1lX2J1cnkgMQogICAgYiBwb3cxMF93aGlsZV90b3BAMQoKcG93MTBfYWZ0ZXJfd2hpbGVAMzoKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFraW5nL3N0YWtpbmcuYWxnby50czo1NTkKICAgIC8vIHJldHVybiByZXN1bHQ7CiAgICByZXRzdWIK",
        "clear": "I3ByYWdtYSB2ZXJzaW9uIDExCiNwcmFnbWEgdHlwZXRyYWNrIGZhbHNlCgovLyBAYWxnb3JhbmRmb3VuZGF0aW9uL2FsZ29yYW5kLXR5cGVzY3JpcHQvYmFzZS1jb250cmFjdC5kLnRzOjpCYXNlQ29udHJhY3QuY2xlYXJTdGF0ZVByb2dyYW0oKSAtPiB1aW50NjQ6Cm1haW46CiAgICBwdXNoaW50IDEgLy8gMQogICAgcmV0dXJuCg=="
    },
    "state": {
        "global": {
            "num_byte_slices": 24,
            "num_uints": 1
        },
        "local": {
            "num_byte_slices": 0,
            "num_uints": 0
        }
    },
    "schema": {
        "global": {
            "declared": {
                "accrued_rewards": {
                    "type": "bytes",
                    "key": "accrued_rewards"
                },
                "admin_address": {
                    "type": "bytes",
                    "key": "admin_address"
                },
                "apr_bps": {
                    "type": "bytes",
                    "key": "apr_bps"
                },
                "contract_state": {
                    "type": "bytes",
                    "key": "contract_state"
                },
                "contract_version": {
                    "type": "bytes",
                    "key": "contract_version"
                },
                "initialized": {
                    "type": "bytes",
                    "key": "initialized"
                },
                "last_update_time": {
                    "type": "bytes",
                    "key": "last_update_time"
                },
                "master_repo_app": {
                    "type": "uint64",
                    "key": "master_repo_app"
                },
                "num_stakers": {
                    "type": "bytes",
                    "key": "num_stakers"
                },
                "platform_fee_bps": {
                    "type": "bytes",
                    "key": "platform_fee_bps"
                },
                "platform_fees_accrued": {
                    "type": "bytes",
                    "key": "platform_fees_accrued"
                },
                "reward_asset_decimals": {
                    "type": "bytes",
                    "key": "reward_asset_decimals"
                },
                "reward_asset_id": {
                    "type": "bytes",
                    "key": "reward_asset_id"
                },
                "reward_per_token": {
                    "type": "bytes",
                    "key": "reward_per_token"
                },
                "reward_rate": {
                    "type": "bytes",
                    "key": "reward_rate"
                },
                "rewards_exhausted": {
                    "type": "bytes",
                    "key": "rewards_exhausted"
                },
                "rewards_paid": {
                    "type": "bytes",
                    "key": "rewards_paid"
                },
                "stake_asset_decimals": {
                    "type": "bytes",
                    "key": "stake_asset_decimals"
                },
                "stake_to_reward_scale_den": {
                    "type": "bytes",
                    "key": "stake_to_reward_scale_den"
                },
                "stake_to_reward_scale_num": {
                    "type": "bytes",
                    "key": "stake_to_reward_scale_num"
                },
                "staked_asset_id": {
                    "type": "bytes",
                    "key": "staked_asset_id"
                },
                "start_time": {
                    "type": "bytes",
                    "key": "start_time"
                },
                "super_admin_address": {
                    "type": "bytes",
                    "key": "super_admin_address"
                },
                "total_rewards": {
                    "type": "bytes",
                    "key": "total_rewards"
                },
                "total_staked": {
                    "type": "bytes",
                    "key": "total_staked"
                }
            },
            "reserved": {}
        },
        "local": {
            "declared": {},
            "reserved": {}
        }
    },
    "contract": {
        "name": "staking",
        "methods": [
            {
                "name": "createApplication",
                "args": [
                    {
                        "type": "address",
                        "name": "adminAddress"
                    },
                    {
                        "type": "uint64",
                        "name": "masterRepoApp"
                    }
                ],
                "readonly": false,
                "returns": {
                    "type": "void"
                }
            },
            {
                "name": "initApplication",
                "args": [
                    {
                        "type": "uint64",
                        "name": "stakedAssetId"
                    },
                    {
                        "type": "uint64",
                        "name": "rewardAssetId"
                    },
                    {
                        "type": "uint64",
                        "name": "rewardAmount"
                    },
                    {
                        "type": "uint64",
                        "name": "aprBps"
                    },
                    {
                        "type": "uint64",
                        "name": "startTime"
                    },
                    {
                        "type": "uint64",
                        "name": "duration"
                    },
                    {
                        "type": "pay",
                        "name": "initialBalanceTxn"
                    }
                ],
                "readonly": false,
                "returns": {
                    "type": "void"
                }
            },
            {
                "name": "fundRewards",
                "args": [
                    {
                        "type": "axfer",
                        "name": "rewardFundingTxn"
                    },
                    {
                        "type": "uint64",
                        "name": "rewardAmount"
                    }
                ],
                "readonly": false,
                "returns": {
                    "type": "void"
                }
            },
            {
                "name": "fundMoreRewards",
                "args": [
                    {
                        "type": "axfer",
                        "name": "rewardFundingTxn"
                    },
                    {
                        "type": "uint64",
                        "name": "rewardAmount"
                    }
                ],
                "readonly": false,
                "returns": {
                    "type": "void"
                }
            },
            {
                "name": "removeRewards",
                "args": [],
                "readonly": false,
                "returns": {
                    "type": "void"
                }
            },
            {
                "name": "setContractActive",
                "args": [],
                "readonly": false,
                "returns": {
                    "type": "void"
                }
            },
            {
                "name": "setContractInactive",
                "args": [],
                "readonly": false,
                "returns": {
                    "type": "void"
                }
            },
            {
                "name": "updateAdminAddress",
                "args": [
                    {
                        "type": "address",
                        "name": "adminAddress"
                    }
                ],
                "readonly": false,
                "returns": {
                    "type": "void"
                }
            },
            {
                "name": "withdrawPlatformFees",
                "args": [
                    {
                        "type": "address",
                        "name": "receiver"
                    }
                ],
                "readonly": false,
                "returns": {
                    "type": "void"
                }
            },
            {
                "name": "stake",
                "args": [
                    {
                        "type": "axfer",
                        "name": "stakeTxn"
                    },
                    {
                        "type": "uint64",
                        "name": "quantity"
                    },
                    {
                        "type": "pay",
                        "name": "mbrTxn"
                    }
                ],
                "readonly": false,
                "returns": {
                    "type": "void"
                }
            },
            {
                "name": "claimRewards",
                "args": [],
                "readonly": false,
                "returns": {
                    "type": "void"
                }
            },
            {
                "name": "unstake",
                "args": [
                    {
                        "type": "uint64",
                        "name": "quantity"
                    }
                ],
                "readonly": false,
                "returns": {
                    "type": "void"
                }
            },
            {
                "name": "deleteApplication",
                "args": [],
                "readonly": false,
                "returns": {
                    "type": "void"
                }
            },
            {
                "name": "gas",
                "args": [],
                "readonly": false,
                "returns": {
                    "type": "void"
                }
            }
        ],
        "networks": {}
    },
    "bare_call_config": {}
}